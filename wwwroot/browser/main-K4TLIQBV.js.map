{"version":3,"sources":["src/app/components/grave-search/grave-search.component.ts","src/app/components/grave-search/grave-search.component.html","src/app/shared/directives/hasRole.directive.ts","src/app/services/email.service.ts","src/app/components/grave-search/grave-search-details/grave-search-details.component.ts","src/app/components/grave-search/grave-search-details/grave-search-details.component.html","src/app/core/guards/auth.guard.ts","src/app/core/guards/admin.guard.ts","src/app/components/story/story.component.ts","src/app/components/story/story.component.html","src/app/components/grave-search/grave-search-details/ar-map/ar-map.component.ts","src/app/components/grave-search/grave-search-details/ar-map/ar-map.component.html","src/app/app.routes.ts","node_modules/@ngx-translate/http-loader/fesm2022/ngx-translate-http-loader.mjs","node_modules/@angular/common/locales/en.mjs","node_modules/@angular/common/locales/fr.mjs","node_modules/@angular/common/locales/ar.mjs","src/app/shared/interceptors/error.interceptor.fn.ts","src/app/shared/interceptors/jwt.interceptor.fn.ts","src/app/core/services/title.strategy.ts","src/app/app.config.ts","src/app/shared/header/header.component.ts","src/app/shared/header/header.component.html","package.json","src/app/shared/footer/footer.component.ts","src/app/shared/footer/footer.component.html","src/app/app.component.ts","src/app/app.component.html","src/main.ts"],"sourcesContent":["import { Component, OnInit, PLATFORM_ID, Inject } from '@angular/core';\nimport {\n  CommonModule,\n  isPlatformBrowser,\n  isPlatformServer,\n} from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { TranslateModule, TranslateService } from '@ngx-translate/core';\nimport { RouterModule } from '@angular/router';\nimport { Grave } from '../../core/models/grave.model';\nimport { Pagination } from '../../core/models/pagination.model';\nimport { GraveService } from '../../core/services/grave.service';\nimport { ZskService } from '../../core/services/zsk.service';\nimport { ZGender, ZZone, ZGraveType } from '../../core/models/zsk.model';\nimport { GenderComponent } from '../../shared/components/zsk/gender/gender.component';\nimport { ZoneComponent } from '../../shared/components/zsk/zone/zone.component';\nimport { GraveTypeComponent } from '../../shared/components/zsk/grave-type/grave-type.component';\nimport { DatePickerComponent } from '../../shared/components/date-picker/date-picker.component';\nimport { LabelComponent } from '../../shared/components/label/label.component';\nimport {\n  ControlsOf,\n  FormBuilder,\n  FormControl,\n  FormGroup,\n} from '@ngneat/reactive-forms';\nimport { GraveSearchForm } from '../../core/models/grave-search.model';\nimport { GraveType } from '../../core/enum/grave-type.enum';\n\n@Component({\n  selector: 'app-grave-search',\n  standalone: true,\n  imports: [\n    CommonModule,\n    FormsModule,\n    TranslateModule,\n    RouterModule,\n    GenderComponent,\n    ZoneComponent,\n    GraveTypeComponent,\n    DatePickerComponent,\n    LabelComponent,\n    ReactiveFormsModule,\n  ],\n  templateUrl: './grave-search.component.html',\n  styleUrls: ['./grave-search.component.scss'],\n})\nexport class GraveSearchComponent implements OnInit {\n  graves: Grave[] = [];\n  pagination: Pagination = {\n    currentPage: 1,\n    itemsPerPage: 6,\n    totalItems: 0,\n    totalPages: 0,\n  };\n  loading = false;\n  noResults = false;\n  currentLang: string;\n  form!: FormGroup<ControlsOf<GraveSearchForm>>;\n\n  // Advanced search properties\n  showAdvancedSearch = false;\n\n  constructor(\n    private graveService: GraveService,\n    public translateService: TranslateService,\n    @Inject(PLATFORM_ID) private platformId: Object,\n    private fb: FormBuilder\n  ) {\n    this.currentLang =\n      this.translateService.currentLang ||\n      this.translateService.defaultLang ||\n      'en';\n    this.translateService.onLangChange.subscribe((event) => {\n      this.currentLang = event.lang;\n    });\n  }\n\n  ngOnInit(): void {\n    // Only load initial graves if we're in the browser\n    if (isPlatformBrowser(this.platformId)) {\n      this.initForm();\n      this.loadGraves();\n    } else if (isPlatformServer(this.platformId)) {\n      // On server, initialize with empty data but valid structure\n      // This prevents \"undefined\" errors during SSR\n      this.graves = [];\n      this.initForm();\n      this.pagination = {\n        currentPage: 1,\n        itemsPerPage: this.pagination.itemsPerPage,\n        totalItems: 0,\n        totalPages: 0,\n      };\n    }\n  }\n\n  initForm() {\n    this.form = this.fb.group({\n      searchTerm: new FormControl(''),\n      gender: new FormControl(undefined),\n      zone: new FormControl(undefined),\n      graveType: new FormControl(GraveType.WellKnown),\n      birthDate: new FormControl(undefined),\n      deathDate: new FormControl(undefined),\n    });\n  }\n\n  loadGraves() {\n    this.loading = true;\n    this.noResults = false;\n    this.graveService\n      .getGravePaginationWithFilter(\n        this.pagination.currentPage,\n        this.pagination.itemsPerPage,\n        true,\n        this.form.controls.searchTerm.value,\n        // this.sortColumn,\n        // this.sortDirection,\n        this.form.controls.gender.value,\n        this.form.controls.zone.value,\n        this.form.controls.graveType.value,\n        this.form.controls.birthDate.value,\n        this.form.controls.deathDate.value\n      )\n      .subscribe({\n        next: (response: any) => {\n          if (response.result?.data && response.result.data.length > 0) {\n            this.graves = response.result.data;\n\n            // Ensure pagination data is properly handled for SSR\n            if (response.pagination) {\n              // Create a new pagination object to ensure state update\n              this.pagination = {\n                currentPage: response.pagination.currentPage || 1,\n                itemsPerPage:\n                  response.pagination.itemsPerPage ||\n                  this.pagination.itemsPerPage,\n                totalItems: response.pagination.totalItems || 0,\n                totalPages: response.pagination.totalPages || 0,\n              };\n            }\n\n            this.noResults = false;\n          } else {\n            this.graves = [];\n            this.noResults = true;\n          }\n          this.loading = false;\n        },\n        error: (error: any) => {\n          console.error('Error fetching graves:', error);\n          this.loading = false;\n          this.noResults = true;\n        },\n      });\n  }\n\n  search() {\n    this.pagination.currentPage = 1; // Reset to first page on new search\n    this.loadGraves();\n  }\n\n  toggleAdvancedSearch() {\n    this.showAdvancedSearch = !this.showAdvancedSearch;\n  }\n\n  applyFilters() {\n    this.pagination.currentPage = 1; // Reset to first page when applying filters\n    this.loadGraves();\n  }\n\n  resetFilters() {\n    const currentSearchTerm = this.form.controls.searchTerm.value;\n    this.form.reset({\n      searchTerm: undefined,\n      gender: undefined,\n      zone: undefined,\n      graveType: GraveType.WellKnown,\n      birthDate: undefined,\n      deathDate: undefined,\n    });\n    this.pagination.currentPage = 1;\n    this.loadGraves();\n  }\n\n  pageChanged(event: number) {\n    this.pagination.currentPage = event;\n    this.loadGraves();\n    // Scroll to top when changing pages with smooth behavior\n    if (isPlatformBrowser(this.platformId)) {\n      window.scrollTo({\n        top: 0,\n        left: 0,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  isArabicLanguage(): boolean {\n    return this.currentLang === 'ar';\n  }\n\n  /**\n   * Returns an array of page numbers to display in pagination\n   * Shows a window of pages around the current page\n   */\n  getPageRange(): number[] {\n    // During SSR or if pagination isn't available, return empty array\n    if (isPlatformServer(this.platformId) || !this.pagination) return [];\n\n    const totalPages = this.pagination.totalPages || 0;\n    const currentPage = this.pagination.currentPage || 1;\n\n    // Return empty array if we have invalid pagination data\n    if (totalPages <= 0) return [];\n\n    const range: number[] = [];\n\n    // Always show at least 5 pages if available\n    const visiblePages = 5;\n\n    // Calculate start and end of the page range\n    let start = Math.max(1, currentPage - Math.floor(visiblePages / 2));\n    let end = Math.min(totalPages, start + visiblePages - 1);\n\n    // Adjust start if we're near the end\n    if (end === totalPages) {\n      start = Math.max(1, end - visiblePages + 1);\n    }\n\n    // Build the page range array\n    for (let i = start; i <= end; i++) {\n      range.push(i);\n    }\n\n    return range;\n  }\n\n  /**\n   * Returns a formatted string showing the current display range\n   * Example: \"Showing 1 to 10 of 100 results\"\n   */\n  getDisplayedRange(): string {\n    // Check for server-side rendering\n    if (isPlatformServer(this.platformId)) {\n      return '';\n    }\n\n    // Check for data availability\n    if (!this.pagination || this.graves.length === 0 || this.loading) {\n      return this.loading\n        ? this.translateService.instant('SEARCH.LOADING_RESULTS')\n        : this.translateService.instant('SEARCH.NO_ITEMS');\n    }\n\n    // Safely access pagination values\n    const currentPage = this.pagination.currentPage || 1;\n    const itemsPerPage = this.pagination.itemsPerPage || 6;\n    const totalItems = this.pagination.totalItems || 0;\n\n    // Calculate range\n    const startItem = (currentPage - 1) * itemsPerPage + 1;\n    const endItem = Math.min(startItem + this.graves.length - 1, totalItems);\n\n    return `${startItem} - ${endItem} ${this.translateService.instant(\n      'SEARCH.OF'\n    )} ${totalItems} ${this.translateService.instant('SEARCH.RESULTS')}`;\n  }\n\n  /**\n   * Returns an array of page numbers to display in pagination\n   * Shows a window of pages around the current page, with ellipsis for skipped pages\n   */\n  getPageNumbers(): (number | -1)[] {\n    // During SSR or if pagination isn't available, return empty array\n    if (isPlatformServer(this.platformId) || !this.pagination) return [];\n\n    const totalPages = this.pagination.totalPages || 0;\n    const currentPage = this.pagination.currentPage || 1;\n\n    // Return empty array if we have invalid pagination data\n    if (totalPages <= 0) return [];\n\n    const pages: (number | -1)[] = [];\n\n    // Always include first page, last page, current page, and pages immediately before and after current\n    const pagesToShow = new Set<number>();\n    pagesToShow.add(1); // First page\n    pagesToShow.add(totalPages); // Last page\n    pagesToShow.add(currentPage); // Current page\n\n    // Pages around current\n    if (currentPage > 1) pagesToShow.add(currentPage - 1);\n    if (currentPage < totalPages) pagesToShow.add(currentPage + 1);\n\n    // Add additional page on each side if space allows\n    if (currentPage > 2) pagesToShow.add(currentPage - 2);\n    if (currentPage < totalPages - 1) pagesToShow.add(currentPage + 2);\n\n    // Convert to sorted array\n    const sortedPages = Array.from(pagesToShow).sort((a, b) => a - b);\n\n    // Add ellipsis where needed\n    for (let i = 0; i < sortedPages.length; i++) {\n      if (i > 0 && sortedPages[i] > sortedPages[i - 1] + 1) {\n        pages.push(-1); // Add ellipsis\n      }\n      pages.push(sortedPages[i]);\n    }\n\n    return pages;\n  }\n}\n","<div class=\"min-h-screen\">\n  <div class=\"py-12 sm:py-20\">\n    <div class=\"mx-auto max-w-7xl px-6 lg:px-8\">\n      <!-- Hero Section -->\n      <div class=\"text-center mb-16\">\n        <h1\n          class=\"text-4xl font-bold tracking-tight text-gray-900 dark:text-gray-100 sm:text-6xl\"\n        >\n          {{ \"SEARCH.TITLE\" | translate }}\n        </h1>\n        <p class=\"mt-6 text-lg leading-8 text-gray-600 dark:text-gray-300\">\n          {{ \"APP.TAGLINE\" | translate }}\n        </p>\n      </div>\n\n      <!-- Search Box -->\n      <div class=\"mx-auto max-w-2xl\">\n        <div class=\"flex rounded-md shadow-sm\">\n          <input\n            type=\"text\"\n            name=\"searchTerm\"\n            id=\"searchTerm\"\n            [formControl]=\"form.controls.searchTerm\"\n            class=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-arabic-green focus:border-arabic-green dark:bg-gray-700 dark:text-white bg-white\"\n            placeholder=\"{{ 'SEARCH.PLACEHOLDER' | translate }}\"\n            (keyup.enter)=\"search()\"\n          />\n          <button\n            type=\"button\"\n            (click)=\"search()\"\n            class=\"rounded-r-md bg-arabic-green py-4 px-6 text-md font-semibold text-white hover:bg-opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-arabic-green cursor-pointer\"\n          >\n            {{ \"SEARCH.BUTTON\" | translate }}\n          </button>\n        </div>\n        <div class=\"mt-4 text-right\">\n          <button\n            type=\"button\"\n            (click)=\"toggleAdvancedSearch()\"\n            class=\"text-sm text-arabic-green hover:underline focus:outline-none cursor-pointer\"\n          >\n            {{\n              showAdvancedSearch\n                ? (\"SEARCH.HIDE_ADVANCED_SEARCH\" | translate)\n                : (\"SEARCH.ADVANCED_SEARCH\" | translate)\n            }}\n          </button>\n        </div>\n      </div>\n\n      <!-- Advanced Search Filters -->\n      <div *ngIf=\"showAdvancedSearch\" class=\"mt-8 mx-auto max-w-4xl\">\n        <form [formGroup]=\"form\" *ngIf=\"form\">\n          <div class=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6\">\n            <h3\n              class=\"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4\"\n            >\n              {{ \"SEARCH.ADVANCED_SEARCH\" | translate }}\n            </h3>\n\n            <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n              <!-- Gender Filter -->\n              <div>\n                <app-gender\n                  id=\"genderFilter\"\n                  name=\"genderFilter\"\n                  [formControl]=\"form.controls.gender\"\n                  label=\"GRAVE.GENDER\"\n                ></app-gender>\n              </div>\n\n              <!-- Zone Filter -->\n              <div>\n                <app-zone\n                  id=\"zoneFilter\"\n                  name=\"zoneFilter\"\n                  [formControl]=\"form.controls.zone\"\n                  label=\"GRAVE.ZONE\"\n                ></app-zone>\n              </div>\n\n              <!-- Grave Type Filter -->\n              <div>\n                <app-grave-type\n                  id=\"graveTypeFilter\"\n                  name=\"graveTypeFilter\"\n                  [formControl]=\"form.controls.graveType\"\n                  label=\"GRAVE_FORM.GRAVE_TYPE\"\n                ></app-grave-type>\n              </div>\n            </div>\n\n            <!-- Date Filters - Full Row -->\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\n              <!-- Date of Birth Filter -->\n              <div>\n                <label\n                  for=\"birthDateFilter\"\n                  class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\"\n                >\n                  {{ \"GRAVE.BIRTH\" | translate }}\n                </label>\n                <app-date-picker\n                  [formControl]=\"form.controls.birthDate\"\n                ></app-date-picker>\n              </div>\n\n              <!-- Date of Death Filter -->\n              <div>\n                <label\n                  for=\"deathDateFilter\"\n                  class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\"\n                >\n                  {{ \"GRAVE.DEATH\" | translate }}\n                </label>\n                <app-date-picker\n                  [formControl]=\"form.controls.deathDate\"\n                ></app-date-picker>\n              </div>\n            </div>\n\n            <!-- Filter Actions -->\n            <div class=\"flex justify-end mt-4 space-x-3\">\n              <button\n                (click)=\"resetFilters()\"\n                class=\"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-arabic-green cursor-pointer\"\n              >\n                {{ \"FILTER.RESET\" | translate }}\n              </button>\n              <button\n                (click)=\"applyFilters()\"\n                class=\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-arabic-green hover:bg-opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-arabic-green cursor-pointer\"\n              >\n                {{ \"FILTER.APPLY\" | translate }}\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n\n      <!-- Loading Indicator -->\n      <div *ngIf=\"loading\" class=\"mt-12 text-center\">\n        <div\n          class=\"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-arabic-green border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]\"\n        ></div>\n        <p class=\"mt-4 text-gray-600 dark:text-gray-400\">\n          {{ \"SEARCH.LOADING\" | translate }}\n        </p>\n      </div>\n\n      <!-- No Results Message -->\n      <div *ngIf=\"noResults && !loading\" class=\"mt-12 text-center\">\n        <p class=\"text-lg text-gray-600 dark:text-gray-400\">\n          {{ \"SEARCH.NO_RESULTS\" | translate }}\n        </p>\n      </div>\n\n      <!-- Search Results -->\n      <div *ngIf=\"graves.length > 0 && !loading\" class=\"mt-12\">\n        <h2 class=\"text-2xl font-bold mb-6 text-gray-900 dark:text-gray-100\">\n          {{ \"SEARCH.RESULTS\" | translate }}\n        </h2>\n\n        <!-- Grid Layout for Cards -->\n        <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          <div\n            *ngFor=\"let grave of graves\"\n            class=\"flex flex-col rounded-lg shadow-md overflow-hidden hover:shadow-lg transition duration-300 bg-white dark:bg-gray-700\"\n          >\n            <!-- Card Image -->\n            <div\n              *ngIf=\"grave.imageURLBase64\"\n              class=\"h-48 w-full bg-gray-100 dark:bg-gray-800 overflow-hidden\"\n            >\n              <img\n                [src]=\"'data:image/jpg;base64,' + grave.imageURLBase64\"\n                [alt]=\"grave.fullNameEn\"\n                class=\"w-full h-full object-cover\"\n              />\n            </div>\n            <div\n              *ngIf=\"!grave.imageURLBase64\"\n              class=\"h-48 w-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center\"\n            >\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                class=\"h-20 w-20 text-gray-400\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  stroke-linecap=\"round\"\n                  stroke-linejoin=\"round\"\n                  stroke-width=\"1\"\n                  d=\"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z\"\n                />\n              </svg>\n            </div>\n\n            <!-- Card Content -->\n            <div class=\"flex-grow p-5 flex flex-col\">\n              <p\n                *ngIf=\"grave.refID\"\n                class=\"text-xl font-medium text-arabic-green mb-2\"\n              >\n                {{ grave.refID }}\n              </p>\n\n              <!-- Name display based on language -->\n              <ng-container *ngIf=\"isArabicLanguage(); else englishPrimary\">\n                <!-- Arabic is primary, English is secondary -->\n                <h3\n                  class=\"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2 text-right\"\n                  dir=\"rtl\"\n                >\n                  {{ grave.fullNameAr }}\n                </h3>\n                <p class=\"text-gray-600 dark:text-gray-300 mb-3\">\n                  {{ grave.fullNameEn }}\n                </p>\n              </ng-container>\n              <ng-template #englishPrimary>\n                <!-- English is primary, Arabic is secondary -->\n                <h3\n                  class=\"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2\"\n                >\n                  {{ grave.fullNameEn }}\n                </h3>\n                <p\n                  class=\"text-gray-600 dark:text-gray-300 mb-3 text-right\"\n                  dir=\"rtl\"\n                >\n                  {{ grave.fullNameAr }}\n                </p>\n              </ng-template>\n\n              <div\n                class=\"text-sm text-gray-500 dark:text-gray-400 space-y-1 mb-3\"\n              >\n                <p *ngIf=\"grave.dateOfBirth\">\n                  {{ \"GRAVE.BIRTH\" | translate }}:\n                  {{ grave.dateOfBirth | date }}\n                </p>\n                <p *ngIf=\"grave.dateOfDeath\">\n                  {{ \"GRAVE.DEATH\" | translate }}:\n                  {{ grave.dateOfDeath | date }}\n                </p>\n                <p *ngIf=\"grave.zGender\">\n                  {{ \"GRAVE.GENDER\" | translate }}:\n                  {{\n                    isArabicLanguage()\n                      ? grave.zGender.nameAr\n                      : grave.zGender.nameEn\n                  }}\n                </p>\n                <p *ngIf=\"grave.zZone\">\n                  {{ \"GRAVE.ZONE\" | translate }}:\n                  {{\n                    isArabicLanguage() ? grave.zZone.nameAr : grave.zZone.nameEn\n                  }}\n                </p>\n                <p *ngIf=\"grave.zGraveType\">\n                  {{ \"GRAVE_FORM.GRAVE_TYPE\" | translate }}:\n                  {{\n                    isArabicLanguage()\n                      ? grave.zGraveType.nameAr\n                      : grave.zGraveType.nameEn\n                  }}\n                </p>\n              </div>\n\n              <!-- <div *ngIf=\"grave.description\" class=\"mb-4\">\n                <p class=\"text-gray-700 dark:text-gray-300 line-clamp-2\">\n                  {{\n                    isArabicLanguage() ? grave.description : grave.descriptionEn\n                  }}\n                </p>\n              </div> -->\n\n              <div class=\"mt-auto\">\n                <a\n                  [routerLink]=\"['/search', grave.graveId]\"\n                  class=\"inline-block w-full text-center bg-emerald-600 text-white py-2 px-4 rounded text-sm font-medium hover:bg-emerald-700 transition-colors\"\n                >\n                  {{ \"GRAVE.VIEW_DETAILS\" | translate }}\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Pagination -->\n        <div\n          *ngIf=\"\n            pagination &&\n            pagination.totalPages > 0 &&\n            pagination.totalItems > 0 &&\n            !loading &&\n            graves.length > 0\n          \"\n          class=\"mt-10\"\n        >\n          <div\n            class=\"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between\"\n          >\n            <div>\n              <p class=\"text-sm text-gray-700 dark:text-gray-300\">\n                {{ getDisplayedRange() }}\n              </p>\n            </div>\n            <div>\n              <nav\n                class=\"isolate inline-flex rounded-md shadow-sm\"\n                aria-label=\"Pagination\"\n              >\n                <!-- Previous -->\n                <button\n                  (click)=\"pageChanged(pagination.currentPage - 1)\"\n                  [disabled]=\"pagination.currentPage === 1\"\n                  class=\"relative inline-flex items-center cursor-pointer bg-white dark:bg-gray-700 rounded-s-md px-2 py-2 text-gray-400 dark:text-gray-500 ring-1 ring-inset ring-gray-300 dark:ring-gray-600 hover:bg-gray-50 hover:text-arabic-green dark:hover:bg-gray-800 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  <span class=\"sr-only\">{{\n                    \"SEARCH.PREVIOUS\" | translate\n                  }}</span>\n                  <svg\n                    class=\"h-5 w-5 rtl:rotate-180\"\n                    viewBox=\"0 0 20 20\"\n                    fill=\"currentColor\"\n                    aria-hidden=\"true\"\n                  >\n                    <path\n                      fill-rule=\"evenodd\"\n                      d=\"M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z\"\n                      clip-rule=\"evenodd\"\n                    />\n                  </svg>\n                </button>\n\n                <!-- Page numbers -->\n                <ng-container *ngFor=\"let page of getPageNumbers()\">\n                  <button\n                    *ngIf=\"page !== -1\"\n                    (click)=\"pageChanged(page)\"\n                    [disabled]=\"page === pagination.currentPage\"\n                    [ngClass]=\"{\n                      'bg-emerald-100 dark:bg-emerald-800 text-gray-900 dark:text-white': page === pagination.currentPage,\n                      'bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-800 hover:text-arabic-green': page !== pagination.currentPage\n                    }\"\n                    class=\"relative inline-flex cursor-pointer items-center px-4 py-2 text-sm font-semibold ring-1 ring-inset ring-gray-300 dark:ring-gray-600 focus:z-20 focus:outline-offset-0 transition-colors disabled:cursor-not-allowed\"\n                  >\n                    {{ page }}\n                  </button>\n                  <span\n                    *ngIf=\"page === -1\"\n                    class=\"relative inline-flex items-center bg-white dark:bg-gray-700 px-4 py-2 text-sm font-semibold text-gray-700 dark:text-gray-300 ring-1 ring-inset ring-gray-300 dark:ring-gray-600\"\n                  >\n                    ...\n                  </span>\n                </ng-container>\n\n                <!-- Next -->\n                <button\n                  (click)=\"pageChanged(pagination.currentPage + 1)\"\n                  [disabled]=\"pagination.currentPage === pagination.totalPages\"\n                  class=\"relative inline-flex cursor-pointer bg-white dark:bg-gray-700 items-center rounded-e-md px-2 py-2 text-gray-400 dark:text-gray-500 ring-1 ring-inset ring-gray-300 dark:ring-gray-600 hover:bg-gray-50 hover:text-arabic-green dark:hover:bg-gray-800 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  <span class=\"sr-only\">{{ \"SEARCH.NEXT\" | translate }}</span>\n                  <svg\n                    class=\"h-5 w-5 rtl:rotate-180\"\n                    viewBox=\"0 0 20 20\"\n                    fill=\"currentColor\"\n                    aria-hidden=\"true\"\n                  >\n                    <path\n                      fill-rule=\"evenodd\"\n                      d=\"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z\"\n                      clip-rule=\"evenodd\"\n                    />\n                  </svg>\n                </button>\n              </nav>\n            </div>\n          </div>\n\n          <!-- Mobile pagination (simplified) -->\n          <div class=\"flex justify-center sm:hidden mt-4\">\n            <nav class=\"flex gap-2\" aria-label=\"Pagination\">\n              <button\n                (click)=\"pageChanged(pagination.currentPage - 1)\"\n                [disabled]=\"pagination.currentPage === 1\"\n                class=\"relative inline-flex items-center rounded-md px-3 py-2 text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 hover:text-arabic-green dark:hover:bg-gray-800 focus:z-20 focus:outline-none transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                <svg\n                  class=\"h-5 w-5 rtl:rotate-180\"\n                  viewBox=\"0 0 20 20\"\n                  fill=\"currentColor\"\n                  aria-hidden=\"true\"\n                >\n                  <path\n                    fill-rule=\"evenodd\"\n                    d=\"M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z\"\n                    clip-rule=\"evenodd\"\n                  />\n                </svg>\n              </button>\n              <p class=\"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-0\">\n                {{ pagination.currentPage }} / {{ pagination.totalPages }}\n              </p>\n              <button\n                (click)=\"pageChanged(pagination.currentPage + 1)\"\n                [disabled]=\"pagination.currentPage === pagination.totalPages\"\n                class=\"relative inline-flex items-center rounded-md px-3 py-2 text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 hover:text-arabic-green dark:hover:bg-gray-800 focus:z-20 focus:outline-none transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                <svg\n                  class=\"h-5 w-5 rtl:rotate-180\"\n                  viewBox=\"0 0 20 20\"\n                  fill=\"currentColor\"\n                  aria-hidden=\"true\"\n                >\n                  <path\n                    fill-rule=\"evenodd\"\n                    d=\"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z\"\n                    clip-rule=\"evenodd\"\n                  />\n                </svg>\n              </button>\n            </nav>\n          </div>\n        </div>\n      </div>\n\n      <!-- Features Section -->\n      <!-- <div class=\"mt-20\">\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n          <div\n            class=\"bg-gray-50 dark:bg-gray-800 rounded-lg p-6 hover:shadow-lg transition duration-300\"\n          >\n            <h2\n              class=\"text-xl font-semibold mb-3 text-gray-900 dark:text-gray-100\"\n            >\n              {{ \"CEMETERY_MAP.TITLE\" | translate }}\n            </h2>\n            <p class=\"text-gray-600 dark:text-gray-300 mb-4\">\n              {{ \"CEMETERY_MAP.INSTRUCTIONS\" | translate }}\n            </p>\n            <a href=\"#\" class=\"text-arabic-green hover:underline\"\n              >{{ \"MENU.CEMETERY_MAP\" | translate }} →</a\n            >\n          </div>\n\n          <div\n            class=\"bg-gray-50 dark:bg-gray-800 rounded-lg p-6 hover:shadow-lg transition duration-300\"\n          >\n            <h2\n              class=\"text-xl font-semibold mb-3 text-gray-900 dark:text-gray-100\"\n            >\n              {{ \"MEMORIAL_SERVICES.TITLE\" | translate }}\n            </h2>\n            <p class=\"text-gray-600 dark:text-gray-300 mb-4\">\n              {{ \"MEMORIAL_SERVICES.DESCRIPTION\" | translate }}\n            </p>\n            <a href=\"#\" class=\"text-arabic-green hover:underline\"\n              >{{ \"MENU.MEMORIAL_SERVICES\" | translate }} →</a\n            >\n          </div>\n\n          <div\n            class=\"bg-gray-50 dark:bg-gray-800 rounded-lg p-6 hover:shadow-lg transition duration-300\"\n          >\n            <h2\n              class=\"text-xl font-semibold mb-3 text-gray-900 dark:text-gray-100\"\n            >\n              {{ \"ABOUT_US.TITLE\" | translate }}\n            </h2>\n            <p class=\"text-gray-600 dark:text-gray-300 mb-4\">\n              {{ \"ABOUT_US.MISSION\" | translate }}\n            </p>\n            <a href=\"#\" class=\"text-arabic-green hover:underline\"\n              >{{ \"MENU.ABOUT_US\" | translate }} →</a\n            >\n          </div>\n        </div>\n      </div> -->\n    </div>\n  </div>\n</div>\n","import {\n  Directive,\n  Input,\n  ViewContainerRef,\n  TemplateRef,\n  OnInit,\n  OnDestroy\n} from \"@angular/core\";\nimport { take, takeUntil } from \"rxjs/operators\";\nimport { Subject } from \"rxjs\";\nimport { AuthService } from \"../../core/services/auth.service\";\nimport { UserInfo } from \"../../core/models/user.model\";\n\n@Directive({\n  selector: \"[appHasRole]\",\n  standalone: true\n})\nexport class HasRoleDirective implements OnInit, OnDestroy {\n  @Input() appHasRole: string[] = [];\n  isVisible = false;\n  private destroy$ = new Subject<void>();\n\n  constructor(\n    private viewContainerRef: ViewContainerRef,\n    private templateRef: TemplateRef<any>,\n    private authService: AuthService\n  ) {}\n\n  ngOnInit(): void {\n    // Initial check with user state\n    this.authService.currentUser$\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(this.updateView.bind(this));\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  private updateView(user: UserInfo | null | undefined): void {\n    // Clear view initially\n    this.viewContainerRef.clear();\n\n    // Check if user is logged in and has a token\n    if (user?.token) {\n      // Check if any of the required roles match the user's roles\n      if (this.appHasRole && this.appHasRole.length > 0) {\n        // Check if user has any of the required roles\n        const hasRequiredRole = this.appHasRole.some(role =>\n          user.role.some((userRole: string) => userRole === role)\n        );\n\n        if (hasRequiredRole && !this.isVisible) {\n          this.isVisible = true;\n          this.viewContainerRef.createEmbeddedView(this.templateRef);\n        }\n      }\n    } else if (this.isVisible) {\n      // User is not logged in, hide content\n      this.isVisible = false;\n      this.viewContainerRef.clear();\n    }\n  }\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { SendGraveEmailDto } from '../models/send-grave-email.model';\nimport { environment } from '../../environments/environment';\nimport { GenericResponse } from '../core/models/pagination.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EmailService {\n  private apiUrl = `${environment.apiUrl}Email/`;\n\n  constructor(private http: HttpClient) { }\n\n  /**\n   * Sends an email with grave suggestions or feedback\n   * @param emailData The grave email data containing ID and additional message\n   * @returns Observable of the API response\n   */\n  sendGraveEmail(emailData: SendGraveEmailDto): Observable<GenericResponse<any>> {\n    return this.http.post<GenericResponse<any>>(`${this.apiUrl}SendGraveEmail`, emailData);\n  }\n}\n","import { Component, OnInit, Inject, PLATFORM_ID } from '@angular/core';\nimport { isPlatformBrowser, Location } from '@angular/common';\nimport { ActivatedRoute, RouterModule, Router } from '@angular/router';\nimport { TranslateService, TranslateModule } from '@ngx-translate/core';\nimport { Grave } from '../../../core/models/grave.model';\nimport { GenericResponse } from '../../../core/models/pagination.model';\nimport { GraveService } from '../../../core/services/grave.service';\nimport { CommonModule, DatePipe } from '@angular/common';\nimport { GoogleMapsModule } from '@angular/google-maps';\nimport { GoogleMapsApiService } from '../../../core/services/google-maps-api.service';\nimport { ArMapComponent } from './ar-map/ar-map.component';\nimport { HasRoleDirective } from '../../../shared/directives/hasRole.directive';\nimport { FormGroup, FormBuilder, Validators, ReactiveFormsModule } from '@angular/forms';\nimport { EmailService } from '../../../services/email.service';\nimport { SendGraveEmailDto } from '../../../models/send-grave-email.model';\nimport { TextAreaComponent } from '../../../shared/components/text-area/text-area.component';\n\n@Component({\n  selector: 'app-grave-search-details',\n  standalone: true,\n  imports: [\n    CommonModule,\n    DatePipe,\n    RouterModule,\n    GoogleMapsModule,\n    TranslateModule,\n    HasRoleDirective,\n    ReactiveFormsModule,\n    TextAreaComponent\n  ],\n  templateUrl: './grave-search-details.component.html',\n  styleUrl: './grave-search-details.component.scss',\n  providers: [GraveService]\n})\nexport class GraveSearchDetailsComponent implements OnInit {\n  // For zoomable image modal\n  modalImageSrc: string | null = null;\n  modalImageAlt: string = '';\n  // isImageModalOpen = false;\n\n  // Google Maps configuration\n  center: google.maps.LatLngLiteral = { lat: 0, lng: 0 };\n  zoom = 20;\n  markerPosition: google.maps.LatLngLiteral = { lat: 0, lng: 0 };\n  markerOptions: any = { draggable: false };\n  mapOptions: any = {\n    mapTypeId: 'satellite',\n    zoomControl: true,\n    scrollwheel: true,\n    disableDoubleClickZoom: true,\n    maxZoom: 20,\n    minZoom: 8,\n    mapId: 'GRAVE_MAP' // Required for advanced markers\n  };\n\n\n  grave: Grave | null = null;\n  loading = true;\n  error: string | null = null;\n  apiLoaded = false; // Flag to track Google Maps API loading status\n  isBrowser: boolean;\n  isImageModalOpen = false; // Flag to control the image modal visibility\n  showARMap = false; // Flag to toggle AR map view\n\n  // Suggestion modal properties\n  isSuggestionModalOpen = false;\n  suggestionForm: FormGroup;\n  isSubmitting = false;\n  submitted = false;\n  showSuccessToast = false;\n  showErrorToast = false;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private location: Location,\n    private graveService: GraveService,\n    private mapsApiService: GoogleMapsApiService,\n    public translate: TranslateService,\n    @Inject(PLATFORM_ID) private platformId: Object,\n    private formBuilder: FormBuilder,\n    private emailService: EmailService\n  ) {\n    this.isBrowser = isPlatformBrowser(this.platformId);\n\n    // Initialize suggestion form with validators\n    this.suggestionForm = this.formBuilder.group({\n      additionalMessage: ['', [Validators.required, Validators.minLength(10), Validators.maxLength(1000)]]\n    });\n  }\n\n  ngOnInit(): void {\n    this.loading = true;\n\n    // Get the grave ID from the route\n    const id = String(this.route.snapshot.paramMap.get(\"id\"));\n    // if (!id) {\n    //   this.error = \"Invalid grave ID\";\n    //   this.loading = false;\n    //   return;\n    // }\n\n    // Always get grave details\n    this.getGraveDetails(id);\n\n    // Only load Google Maps in browser environment\n    if (this.isBrowser) {\n      this.loadGoogleMaps();\n    } else {\n      // Mark as not loaded in server environment\n      this.apiLoaded = false;\n    }\n  }\n\n  loadGoogleMaps(): void {\n    this.mapsApiService.loadApi()\n      .then(() => {\n        this.apiLoaded = true;\n        // Now that the API is loaded, we can safely use Google Maps types\n        if (this.isBrowser && google && google.maps) {\n          this.markerOptions.animation = google.maps.Animation.DROP;\n        }\n\n        // Initialize map if grave details are already loaded\n        if (this.grave && this.grave.latitude && this.grave.longitude) {\n          this.initializeMap();\n        }\n      })\n      .catch(err => {\n        console.error('Error loading Google Maps API:', err);\n        this.error = \"Failed to load Google Maps\";\n      });\n  }\n\n  getGraveDetails(id: string): void {\n    this.graveService.getGraveById(id).subscribe({\n      next: (response: GenericResponse<Grave>) => {\n        this.grave = response.data;\n        this.loading = false;\n\n        if (this.isBrowser && this.apiLoaded && this.grave && this.grave.latitude && this.grave.longitude) {\n          this.initializeMap();\n        }\n      },\n      error: (err: any) => {\n        console.error(\"Error fetching grave details:\", err);\n        this.error = \"Failed to load grave details\";\n        this.loading = false;\n      }\n    });\n  }\n\n  // Method to open zoomable image modal for grave/certificates\n  openImageModal(type: 'grave' | 'death' | 'body') {\n    if (!this.grave) return;\n    if (type === 'grave' && this.grave.imageURLBase64) {\n      this.modalImageSrc = 'data:image/jpg;base64,' + this.grave.imageURLBase64;\n      this.modalImageAlt = this.translate.currentLang === 'ar' ? this.grave.fullNameAr : this.grave.fullNameEn;\n      this.isImageModalOpen = true;\n    } else if (type === 'death' && this.grave.deathCertificateImageURLBase64) {\n      this.modalImageSrc = 'data:image/jpeg;base64,' + this.grave.deathCertificateImageURLBase64;\n      this.modalImageAlt = this.translate.instant('GRAVE_DETAILS.DEATH_CERTIFICATE');\n      this.isImageModalOpen = true;\n    } else if (type === 'body' && this.grave.bodyReceiptCertificateImageURLBase64) {\n      this.modalImageSrc = 'data:image/jpeg;base64,' + this.grave.bodyReceiptCertificateImageURLBase64;\n      this.modalImageAlt = this.translate.instant('GRAVE_DETAILS.BODY_CERTIFICATE');\n      this.isImageModalOpen = true;\n    }\n  }\n\n  // Call this to close the modal and reset image\n  closeImageModal() {\n    this.isImageModalOpen = false;\n    this.modalImageSrc = null;\n    this.modalImageAlt = '';\n  }\n\n  initializeMap(): void {\n    if (!this.isBrowser || !this.grave || !this.grave.latitude || !this.grave.longitude) {\n      return;\n    }\n\n    // Set up map center and marker position\n    this.center = {\n      lat: this.grave.latitude,\n      lng: this.grave.longitude\n    };\n\n    this.markerPosition = {\n      lat: this.grave.latitude,\n      lng: this.grave.longitude\n    };\n  }\n\n  // Method to handle opening Google Maps navigation\n  navigateToGoogleMaps(): void {\n    if (!this.grave || !this.grave.latitude || !this.grave.longitude) return;\n    const lat = this.grave.latitude;\n    const lng = this.grave.longitude;\n    // Google Maps navigation URL\n    const url = `https://www.google.com/maps/dir/?api=1&destination=${lat},${lng}&travelmode=walking`;\n    window.open(url, '_blank');\n  }\n\n  // Method to handle opening the AR experience\n  openARExperience(): void {\n    if (!this.grave) return;\n\n    // Toggle AR map view - this will activate the AR component\n    // which uses AR.js to display a 3D marker at the grave coordinates\n    // The AR component will request camera and location permissions\n    // this.showARMap = true; // Commented out\n\n    // For debugging - log the coordinates\n    console.log('Navigating to AR experience for coordinates:',\n      this.grave.latitude, this.grave.longitude);\n\n    // Uncomment this if you want to navigate to a separate AR view instead - Now uncommented\n    // this.grave.latitude = 23.583418;\n    // this.grave.longitude = 58.435188;\n    this.router.navigate(['/ar-view'], {\n      state: { grave: this.grave }\n    });\n  }\n\n  goBack(): void {\n    try {\n      this.location.back();\n    } catch (error) {\n      // Fallback to home page if there's an error\n      this.router.navigate(['/']);\n    }\n  }\n\n  // Getter for form controls\n  get f() { return this.suggestionForm.controls; }\n\n  /**\n   * Opens the suggestion modal\n   */\n  openSuggestionModal(): void {\n    this.isSuggestionModalOpen = true;\n    this.submitted = false;\n    this.suggestionForm.reset();\n  }\n\n  /**\n   * Submits the suggestion form\n   */\n  submitSuggestion(): void {\n    console.log(this.grave);\n\n    this.submitted = true;\n\n    // Stop if form is invalid\n    if (this.suggestionForm.invalid) {\n      return;\n    }\n\n    this.isSubmitting = true;\n\n    const emailData: SendGraveEmailDto = {\n      graveId: this.grave?.graveId || '',\n      additionalMessage: this.suggestionForm.value.additionalMessage\n    };\n\n    this.emailService.sendGraveEmail(emailData).subscribe({\n      next: () => {\n        this.isSubmitting = false;\n        this.isSuggestionModalOpen = false;\n        this.showSuccessToast = true;\n\n        // Hide success toast after 5 seconds\n        setTimeout(() => {\n          this.showSuccessToast = false;\n        }, 5000);\n      },\n      error: (err) => {\n        console.error('Error sending suggestion email:', err);\n        this.isSubmitting = false;\n        this.showErrorToast = true;\n\n        // Hide error toast after 5 seconds\n        setTimeout(() => {\n          this.showErrorToast = false;\n        }, 5000);\n      }\n    });\n  }\n}\n","<!-- Loading Spinner -->\n<div *ngIf=\"loading\" class=\"flex justify-center items-center min-h-screen\">\n  <div\n    class=\"animate-spin rounded-full h-16 w-16 border-b-2 border-arabic-green\"\n  ></div>\n</div>\n\n<!-- Error Message -->\n<div\n  *ngIf=\"error\"\n  class=\"p-6 bg-gray-100 dark:bg-gray-800 min-h-screen font-sans\"\n>\n  <div\n    class=\"bg-red-50 border border-red-200 text-red-800 rounded-xl p-6 shadow-lg mx-auto max-w-2xl\"\n  >\n    <h3 class=\"text-xl font-semibold mb-3\">\n      {{ \"GRAVE_DETAILS.ERROR\" | translate }}\n    </h3>\n    <p>{{ error }}</p>\n    <button\n      class=\"mt-4 px-4 py-2 bg-arabic-green text-white rounded-lg hover:bg-arabic-green-dark transition-colors\"\n      (click)=\"goBack()\"\n    >\n      {{ \"GRAVE_DETAILS.BACK_TO_SEARCH\" | translate }}\n    </button>\n  </div>\n</div>\n\n<!-- Image Viewer Modal -->\n<div\n  *ngIf=\"isImageModalOpen\"\n  class=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-80 backdrop-blur-sm transition-opacity\"\n  (click)=\"isImageModalOpen = false\"\n  (keydown.escape)=\"isImageModalOpen = false\"\n  tabindex=\"0\"\n>\n  <div\n    class=\"relative max-w-4xl w-full h-full flex flex-col items-center justify-center\"\n    (click)=\"$event.stopPropagation()\"\n  >\n    <!-- Close button -->\n    <button\n      (click)=\"isImageModalOpen = false\"\n      class=\"absolute top-4 right-4 z-10 p-2 bg-white cursor-pointer dark:bg-gray-700 text-gray-800 dark:text-white rounded-full shadow-xl hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors\"\n      aria-label=\"Close image viewer\"\n    >\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        class=\"h-6 w-6\"\n        fill=\"none\"\n        viewBox=\"0 0 24 24\"\n        stroke=\"currentColor\"\n      >\n        <path\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n          stroke-width=\"2\"\n          d=\"M6 18L18 6M6 6l12 12\"\n        />\n      </svg>\n    </button>\n\n    <!-- Image -->\n    <div class=\"w-full h-full flex items-center justify-center overflow-hidden\">\n      <img\n        *ngIf=\"modalImageSrc\"\n        [src]=\"modalImageSrc\"\n        [alt]=\"modalImageAlt\"\n        class=\"max-h-full max-w-full object-contain\"\n      />\n    </div>\n  </div>\n</div>\n\n<!-- Grave Details -->\n<div\n  class=\"p-6 bg-gray-100 dark:bg-gray-800 min-h-screen\"\n  *ngIf=\"grave && !loading\"\n>\n  <!-- Header Section -->\n  <div class=\"mb-8\">\n    <div class=\"text-gray-500 dark:text-gray-400 text-sm mb-2\">\n      <span>{{ \"GRAVE_DETAILS.TITLE\" | translate }}</span> /\n      <span>{{ grave.refID }}</span>\n    </div>\n    <!-- Arabic language - show Arabic name as h1 and English as h2 -->\n    <ng-container *ngIf=\"translate.currentLang === 'ar'\">\n      <h1 class=\"text-4xl font-bold text-gray-800 dark:text-gray-100 m-0\">\n        {{ grave.fullNameAr }}\n      </h1>\n      <h2\n        class=\"text-2xl font-medium text-gray-600 dark:text-gray-300 mt-2 mb-0\"\n      >\n        {{ grave.fullNameEn }}\n      </h2>\n    </ng-container>\n    <!-- English language - show English name as h1 and Arabic as h2 -->\n    <ng-container *ngIf=\"translate.currentLang !== 'ar'\">\n      <h1 class=\"text-4xl font-bold text-gray-800 dark:text-gray-100 m-0\">\n        {{ grave.fullNameEn }}\n      </h1>\n      <h2\n        class=\"text-2xl font-medium text-gray-600 dark:text-gray-300 mt-2 mb-0\"\n      >\n        {{ grave.fullNameAr }}\n      </h2>\n    </ng-container>\n  </div>\n\n  <!-- Content Grid -->\n  <div class=\"grid grid-cols-1 gap-6\">\n    <!-- Top row - Image and Map side by side -->\n    <div class=\"grid grid-cols-1 lg:grid-cols-12 gap-6\">\n      <!-- Image Card -->\n      <div class=\"lg:col-span-4 mb-6 lg:mb-0\">\n        <div\n          class=\"bg-white dark:bg-gray-700 rounded-xl shadow-lg overflow-hidden transition-all hover:shadow-xl hover:-translate-y-1 h-full flex flex-col\"\n        >\n          <div\n            class=\"text-xl font-semibold text-gray-800 dark:text-gray-200 p-4 pb-2 border-b border-gray-100 dark:border-gray-600\"\n          >\n            {{ \"GRAVE_DETAILS.PHOTO\" | translate }}\n          </div>\n          <div class=\"p-4 flex-grow flex items-center justify-center\">\n            <div\n              *ngIf=\"!grave.imageURLBase64\"\n              class=\"h-48 w-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center\"\n            >\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                class=\"h-20 w-20 text-gray-400\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  stroke-linecap=\"round\"\n                  stroke-linejoin=\"round\"\n                  stroke-width=\"1\"\n                  d=\"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z\"\n                />\n              </svg>\n            </div>\n            <!-- Clickable image with expand hint -->\n            <div\n              *ngIf=\"grave.imageURLBase64\"\n              (click)=\"openImageModal('grave')\"\n              class=\"relative cursor-pointer group overflow-hidden rounded-lg\"\n              tabindex=\"0\"\n              role=\"button\"\n              aria-label=\"View larger image\"\n              (keydown.enter)=\"openImageModal('grave')\"\n            >\n              <img\n                [src]=\"'data:image/jpg;base64,' + grave.imageURLBase64\"\n                [alt]=\"\n                  translate.currentLang === 'ar'\n                    ? grave.fullNameAr\n                    : grave.fullNameEn\n                \"\n                class=\"max-w-full max-h-[500px] object-contain rounded-lg transition-transform group-hover:scale-105\"\n              />\n              <!-- Expand icon overlay -->\n              <div\n                class=\"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 bg-black bg-opacity-40 transition-opacity rounded-lg\"\n              >\n                <div\n                  class=\"bg-white bg-opacity-90 dark:bg-gray-800 dark:bg-opacity-90 p-2 rounded-full\"\n                >\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    class=\"h-6 w-6 text-gray-800 dark:text-white\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                    stroke=\"currentColor\"\n                  >\n                    <path\n                      stroke-linecap=\"round\"\n                      stroke-linejoin=\"round\"\n                      stroke-width=\"2\"\n                      d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7\"\n                    />\n                  </svg>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Map Card -->\n      <div class=\"lg:col-span-8\">\n        <div\n          class=\"bg-white dark:bg-gray-700 rounded-xl shadow-lg overflow-hidden transition-all hover:shadow-xl hover:-translate-y-1 h-full\"\n        >\n          <div class=\"p-6\">\n            <h3\n              class=\"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-5 pb-3 border-b border-gray-100 dark:border-gray-600\"\n            >\n              {{ \"GRAVE_DETAILS.LOCATION\" | translate }}\n            </h3>\n            <div class=\"rounded-lg overflow-hidden mb-4\">\n              <!-- No coordinates available message -->\n              <div\n                *ngIf=\"!grave.latitude || !grave.longitude\"\n                class=\"bg-yellow-50 dark:bg-yellow-900/30 p-4 text-center text-yellow-700 dark:text-yellow-500 rounded-lg\"\n              >\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  class=\"h-6 w-6 mx-auto mb-2\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  stroke=\"currentColor\"\n                >\n                  <path\n                    stroke-linecap=\"round\"\n                    stroke-linejoin=\"round\"\n                    stroke-width=\"2\"\n                    d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n                  />\n                </svg>\n                <p>{{ \"GRAVE_DETAILS.LOCATION_UNAVAILABLE\" | translate }}</p>\n              </div>\n\n              <!-- Server-side rendering placeholder -->\n              <div\n                *ngIf=\"!isBrowser && grave.latitude && grave.longitude\"\n                class=\"h-[400px] bg-gray-100 dark:bg-gray-800 flex items-center justify-center rounded-lg\"\n              >\n                <div class=\"text-center p-4\">\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    class=\"h-12 w-12 text-gray-400 dark:text-gray-500 mx-auto mb-4\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                    stroke=\"currentColor\"\n                  >\n                    <path\n                      stroke-linecap=\"round\"\n                      stroke-linejoin=\"round\"\n                      stroke-width=\"1\"\n                      d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"\n                    />\n                    <path\n                      stroke-linecap=\"round\"\n                      stroke-linejoin=\"round\"\n                      stroke-width=\"1\"\n                      d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"\n                    />\n                  </svg>\n                  <p class=\"text-gray-500 dark:text-gray-400\">\n                    {{ \"GRAVE_DETAILS.LOCATION\" | translate }}\n                  </p>\n                </div>\n              </div>\n\n              <!-- API not loaded message (only shown in browser) -->\n              <div\n                *ngIf=\"\n                  isBrowser && grave.latitude && grave.longitude && !apiLoaded\n                \"\n                class=\"flex justify-center items-center h-[400px] bg-gray-100 dark:bg-gray-800 rounded-lg\"\n              >\n                <div class=\"text-center\">\n                  <div\n                    class=\"animate-spin rounded-full h-10 w-10 border-b-2 border-arabic-green mx-auto mb-4\"\n                  ></div>\n                  <p class=\"text-gray-500 dark:text-gray-400\">\n                    {{ \"GRAVE_DETAILS.LOADING_MAP\" | translate }}\n                  </p>\n                </div>\n              </div>\n\n              <!-- Google Map (only shown in browser when API is loaded) -->\n              <div\n                *ngIf=\"\n                  isBrowser && grave.latitude && grave.longitude && apiLoaded\n                \"\n                class=\"map-container\"\n                style=\"\n                  height: 400px;\n                  width: 100%;\n                  border-radius: 0.5rem;\n                  overflow: hidden;\n                \"\n              >\n                <google-map\n                  [center]=\"center\"\n                  [zoom]=\"zoom\"\n                  [options]=\"mapOptions\"\n                  height=\"400px\"\n                  width=\"100%\"\n                >\n                  <map-advanced-marker\n                    [position]=\"markerPosition\"\n                    [title]=\"\n                      translate.currentLang === 'ar'\n                        ? grave.fullNameAr\n                        : grave.fullNameEn\n                    \"\n                  >\n                  </map-advanced-marker>\n                </google-map>\n              </div>\n            </div>\n            <div\n              class=\"flex justify-between mt-4\"\n              *ngIf=\"grave.latitude && grave.longitude\"\n            >\n              <div class=\"flex flex-col\">\n                <span class=\"text-sm text-gray-500 dark:text-gray-400 mb-1\">{{\n                  \"GRAVE_DETAILS.LATITUDE\" | translate\n                }}</span>\n                <span\n                  class=\"text-base font-medium text-gray-700 dark:text-gray-300\"\n                  >{{ grave.latitude }}</span\n                >\n              </div>\n              <div class=\"flex flex-col\">\n                <span class=\"text-sm text-gray-500 dark:text-gray-400 mb-1\">{{\n                  \"GRAVE_DETAILS.LONGITUDE\" | translate\n                }}</span>\n                <span\n                  class=\"text-base font-medium text-gray-700 dark:text-gray-300\"\n                  >{{ grave.longitude }}</span\n                >\n              </div>\n            </div>\n\n            <!-- AR Navigation Button -->\n            <div\n              *ngIf=\"grave.latitude && grave.longitude && isBrowser\"\n              class=\"mt-4\"\n            >\n              <button\n                class=\"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-opacity-90 transition-colors flex items-center justify-center gap-2 cursor-pointer\"\n                (click)=\"navigateToGoogleMaps()\"\n              >\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  class=\"h-5 w-5\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  stroke=\"currentColor\"\n                >\n                  <path\n                    stroke-linecap=\"round\"\n                    stroke-linejoin=\"round\"\n                    stroke-width=\"2\"\n                    d=\"M9 20l-5.447-2.724A2 2 0 013 15.382V6a2 2 0 012-2h14a2 2 0 012 2v9.382a2 2 0 01-1.553 1.894L15 20v-2a2 2 0 00-2-2h-2a2 2 0 00-2 2v2z\"\n                  />\n                </svg>\n                <span>{{\n                  \"GRAVE_DETAILS.NAVIGATE_WITH_GOOGLE_MAPS\" | translate\n                }}</span>\n              </button>\n              <p\n                class=\"text-xs text-center text-gray-500 dark:text-gray-400 mt-2\"\n              >\n                {{ \"GRAVE_DETAILS.NAVIGATION_NOTE\" | translate }}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Info and Description Section -->\n    <div class=\"grid grid-cols-1 lg:grid-cols-12 gap-6\">\n      <!-- Personal Info Card -->\n      <div class=\"lg:col-span-6\">\n        <div\n          class=\"bg-white dark:bg-gray-700 rounded-xl shadow-lg overflow-hidden transition-all hover:shadow-xl hover:-translate-y-1 p-6 h-full\"\n        >\n          <h3\n            class=\"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-5 pb-3 border-b border-gray-100 dark:border-gray-600\"\n          >\n            {{ \"GRAVE_DETAILS.PERSONAL_INFO\" | translate }}\n          </h3>\n          <div class=\"grid grid-cols-1 gap-4\">\n            <div class=\"flex flex-col\">\n              <span class=\"text-sm text-gray-500 dark:text-gray-400 mb-1\">{{\n                \"GRAVE_DETAILS.GRAVE_NUMBER\" | translate\n              }}</span>\n              <span\n                class=\"text-base font-medium text-gray-700 dark:text-gray-300\"\n                >{{ grave.refID }}</span\n              >\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"grave.dateOfBirth\">\n              <span class=\"text-sm text-gray-500 dark:text-gray-400 mb-1\">{{\n                \"GRAVE_DETAILS.DATE_OF_BIRTH\" | translate\n              }}</span>\n              <span\n                class=\"text-base font-medium text-gray-700 dark:text-gray-300\"\n                >{{ grave.dateOfBirth | date }}</span\n              >\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"grave.dateOfDeath\">\n              <span class=\"text-sm text-gray-500 dark:text-gray-400 mb-1\">{{\n                \"GRAVE_DETAILS.DATE_OF_DEATH\" | translate\n              }}</span>\n              <span\n                class=\"text-base font-medium text-gray-700 dark:text-gray-300\"\n                >{{ grave.dateOfDeath | date }}</span\n              >\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"grave.zGender\">\n              <span class=\"text-sm text-gray-500 dark:text-gray-400 mb-1\">{{\n                \"GRAVE_DETAILS.GENDER\" | translate\n              }}</span>\n              <span\n                class=\"text-base font-medium text-gray-700 dark:text-gray-300\"\n              >\n                {{\n                  translate.currentLang === \"en\"\n                    ? grave.zGender?.nameEn\n                    : grave.zGender?.nameAr\n                }}\n              </span>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"grave.zZone\">\n              <span class=\"text-sm text-gray-500 dark:text-gray-400 mb-1\">{{\n                \"GRAVE_DETAILS.ZONE\" | translate\n              }}</span>\n              <span\n                class=\"text-base font-medium text-gray-700 dark:text-gray-300\"\n              >\n                {{\n                  translate.currentLang === \"en\"\n                    ? grave.zZone?.nameEn\n                    : grave.zZone?.nameAr\n                }}\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Description Card -->\n      <div class=\"lg:col-span-6\">\n        @if ((grave.description && translate.currentLang === 'ar') ||\n        (grave.descriptionEn && translate.currentLang !== 'ar')) {\n        <div\n          class=\"bg-white dark:bg-gray-700 rounded-xl shadow-lg overflow-hidden transition-all hover:shadow-xl hover:-translate-y-1 p-6 h-full\"\n        >\n          <h3\n            class=\"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-5 pb-3 border-b border-gray-100 dark:border-gray-600\"\n          >\n            {{ \"GRAVE_DETAILS.DESCRIPTION\" | translate }}\n          </h3>\n          <p class=\"text-gray-700 dark:text-gray-300 leading-relaxed\">\n            {{\n              translate.currentLang === \"ar\"\n                ? grave.description\n                : grave.descriptionEn\n            }}\n          </p>\n        </div>\n        }\n      </div>\n    </div>\n  </div>\n\n  <!-- Death Certificate & Body Certificate Section (Admin/User only) -->\n  <ng-container *appHasRole=\"['Admin', 'User']\">\n    <div\n      class=\"mt-8\"\n      *ngIf=\"\n        grave.deathCertificateImageURLBase64 ||\n        grave.bodyReceiptCertificateImageURLBase64\n      \"\n    >\n      <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <!-- Death Certificate Card -->\n        <div\n          class=\"bg-white dark:bg-gray-700 rounded-xl shadow-lg p-6\"\n          *ngIf=\"grave.deathCertificateImageURLBase64\"\n        >\n          <h3\n            class=\"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-4 pb-2 border-b border-gray-100 dark:border-gray-600\"\n          >\n            {{ \"GRAVE_DETAILS.DEATH_CERTIFICATE\" | translate }}\n          </h3>\n          <div class=\"text-gray-700 dark:text-gray-300\">\n            <ng-container\n              *ngIf=\"\n                grave.deathCertificateImageURLBase64 != null;\n                else noDeathCert\n              \"\n            >\n              <img\n                [src]=\"\n                  'data:image/jpeg;base64,' +\n                  grave.deathCertificateImageURLBase64\n                \"\n                alt=\"Death Certificate\"\n                class=\"max-w-full rounded shadow cursor-pointer\"\n                (click)=\"openImageModal('death')\"\n                tabindex=\"0\"\n                role=\"button\"\n                aria-label=\"View larger image\"\n                (keydown.enter)=\"openImageModal('death')\"\n              />\n            </ng-container>\n            <ng-template #noDeathCert>\n              <span class=\"italic text-gray-400\">{{\n                \"GRAVE_DETAILS.NO_DEATH_CERTIFICATE\" | translate\n              }}</span>\n            </ng-template>\n          </div>\n        </div>\n        <!-- Body Certificate Card -->\n        <div\n          class=\"bg-white dark:bg-gray-700 rounded-xl shadow-lg p-6\"\n          *ngIf=\"grave.bodyReceiptCertificateImageURLBase64\"\n        >\n          <h3\n            class=\"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-4 pb-2 border-b border-gray-100 dark:border-gray-600\"\n          >\n            {{ \"GRAVE_DETAILS.BODY_CERTIFICATE\" | translate }}\n          </h3>\n          <div class=\"text-gray-700 dark:text-gray-300\">\n            <ng-container\n              *ngIf=\"\n                grave.bodyReceiptCertificateImageURLBase64 != null;\n                else noBodyCert\n              \"\n            >\n              <img\n                [src]=\"\n                  'data:image/jpeg;base64,' +\n                  grave.bodyReceiptCertificateImageURLBase64\n                \"\n                alt=\"Body Certificate\"\n                class=\"max-w-full rounded shadow cursor-pointer\"\n                (click)=\"openImageModal('body')\"\n                tabindex=\"0\"\n                role=\"button\"\n                aria-label=\"View larger image\"\n                (keydown.enter)=\"openImageModal('body')\"\n              />\n            </ng-container>\n            <ng-template #noBodyCert>\n              <span class=\"italic text-gray-400\">{{\n                \"GRAVE_DETAILS.NO_BODY_CERTIFICATE\" | translate\n              }}</span>\n            </ng-template>\n          </div>\n        </div>\n      </div>\n    </div>\n  </ng-container>\n\n  <!-- Back button -->\n  <div class=\"mt-6 flex justify-between items-center\">\n    <button\n      class=\"px-6 py-3 bg-arabic-green text-white rounded-lg hover:bg-opacity-90 transition-colors flex items-center cursor-pointer\"\n      (click)=\"goBack()\"\n    >\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        class=\"h-5 w-5 mr-2 rtl:rotate-180\"\n        fill=\"none\"\n        viewBox=\"0 0 24 24\"\n        stroke=\"currentColor\"\n      >\n        <path\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n          stroke-width=\"2\"\n          d=\"M10 19l-7-7m0 0l7-7m-7 7h18\"\n        />\n      </svg>\n      {{ \"GRAVE_DETAILS.BACK_TO_SEARCH\" | translate }}\n    </button>\n\n    <!-- Suggestion button -->\n    <button\n      class=\"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-opacity-90 transition-colors flex items-center cursor-pointer\"\n      (click)=\"openSuggestionModal()\"\n    >\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        class=\"h-5 w-5 mr-2\"\n        fill=\"none\"\n        viewBox=\"0 0 24 24\"\n        stroke=\"currentColor\"\n      >\n        <path\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n          stroke-width=\"2\"\n          d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\"\n        />\n      </svg>\n      {{ \"GRAVE_DETAILS.SUGGEST_CHANGES\" | translate }}\n    </button>\n  </div>\n</div>\n\n<!-- Suggestion Modal -->\n<div\n  *ngIf=\"isSuggestionModalOpen\"\n  class=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50 backdrop-blur-sm transition-opacity\"\n  (keydown.escape)=\"isSuggestionModalOpen = false\"\n  tabindex=\"0\"\n>\n  <div\n    class=\"bg-white dark:bg-gray-800 rounded-xl shadow-xl p-6 max-w-lg w-full transform transition-all\"\n    [class.scale-100]=\"isSuggestionModalOpen\"\n    [class.scale-95]=\"!isSuggestionModalOpen\"\n    [class.opacity-100]=\"isSuggestionModalOpen\"\n    [class.opacity-0]=\"!isSuggestionModalOpen\"\n  >\n    <!-- Header -->\n    <div class=\"flex items-center justify-between mb-4\">\n      <h3 class=\"text-xl font-semibold text-gray-800 dark:text-gray-100\">\n        {{ \"GRAVE_DETAILS.SUGGEST_CHANGES_TITLE\" | translate }}\n      </h3>\n      <button\n        (click)=\"isSuggestionModalOpen = false\"\n        class=\"p-2 text-gray-400 hover:text-gray-500 focus:outline-none focus:text-gray-500 transition-colors\"\n        aria-label=\"Close\"\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          class=\"h-6 w-6\"\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n        >\n          <path\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n            stroke-width=\"2\"\n            d=\"M6 18L18 6M6 6l12 12\"\n          />\n        </svg>\n      </button>\n    </div>\n\n    <!-- Description -->\n    <p class=\"text-gray-600 dark:text-gray-300 mb-4\">\n      {{ \"GRAVE_DETAILS.SUGGESTION_DESCRIPTION\" | translate }}\n    </p>\n\n    <!-- Form -->\n    <div>\n      <form (ngSubmit)=\"submitSuggestion()\" [formGroup]=\"suggestionForm\">\n        <div class=\"mb-4\">\n          <app-text-area\n            formControlName=\"additionalMessage\"\n            [label]=\"'GRAVE_DETAILS.SUGGESTION_MESSAGE' | translate\"\n            [placeholder]=\"'GRAVE_DETAILS.SUGGESTION_PLACEHOLDER' | translate\"\n            [rows]=\"5\"\n            [required]=\"true\"\n            [showError]=\"submitted\"\n          ></app-text-area>\n        </div>\n\n        <!-- Action Buttons -->\n        <div class=\"flex justify-end gap-3 mt-6\">\n          <button\n            type=\"button\"\n            (click)=\"isSuggestionModalOpen = false\"\n            class=\"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\n          >\n            {{ \"COMMON.CANCEL\" | translate }}\n          </button>\n          <button\n            type=\"submit\"\n            [disabled]=\"isSubmitting || suggestionForm.invalid\"\n            class=\"px-4 py-2 bg-arabic-green text-white rounded-lg hover:bg-opacity-90 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-arabic-green disabled:opacity-50 disabled:cursor-not-allowed flex items-center\"\n          >\n            <span\n              *ngIf=\"isSubmitting\"\n              class=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\"\n            >\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n              >\n                <circle\n                  class=\"opacity-25\"\n                  cx=\"12\"\n                  cy=\"12\"\n                  r=\"10\"\n                  stroke=\"currentColor\"\n                  stroke-width=\"4\"\n                ></circle>\n                <path\n                  class=\"opacity-75\"\n                  fill=\"currentColor\"\n                  d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                ></path>\n              </svg>\n            </span>\n            {{ \"GRAVE_DETAILS.SEND_SUGGESTION\" | translate }}\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n</div>\n\n<!-- Success Message Toast -->\n<div\n  *ngIf=\"showSuccessToast\"\n  class=\"fixed bottom-4 left-0 right-0 mx-auto w-auto max-w-md bg-green-50 border-l-4 border-green-500 text-green-800 p-4 rounded shadow-md transition-opacity duration-500 z-50\"\n  [class.opacity-100]=\"showSuccessToast\"\n  [class.opacity-0]=\"!showSuccessToast\"\n>\n  <div class=\"flex items-center\">\n    <div class=\"py-1 mr-3\">\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        class=\"h-6 w-6 text-green-600\"\n        fill=\"none\"\n        viewBox=\"0 0 24 24\"\n        stroke=\"currentColor\"\n      >\n        <path\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n          stroke-width=\"2\"\n          d=\"M5 13l4 4L19 7\"\n        />\n      </svg>\n    </div>\n    <div>\n      <p class=\"font-medium text-green-800\">\n        {{ \"GRAVE_DETAILS.SUGGESTION_SENT\" | translate }}\n      </p>\n      <p class=\"text-sm text-green-700\">\n        {{ \"GRAVE_DETAILS.SUGGESTION_THANK_YOU\" | translate }}\n      </p>\n    </div>\n  </div>\n</div>\n\n<!-- Error Message Toast -->\n<div\n  *ngIf=\"showErrorToast\"\n  class=\"fixed bottom-4 left-0 right-0 mx-auto w-auto max-w-md bg-red-50 border-l-4 border-red-500 text-red-800 p-4 rounded shadow-md transition-opacity duration-500 z-50\"\n  [class.opacity-100]=\"showErrorToast\"\n  [class.opacity-0]=\"!showErrorToast\"\n>\n  <div class=\"flex items-center\">\n    <div class=\"py-1 mr-3\">\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        class=\"h-6 w-6 text-red-600\"\n        fill=\"none\"\n        viewBox=\"0 0 24 24\"\n        stroke=\"currentColor\"\n      >\n        <path\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n          stroke-width=\"2\"\n          d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n        />\n      </svg>\n    </div>\n    <div>\n      <p class=\"font-medium text-red-800\">\n        {{ \"GRAVE_DETAILS.SUGGESTION_ERROR\" | translate }}\n      </p>\n      <p class=\"text-sm text-red-700\">\n        {{ \"GRAVE_DETAILS.SUGGESTION_TRY_AGAIN\" | translate }}\n      </p>\n    </div>\n  </div>\n</div>\n","import { Injectable } from '@angular/core';\nimport { CanActivate, Router, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { AuthService } from '../services/auth.service';\nimport { UserInfo } from '../models/user.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthGuard implements CanActivate {\n\n  constructor(private authService: AuthService, private router: Router) {}\n\n  canActivate(\n    route: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot\n  ): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\n    // Check if user is logged in using the improved isLoggedIn method\n    if (this.authService.isLoggedIn()) {\n      // Check if route has specific roles required\n      const roles = route.data['roles'] as Array<string>;\n      if (roles && roles.length > 0) {\n        // Check if user has required roles\n        const hasRole = this.authService.roleMatch(roles);\n        if (!hasRole) {\n          this.router.navigate(['/unauthorized']);\n          return false;\n        }\n      }\n      // No specific roles required, just authenticated\n      return true;\n    }\n\n    // Not logged in, redirect to login with return URL\n    this.router.navigate(['/admin/login'], {\n      queryParams: {\n        returnUrl: state.url !== '/dashboard/default' ? state.url : null\n      }\n    });\n    return false;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate, Router, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { AuthService } from '../services/auth.service';\nimport { take } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AdminGuard implements CanActivate {\n  constructor(\n    private router: Router,\n    private authService: AuthService\n  ) {}\n\n  canActivate(\n    route: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot\n  ): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\n    // First check if user is authenticated\n    if (!this.authService.isLoggedIn()) {\n      this.router.navigate(['/admin/login'], {\n        queryParams: { returnUrl: state.url }\n      });\n      return false;\n    }\n\n    // Then check role permissions\n    const roles = route.data['roles'] as Array<string>;\n    if (!roles || !roles.length) {\n      return true; // No specific roles required\n    }\n\n    // Check roles against user roles\n    const hasRole = this.authService.roleMatch(roles);\n    if (hasRole) {\n      return true;\n    } else {\n      this.router.navigate(['/dashboard/default']);\n      return false;\n    }\n  }\n}\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TranslateService, TranslateModule } from '@ngx-translate/core';\nimport { Subject, takeUntil } from 'rxjs';\n\n@Component({\n  selector: 'app-story',\n  standalone: true,\n  imports: [\n    CommonModule,\n    TranslateModule\n  ],\n  templateUrl: './story.component.html',\n  styleUrl: './story.component.scss'\n})\nexport class StoryComponent implements OnInit, OnDestroy {\n  // Article title and date\n  title = 'النقلة في المقبرة';\n  titleEn = 'The Transformation of the Cemetery';\n  publishDate = new Date();\n  language: string = 'ar';\n\n  private destroy$ = new Subject<void>();\n\n  constructor(private translateService: TranslateService) {}\n\n  ngOnInit(): void {\n    // Initialize with current language\n    this.language = this.translateService.currentLang || 'en';\n\n    // Subscribe to language changes\n    this.translateService.onLangChange\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(event => {\n        this.language = event.lang;\n      });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n}\n","<div class=\"relative min-h-screen bg-gray-50 dark:bg-gray-900\" [ngClass]=\"{'rtl': language === 'ar', 'ltr': language === 'en'}\">\n  <!-- Decorative Background Elements -->\n  <div class=\"absolute inset-0 overflow-hidden pointer-events-none opacity-30\">\n    <div class=\"absolute -left-40 -top-40 w-80 h-80 bg-gradient-to-tr from-arabic-green to-arabic-black blur-3xl transform-gpu gradient-animation\"></div>\n    <div class=\"absolute right-0 bottom-0 w-80 h-80 bg-gradient-to-tr from-arabic-black to-arabic-green blur-3xl transform-gpu gradient-animation\"></div>\n  </div>\n\n  <!-- Main Content Container -->\n  <div class=\"container mx-auto px-4 py-12 relative z-10\">\n    <!-- Article Card -->\n    <div class=\"max-w-4xl mx-auto bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden\">\n\n      <!-- Header Image -->\n      <div class=\"h-64 bg-gradient-to-r from-arabic-green-dark to-arabic-green relative\">\n        <div class=\"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center\">\n          <h1 class=\"text-4xl md:text-5xl font-bold text-white text-center px-6\">{{ language === 'ar' ? title : titleEn }}</h1>\n        </div>\n      </div>\n\n      <!-- Article Content -->\n      <div class=\"p-6 md:p-8\" [ngClass]=\"{'text-right': language === 'ar', 'text-left': language === 'en'}\">\n        <!-- Date -->\n        <div class=\"mb-6 text-gray-500 dark:text-gray-400\" [ngClass]=\"{'flex justify-end': language === 'ar', 'flex justify-start': language === 'en'}\">\n          <div *ngIf=\"language === 'en'\" class=\"flex items-center\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n            </svg>\n            <span>{{ publishDate | date:'longDate' }}</span>\n          </div>\n          <div *ngIf=\"language === 'ar'\" class=\"flex items-center\">\n            <span>{{ publishDate | date:'longDate':'':'ar' }}</span>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n            </svg>\n          </div>\n        </div>\n\n        <!-- Article Paragraphs - Arabic -->\n        <div *ngIf=\"language === 'ar'\" class=\"space-y-6 text-lg leading-relaxed text-gray-800 dark:text-gray-200\">\n          <p>\n            في السنوات الأخيرة، شهدت المقبرة تحولات ملحوظة تعكس التقدم في كيفية التعامل مع الموتى واحتياجات أسرهم. حيث كانت المقابر تُترك دون تخطيط، مما جعلها تبدو كأماكن مهجورة. كانت الزيارات إلى المقابر تُعتبر تجربة حزينة وغير مريحة، حيث كانت الطرق غير معبدة والزهور نادرة.\n          </p>\n\n          <div class=\"py-2 px-4 bg-arabic-green/5 border-r-4 border-arabic-green rounded\">\n            <p class=\"text-arabic-green-dark dark:text-arabic-green\">\n              ومع ذلك، بدأت النقلة في المقبرة عندما تم إدخال مفهوم التخطيط الحضري والاهتمام بالمساحات الخضراء. تم تطوير المقبرة لتصبح مكانًا يبعث على السكينة والهدوء.\n            </p>\n          </div>\n\n          <p>\n            تم إنشاء مسارات مرصوفة وحدائق مزهرة، مما جعل الزيارات أكثر راحة. بالإضافة إلى ذلك، تم توفير خدمات جديدة مثل أماكن للجلوس ومرافق للزوار وتقديم بعض الخدمات التي تساعد الزوار مثل توفير الماء البارد للشرب وبعض الاحتياجات الأخرى ، مما ساهم في تحسين تجربة العائلات.\n          </p>\n\n          <!-- Features Grid -->\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 my-8\">\n            <div class=\"bg-white dark:bg-gray-700 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 text-center hover:bg-arabic-green/5 transition-colors\">\n              <div class=\"w-12 h-12 mx-auto mb-3 bg-arabic-green/10 rounded-full flex items-center justify-center\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6 text-arabic-green\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\" />\n                </svg>\n              </div>\n              <h3 class=\"text-arabic-green-dark dark:text-arabic-green font-bold\">مسارات مرصوفة</h3>\n              <p class=\"text-sm mt-2 text-gray-600 dark:text-gray-300\">تسهيل حركة الزوار وتنقلهم في المقبرة</p>\n            </div>\n\n            <div class=\"bg-white dark:bg-gray-700 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 text-center hover:bg-arabic-green/5 transition-colors\">\n              <div class=\"w-12 h-12 mx-auto mb-3 bg-arabic-green/10 rounded-full flex items-center justify-center\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6 text-arabic-green\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\" />\n                </svg>\n              </div>\n              <h3 class=\"text-arabic-green-dark dark:text-arabic-green font-bold\">حدائق مزهرة</h3>\n              <p class=\"text-sm mt-2 text-gray-600 dark:text-gray-300\">إضفاء جو من الراحة والجمال على المكان</p>\n            </div>\n\n            <div class=\"bg-white dark:bg-gray-700 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 text-center hover:bg-arabic-green/5 transition-colors\">\n              <div class=\"w-12 h-12 mx-auto mb-3 bg-arabic-green/10 rounded-full flex items-center justify-center\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6 text-arabic-green\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n              </div>\n              <h3 class=\"text-arabic-green-dark dark:text-arabic-green font-bold\">مرافق للزوار</h3>\n              <p class=\"text-sm mt-2 text-gray-600 dark:text-gray-300\">خدمات متنوعة تلبي احتياجات العائلات</p>\n            </div>\n          </div>\n\n          <p>\n           اليوم، أصبحت المقبرة ليست مجرد مكان للدفن، بل هي مساحة تذكارية تعكس الحب والاحترام للذين فقدناهم. يتم تنظيم فعاليات تذكارية وأيام خاصة لزيارة الراحلين، مما يعزز من الروابط المجتمعية ويشجع على التذكر الإيجابي.\n          </p>\n\n          <p class=\"text-center italic text-arabic-green-dark dark:text-arabic-green text-lg\">\n            هذه النقلة في المقبرة تعكس التقدم في كيفية تعبيرنا عن الحزن والاحتفاء بالذكريات، مما يجعلها مكانًا يبعث على الأمل والسلام ببركات الصلاة على محمد وال محمد\n          </p>\n        </div>\n\n        <!-- Article Paragraphs - English -->\n        <div *ngIf=\"language === 'en'\" class=\"space-y-6 text-lg leading-relaxed text-gray-800 dark:text-gray-200\">\n          <p>\n            In recent years, the cemetery has undergone notable transformations reflecting progress in how we handle the deceased and their families' needs. Previously, cemeteries were left unplanned, appearing as abandoned places. Visits to cemeteries were considered sad and uncomfortable experiences, with unpaved roads and scarce flowers.\n          </p>\n\n          <div class=\"py-2 px-4 bg-arabic-green/5 border-l-4 border-arabic-green rounded\">\n            <p class=\"text-arabic-green-dark dark:text-arabic-green\">\n              However, the transformation began when concepts of urban planning and attention to green spaces were introduced. The cemetery was developed to become a place that evokes tranquility and peace.\n            </p>\n          </div>\n\n          <p>\n            Paved pathways and flowering gardens were created, making visits more comfortable. Additionally, new services were provided such as seating areas and visitor facilities, offering amenities like cold drinking water and other necessities, which helped improve the family experience.\n          </p>\n\n          <!-- Features Grid -->\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 my-8\">\n            <div class=\"bg-white dark:bg-gray-700 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 text-center hover:bg-arabic-green/5 transition-colors\">\n              <div class=\"w-12 h-12 mx-auto mb-3 bg-arabic-green/10 rounded-full flex items-center justify-center\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6 text-arabic-green\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\" />\n                </svg>\n              </div>\n              <h3 class=\"text-arabic-green-dark dark:text-arabic-green font-bold\">Paved Pathways</h3>\n              <p class=\"text-sm mt-2 text-gray-600 dark:text-gray-300\">Facilitating visitor movement and navigation through the cemetery</p>\n            </div>\n\n            <div class=\"bg-white dark:bg-gray-700 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 text-center hover:bg-arabic-green/5 transition-colors\">\n              <div class=\"w-12 h-12 mx-auto mb-3 bg-arabic-green/10 rounded-full flex items-center justify-center\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6 text-arabic-green\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\" />\n                </svg>\n              </div>\n              <h3 class=\"text-arabic-green-dark dark:text-arabic-green font-bold\">Flowering Gardens</h3>\n              <p class=\"text-sm mt-2 text-gray-600 dark:text-gray-300\">Creating an atmosphere of comfort and beauty in the space</p>\n            </div>\n\n            <div class=\"bg-white dark:bg-gray-700 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 text-center hover:bg-arabic-green/5 transition-colors\">\n              <div class=\"w-12 h-12 mx-auto mb-3 bg-arabic-green/10 rounded-full flex items-center justify-center\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6 text-arabic-green\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n              </div>\n              <h3 class=\"text-arabic-green-dark dark:text-arabic-green font-bold\">Visitor Facilities</h3>\n              <p class=\"text-sm mt-2 text-gray-600 dark:text-gray-300\">Various services meeting family needs</p>\n            </div>\n          </div>\n\n          <p>\n            Today, the cemetery is not just a burial place, but a memorial space reflecting love and respect for those we have lost. Memorial events and special days for visiting the deceased are organized, strengthening community bonds and encouraging positive remembrance.\n          </p>\n\n          <p class=\"text-center italic text-arabic-green-dark dark:text-arabic-green text-lg\">\n            This transformation in the cemetery reflects progress in how we express grief and celebrate memories, making it a place that brings hope and peace with blessings of prayers upon Muhammad and his family.\n          </p>\n        </div>\n\n        <!-- Divider with decorative element -->\n        <!-- <div class=\"my-8 flex items-center justify-center\">\n          <div class=\"w-1/3 h-px bg-gray-300 dark:bg-gray-600\"></div>\n          <div class=\"mx-4 text-arabic-green\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4\" />\n            </svg>\n          </div>\n          <div class=\"w-1/3 h-px bg-gray-300 dark:bg-gray-600\"></div>\n        </div> -->\n\n        <!-- Call to action -->\n        <!-- <div class=\"mt-8 text-center\">\n          <button class=\"bg-arabic-green hover:bg-arabic-green-dark text-white font-bold py-3 px-6 rounded-full transition-colors shadow-md\">\n            {{ language === 'ar' ? 'زيارة المقبرة الآن' : 'Visit the Cemetery Now' }}\n          </button>\n        </div> -->\n      </div>\n    </div>\n\n    <!-- Footer\n    <div class=\"mt-12 text-center text-gray-500 dark:text-gray-400\">\n      <p>{{ language === 'ar' ? '© جميع الحقوق محفوظة -' : '© All Rights Reserved -' }} {{ publishDate | date:'yyyy' }}</p>\n    </div> -->\n  </div>\n</div>\n","import { Component, OnInit, Input, CUSTOM_ELEMENTS_SCHEMA, Renderer2, Inject, ElementRef, AfterViewInit, NgZone, ViewChild, OnDestroy, HostListener } from '@angular/core';\nimport { CommonModule, Location, DOCUMENT, isPlatformBrowser } from '@angular/common';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { Router, NavigationEnd, ActivatedRoute } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { PLATFORM_ID } from '@angular/core';\n\n// For defining latitude/longitude coordinates\ninterface GeoCoordinates {\n  lat: number;\n  lng: number;\n}\n\n// Service import - will need to be created if it doesn't exist\ninterface GraveDetails {\n  location?: {\n    latitude: number;\n    longitude: number;\n  };\n  latitude?: number;\n  longitude?: number;\n}\n\n// Define the global AR cleanup helper interface\ninterface ARCleanupHelper {\n  activeStreams: MediaStream[];\n  registerStream: (stream: MediaStream) => void;\n  cleanup: () => boolean;\n}\n\n// Extend the Window interface to include our AR cleanup helper\ndeclare global {\n  interface Window {\n    ARCleanup?: ARCleanupHelper;\n  }\n}\n\nclass GraveSearchDetailsService {\n  getCurrentGraveDetails(): GraveDetails | null {\n    return null; // Implement actual service or modify this based on your implementation\n  }\n}\n\n@Component({\n  selector: 'app-ar-map',\n  standalone: true,\n  imports: [CommonModule, TranslateModule],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA], // Required for A-Frame elements\n  templateUrl: './ar-map.component.html',\n  styleUrl: './ar-map.component.scss'\n})\nexport class ArMapComponent implements OnInit, OnDestroy {\n  private sceneElement: HTMLElement | null = null;\n  private cleanup = false;\n  private previousUrl = '/';\n  private routerSubscription: Subscription | null = null;\n  private popStateListener: any = null;\n  private isBrowser: boolean = false;\n\n  // Store grave coordinates\n  graveLatitude: number = 0;\n  graveLongitude: number = 0;\n\n  constructor(\n    private router: Router,\n    private route: ActivatedRoute,\n    private location: Location,\n    private ngZone: NgZone,\n    @Inject(DOCUMENT) private document: Document,\n    @Inject(PLATFORM_ID) private platformId: Object\n  ) {\n    this.isBrowser = isPlatformBrowser(this.platformId);\n\n    // Get grave coordinates from router state\n    const navigation = this.router.getCurrentNavigation();\n    if (navigation?.extras.state) {\n      const state = navigation.extras.state as { grave: GraveDetails };\n      if (state.grave) {\n        this.graveLatitude = state.grave.latitude || 0;\n        this.graveLongitude = state.grave.longitude || 0;\n        console.log('Received coordinates in AR component:', this.graveLatitude, this.graveLongitude);\n      }\n    }\n\n    // Try to get the previous URL from various sources\n    // First check if we have a navigationId from Angular's router state\n    if (window.history.state && window.history.state.navigationId > 1) {\n      this.routerSubscription = this.router.events.subscribe(event => {\n        if (event instanceof NavigationEnd) {\n          // Store only non-AR view URLs\n          if (event.url !== '/ar-view') {\n            this.previousUrl = event.url;\n          }\n          this.routerSubscription?.unsubscribe();\n        }\n      });\n    }\n\n    // Also check document.referrer as a fallback\n    if (this.document.referrer && this.document.referrer.includes(window.location.origin)) {\n      // Extract the path from the full referrer URL\n      const referrerUrl = new URL(this.document.referrer);\n      const path = referrerUrl.pathname;\n      if (path && path !== '/ar-view') {\n        this.previousUrl = path;\n      }\n    }\n\n    // If URL is somehow still invalid, default to home\n    if (!this.previousUrl || this.previousUrl === '/ar-view') {\n      this.previousUrl = '/';\n    }\n\n    // Log for debugging\n    console.log('Back navigation will go to:', this.previousUrl);\n  }\n\n  // Listen for browser back button and other navigation attempts\n  @HostListener('window:beforeunload', ['$event'])\n  handleBeforeUnload(event: Event): void {\n    console.log('Detected page unload, cleaning up AR resources');\n    this.cleanupARResources();\n    // Don't prevent navigation - just ensure cleanup happens\n  }\n\n  ngOnInit(): void {\n    // Store a reference to the a-scene element when the component initializes\n    setTimeout(() => {\n      this.sceneElement = this.document.querySelector('a-scene');\n\n      // Update the AR entity with the coordinates from navigation state\n      if (this.graveLatitude && this.graveLongitude) {\n        const arEntity = this.document.querySelector('a-entity[gps-entity-place]');\n        if (arEntity) {\n          arEntity.setAttribute('gps-entity-place', `latitude: ${this.graveLatitude}; longitude: ${this.graveLongitude};`);\n          console.log('Updated AR entity with coordinates:', this.graveLatitude, this.graveLongitude);\n        }\n      }\n    }, 100);\n\n    // Set up browser history popstate event listener\n    if (this.isBrowser) {\n      this.popStateListener = this.handlePopState.bind(this);\n      window.addEventListener('popstate', this.popStateListener);\n\n      // Modify browser history to detect back button\n      // This prevents the user from using back button without going through our cleanup\n      history.pushState(null, '', window.location.href);\n    }\n  }\n\n  // Handle the browser's back button\n  private handlePopState(event: PopStateEvent): void {\n    console.log('Detected browser back button, intercepting navigation');\n    // Prevent default back action\n    history.pushState(null, '', window.location.href);\n\n    // Use our controlled back navigation instead\n    this.goBack();\n  }\n\n  ngOnDestroy(): void {\n    // Clean up subscription if it exists\n    if (this.routerSubscription) {\n      this.routerSubscription.unsubscribe();\n    }\n\n    // Remove popstate listener\n    if (this.isBrowser && this.popStateListener) {\n      window.removeEventListener('popstate', this.popStateListener);\n    }\n\n    // Mark that we're cleaning up to prevent additional callbacks\n    this.cleanup = true;\n\n    // Clean up AR resources\n    this.cleanupARResources();\n  }\n\n  // Extract cleanup to a separate method to use in multiple places\n  private cleanupARResources(): void {\n    try {\n      // Only stop camera streams - less aggressive approach\n      if (navigator.mediaDevices) {\n        const videoElements = this.document.querySelectorAll('video');\n        videoElements.forEach(video => {\n          if (video.srcObject) {\n            try {\n              const mediaStream = video.srcObject as MediaStream;\n              mediaStream.getTracks().forEach(track => {\n                track.stop();\n              });\n              video.srcObject = null;\n            } catch (e) {\n              console.warn('Error stopping video track:', e);\n            }\n          }\n        });\n      }\n\n      // Stop any animations more gently\n      const sceneEl = this.document.querySelector('a-scene');\n      if (sceneEl) {\n        try {\n          // Access the AR.js system if it exists\n          // @ts-ignore - A-Frame systems are not typed in TypeScript\n          const arSystem = sceneEl.systems && sceneEl.systems['arjs'];\n          if (arSystem && typeof arSystem.pause === 'function') {\n            arSystem.pause();\n          }\n        } catch (e) {\n          console.warn('Error pausing AR system:', e);\n        }\n      }\n\n      // Use global cleanup helper if available\n      if (window.ARCleanup && typeof window.ARCleanup.cleanup === 'function') {\n        window.ARCleanup.cleanup();\n      }\n    } catch (err) {\n      console.warn('Error during AR cleanup:', err);\n    }\n  }\n\n  goBack(): void {\n    // Clean up AR resources\n    this.cleanupARResources();\n\n    // Force navigation by setting window location\n    // This is more reliable than Angular navigation for cleaning up WebGL contexts\n    try {\n      // Add a small delay to ensure cleanup completes\n      setTimeout(() => {\n        console.log('Navigating back to:', this.previousUrl);\n        // Simply use window.location to force a complete page reload\n        window.location.href = this.previousUrl || '/';\n      }, 300);\n    } catch (err) {\n      console.warn('Error during navigation:', err);\n      // Fallback to home page if there's an error\n      window.location.href = '/';\n    }\n  }\n}\n\n","<div class=\"ar-map\">\n  <!-- Back button for safe navigation -->\n  <button class=\"back-button\" (click)=\"goBack()\">\n    <i class=\"fas fa-arrow-left\"></i>\n  </button>\n\n  <a-scene\n    vr-mode-ui=\"enabled: false\"\n    renderer=\"antialias: false; precision: medium; logarithmicDepthBuffer: false;\"\n    arjs=\"sourceType: webcam; videoTexture: true; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3; sourceWidth: 1080; sourceHeight: 1920; displayWidth: 1080; displayHeight: 1920;\"\n  >\n    <a-entity\n      look-at=\"[gps-camera]\"\n      camera\n      gps-entity-place=\"latitude: {{ graveLatitude }}; longitude: {{ graveLongitude }};\"\n    >\n      <a-cone\n        color=\"red\"\n        height=\"1\"\n        radius-bottom=\"0\"\n        radius-top=\"0.2\"\n        position=\"0 0.5 0\"\n      ></a-cone>\n      <a-sphere color=\"red\" radius=\"0.2\" position=\"0 1.15 0\"></a-sphere>\n    </a-entity>\n    <a-camera gps-camera rotation-reader> </a-camera>\n  </a-scene>\n</div>\n","import { Routes } from '@angular/router';\nimport { GraveSearchComponent } from './components/grave-search/grave-search.component';\nimport { GraveSearchDetailsComponent } from './components/grave-search/grave-search-details/grave-search-details.component';\nimport { AuthGuard } from './core/guards/auth.guard';\nimport { AdminGuard } from './core/guards/admin.guard';\nimport { StoryComponent } from './components/story/story.component';\nimport { ArMapComponent } from './components/grave-search/grave-search-details/ar-map/ar-map.component';\n\nexport const routes: Routes = [\n  {\n    path: '',\n    component: GraveSearchComponent,\n    title: 'APP.TITLE'\n  },\n  {\n    path: 'search/:id',\n    component: GraveSearchDetailsComponent,\n    title: 'SEARCH.TITLE'\n  },\n  {\n    path: 'story',\n    component: StoryComponent,\n    title: 'MENU.STORY'\n  },\n  {\n    path: 'ar-view',\n    component: ArMapComponent,\n    title: 'GRAVE_DETAILS.AR_VIEW'\n  },\n  {\n    path: 'login',\n    loadComponent: () =>\n      import('./components/admin/login/login.component').then(\n        (m) => m.LoginComponent\n      ),\n    title: 'MENU.LOGIN'\n  },\n  {\n    path: 'admin/login',\n    loadComponent: () =>\n      import('./components/admin/login/login.component').then(\n        (m) => m.LoginComponent\n      ),\n    title: 'MENU.LOGIN'\n  },\n  {\n    path: 'grave/management',\n    loadComponent: () =>\n      import('./components/admin/core/grave-management/grave-management.component').then(\n        (m) => m.GraveManagementComponent\n      ),\n    canActivate: [AuthGuard, AdminGuard],\n    data: { roles: ['Admin', 'User'] },\n    title: 'MENU.MANAGEMENT'\n  },\n  {\n    path: 'grave/management/new',\n    loadComponent: () =>\n      import('./components/admin/core/grave-form/grave-form.component').then(\n        (m) => m.GraveFormComponent\n      ),\n    canActivate: [AuthGuard, AdminGuard],\n    data: { roles: ['Admin', 'User'] },\n    title: 'GRAVE.CREATE'\n  },\n  {\n    path: 'grave/edit/:id',\n    loadComponent: () =>\n      import('./components/admin/core/grave-form/grave-form.component').then(\n        (m) => m.GraveFormComponent\n      ),\n    canActivate: [AuthGuard, AdminGuard],\n    data: { roles: ['Admin', 'User'] },\n    title: 'GRAVE.EDIT'\n  },\n  {\n    path: 'grave/:id',\n    component: GraveSearchDetailsComponent,\n    title: 'GRAVE.VIEW_DETAILS'\n  },\n  // Add an unauthorized route\n  {\n    path: 'unauthorized',\n    loadComponent: () =>\n      import('./components/unauthorized/unauthorized.component').then(\n        (m) => m.UnauthorizedComponent\n      ),\n    title: 'APP.UNAUTHORIZED'\n  },\n  // Additional routes will be added as components are created\n  { path: '**', redirectTo: '', pathMatch: 'full' }, // Redirect any unknown routes to home\n];\n","import * as i0 from '@angular/core';\nimport { Injectable, Inject } from '@angular/core';\nimport * as i1 from '@angular/common/http';\nlet TranslateHttpLoader = /*#__PURE__*/(() => {\n  class TranslateHttpLoader {\n    http;\n    prefix;\n    suffix;\n    constructor(http, prefix = \"/assets/i18n/\", suffix = \".json\") {\n      this.http = http;\n      this.prefix = prefix;\n      this.suffix = suffix;\n    }\n    /**\n     * Gets the translations from the server\n     */\n    getTranslation(lang) {\n      return this.http.get(`${this.prefix}${lang}${this.suffix}`);\n    }\n    static ɵfac = function TranslateHttpLoader_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || TranslateHttpLoader)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(String), i0.ɵɵinject(String));\n    };\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: TranslateHttpLoader,\n      factory: TranslateHttpLoader.ɵfac\n    });\n  }\n  return TranslateHttpLoader;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TranslateHttpLoader };\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.dev/license\n */\n// THIS CODE IS GENERATED - DO NOT MODIFY.\nconst u = undefined;\nfunction plural(val) {\n  const n = val,\n    i = Math.floor(Math.abs(val)),\n    v = val.toString().replace(/^[^.]*\\.?/, '').length;\n  if (i === 1 && v === 0) return 1;\n  return 5;\n}\nexport default [\"en\", [[\"a\", \"p\"], [\"AM\", \"PM\"], u], [[\"AM\", \"PM\"], u, u], [[\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"], [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"], [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"], [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"]], u, [[\"J\", \"F\", \"M\", \"A\", \"M\", \"J\", \"J\", \"A\", \"S\", \"O\", \"N\", \"D\"], [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"], [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"]], u, [[\"B\", \"A\"], [\"BC\", \"AD\"], [\"Before Christ\", \"Anno Domini\"]], 0, [6, 0], [\"M/d/yy\", \"MMM d, y\", \"MMMM d, y\", \"EEEE, MMMM d, y\"], [\"h:mm a\", \"h:mm:ss a\", \"h:mm:ss a z\", \"h:mm:ss a zzzz\"], [\"{1}, {0}\", u, \"{1} 'at' {0}\", u], [\".\", \",\", \";\", \"%\", \"+\", \"-\", \"E\", \"×\", \"‰\", \"∞\", \"NaN\", \":\"], [\"#,##0.###\", \"#,##0%\", \"¤#,##0.00\", \"#E0\"], \"USD\", \"$\", \"US Dollar\", {}, \"ltr\", plural];\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.dev/license\n */\n// THIS CODE IS GENERATED - DO NOT MODIFY.\nconst u = undefined;\nfunction plural(val) {\n  const n = val,\n    i = Math.floor(Math.abs(val)),\n    v = val.toString().replace(/^[^.]*\\.?/, '').length,\n    e = parseInt(val.toString().replace(/^[^e]*(e([-+]?\\d+))?/, '$2')) || 0;\n  if (i === 0 || i === 1) return 1;\n  if (e === 0 && !(i === 0) && i % 1000000 === 0 && v === 0 || !(e >= 0 && e <= 5)) return 4;\n  return 5;\n}\nexport default [\"fr\", [[\"AM\", \"PM\"], u, u], u, [[\"D\", \"L\", \"M\", \"M\", \"J\", \"V\", \"S\"], [\"dim.\", \"lun.\", \"mar.\", \"mer.\", \"jeu.\", \"ven.\", \"sam.\"], [\"dimanche\", \"lundi\", \"mardi\", \"mercredi\", \"jeudi\", \"vendredi\", \"samedi\"], [\"di\", \"lu\", \"ma\", \"me\", \"je\", \"ve\", \"sa\"]], u, [[\"J\", \"F\", \"M\", \"A\", \"M\", \"J\", \"J\", \"A\", \"S\", \"O\", \"N\", \"D\"], [\"janv.\", \"févr.\", \"mars\", \"avr.\", \"mai\", \"juin\", \"juil.\", \"août\", \"sept.\", \"oct.\", \"nov.\", \"déc.\"], [\"janvier\", \"février\", \"mars\", \"avril\", \"mai\", \"juin\", \"juillet\", \"août\", \"septembre\", \"octobre\", \"novembre\", \"décembre\"]], u, [[\"av. J.-C.\", \"ap. J.-C.\"], u, [\"avant Jésus-Christ\", \"après Jésus-Christ\"]], 1, [6, 0], [\"dd/MM/y\", \"d MMM y\", \"d MMMM y\", \"EEEE d MMMM y\"], [\"HH:mm\", \"HH:mm:ss\", \"HH:mm:ss z\", \"HH:mm:ss zzzz\"], [\"{1} {0}\", \"{1}, {0}\", \"{1} 'à' {0}\", u], [\",\", \" \", \";\", \"%\", \"+\", \"-\", \"E\", \"×\", \"‰\", \"∞\", \"NaN\", \":\"], [\"#,##0.###\", \"#,##0 %\", \"#,##0.00 ¤\", \"#E0\"], \"EUR\", \"€\", \"euro\", {\n  \"ARS\": [\"$AR\", \"$\"],\n  \"AUD\": [\"$AU\", \"$\"],\n  \"BEF\": [\"FB\"],\n  \"BMD\": [\"$BM\", \"$\"],\n  \"BND\": [\"$BN\", \"$\"],\n  \"BYN\": [u, \"р.\"],\n  \"BZD\": [\"$BZ\", \"$\"],\n  \"CAD\": [\"$CA\", \"$\"],\n  \"CLP\": [\"$CL\", \"$\"],\n  \"CNY\": [u, \"¥\"],\n  \"COP\": [\"$CO\", \"$\"],\n  \"CYP\": [\"£CY\"],\n  \"EGP\": [u, \"£E\"],\n  \"FJD\": [\"$FJ\", \"$\"],\n  \"FKP\": [\"£FK\", \"£\"],\n  \"FRF\": [\"F\"],\n  \"GBP\": [\"£GB\", \"£\"],\n  \"GIP\": [\"£GI\", \"£\"],\n  \"HKD\": [u, \"$\"],\n  \"IEP\": [\"£IE\"],\n  \"ILP\": [\"£IL\"],\n  \"ITL\": [\"₤IT\"],\n  \"JPY\": [u, \"¥\"],\n  \"KMF\": [u, \"FC\"],\n  \"LBP\": [\"£LB\", \"£L\"],\n  \"MTP\": [\"£MT\"],\n  \"MXN\": [\"$MX\", \"$\"],\n  \"NAD\": [\"$NA\", \"$\"],\n  \"NIO\": [u, \"$C\"],\n  \"NZD\": [\"$NZ\", \"$\"],\n  \"PHP\": [u, \"₱\"],\n  \"RHD\": [\"$RH\"],\n  \"RON\": [u, \"L\"],\n  \"RWF\": [u, \"FR\"],\n  \"SBD\": [\"$SB\", \"$\"],\n  \"SGD\": [\"$SG\", \"$\"],\n  \"SRD\": [\"$SR\", \"$\"],\n  \"TOP\": [u, \"$T\"],\n  \"TTD\": [\"$TT\", \"$\"],\n  \"TWD\": [u, \"NT$\"],\n  \"USD\": [\"$US\", \"$\"],\n  \"UYU\": [\"$UY\", \"$\"],\n  \"WST\": [\"$WS\"],\n  \"XCD\": [u, \"$\"],\n  \"XPF\": [\"FCFP\"],\n  \"ZMW\": [u, \"Kw\"]\n}, \"ltr\", plural];\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.dev/license\n */\n// THIS CODE IS GENERATED - DO NOT MODIFY.\nconst u = undefined;\nfunction plural(val) {\n  const n = val;\n  if (n === 0) return 0;\n  if (n === 1) return 1;\n  if (n === 2) return 2;\n  if (n % 100 === Math.floor(n % 100) && n % 100 >= 3 && n % 100 <= 10) return 3;\n  if (n % 100 === Math.floor(n % 100) && n % 100 >= 11 && n % 100 <= 99) return 4;\n  return 5;\n}\nexport default [\"ar\", [[\"ص\", \"م\"], u, u], [[\"ص\", \"م\"], u, [\"صباحًا\", \"مساءً\"]], [[\"ح\", \"ن\", \"ث\", \"ر\", \"خ\", \"ج\", \"س\"], [\"الأحد\", \"الاثنين\", \"الثلاثاء\", \"الأربعاء\", \"الخميس\", \"الجمعة\", \"السبت\"], u, [\"أحد\", \"إثنين\", \"ثلاثاء\", \"أربعاء\", \"خميس\", \"جمعة\", \"سبت\"]], u, [[\"ي\", \"ف\", \"م\", \"أ\", \"و\", \"ن\", \"ل\", \"غ\", \"س\", \"ك\", \"ب\", \"د\"], [\"يناير\", \"فبراير\", \"مارس\", \"أبريل\", \"مايو\", \"يونيو\", \"يوليو\", \"أغسطس\", \"سبتمبر\", \"أكتوبر\", \"نوفمبر\", \"ديسمبر\"], u], u, [[\"ق.م\", \"م\"], u, [\"قبل الميلاد\", \"ميلادي\"]], 6, [5, 6], [\"d‏/M‏/y\", \"dd‏/MM‏/y\", \"d MMMM y\", \"EEEE، d MMMM y\"], [\"h:mm a\", \"h:mm:ss a\", \"h:mm:ss a z\", \"h:mm:ss a zzzz\"], [\"{1}, {0}\", u, \"{1} في {0}\", u], [\".\", \",\", \";\", \"‎%‎\", \"‎+\", \"‎-\", \"E\", \"×\", \"‰\", \"∞\", \"ليس رقمًا\", \":\"], [\"#,##0.###\", \"#,##0%\", \"¤ #,##0.00\", \"#E0\"], \"EGP\", \"ج.م.‏\", \"جنيه مصري\", {\n  \"AED\": [\"د.إ.‏\"],\n  \"ARS\": [u, \"AR$\"],\n  \"AUD\": [\"AU$\"],\n  \"BBD\": [u, \"BB$\"],\n  \"BHD\": [\"د.ب.‏\"],\n  \"BMD\": [u, \"BM$\"],\n  \"BND\": [u, \"BN$\"],\n  \"BSD\": [u, \"BS$\"],\n  \"BYN\": [u, \"р.\"],\n  \"BZD\": [u, \"BZ$\"],\n  \"CAD\": [\"CA$\"],\n  \"CLP\": [u, \"CL$\"],\n  \"CNY\": [\"CN¥\"],\n  \"COP\": [u, \"CO$\"],\n  \"CUP\": [u, \"CU$\"],\n  \"DOP\": [u, \"DO$\"],\n  \"DZD\": [\"د.ج.‏\"],\n  \"EGP\": [\"ج.م.‏\", \"E£\"],\n  \"FJD\": [u, \"FJ$\"],\n  \"GBP\": [\"UK£\"],\n  \"GYD\": [u, \"GY$\"],\n  \"HKD\": [\"HK$\"],\n  \"IQD\": [\"د.ع.‏\"],\n  \"IRR\": [\"ر.إ.\"],\n  \"JMD\": [u, \"JM$\"],\n  \"JOD\": [\"د.أ.‏\"],\n  \"JPY\": [\"JP¥\"],\n  \"KWD\": [\"د.ك.‏\"],\n  \"KYD\": [u, \"KY$\"],\n  \"LBP\": [\"ل.ل.‏\", \"L£\"],\n  \"LRD\": [u, \"$LR\"],\n  \"LYD\": [\"د.ل.‏\"],\n  \"MAD\": [\"د.م.‏\"],\n  \"MRU\": [\"أ.م.\"],\n  \"MXN\": [\"MX$\"],\n  \"NZD\": [\"NZ$\"],\n  \"OMR\": [\"ر.ع.‏\"],\n  \"PHP\": [u, \"₱\"],\n  \"QAR\": [\"ر.ق.‏\"],\n  \"SAR\": [\"ر.س.‏\"],\n  \"SBD\": [u, \"SB$\"],\n  \"SDD\": [\"د.س.‏\"],\n  \"SDG\": [\"ج.س.\"],\n  \"SRD\": [u, \"SR$\"],\n  \"SYP\": [\"ل.س.‏\", \"£\"],\n  \"THB\": [\"฿\"],\n  \"TND\": [\"د.ت.‏\"],\n  \"TTD\": [u, \"TT$\"],\n  \"TWD\": [\"NT$\"],\n  \"USD\": [\"US$\"],\n  \"UYU\": [u, \"UY$\"],\n  \"YER\": [\"ر.ي.‏\"]\n}, \"rtl\", plural];\n","import { HttpErrorResponse, HttpHandlerFn, HttpRequest } from '@angular/common/http';\nimport { inject } from '@angular/core';\nimport { catchError, throwError } from 'rxjs';\nimport { ToastService } from '../services/toast.service';\n\nexport function errorInterceptor(\n  request: HttpRequest<unknown>,\n  next: HttpHandlerFn\n) {\n  console.log('🔍 Functional ErrorInterceptor running for:', request.url);\n  const toast = inject(ToastService);\n\n  // Debug - confirm toast service is injected\n  console.log('💉 Toast service injected:', !!toast);\n\n  return next(request).pipe(\n    catchError((error: HttpErrorResponse) => {\n      console.log('🚨 Intercepted error:', error.status, error.url);\n      console.log('📝 Error details:', error);\n\n      if (error) {\n        // Extract error message - handle various error formats\n        let errorMessage = 'An unknown error occurred';\n\n        if (error.error) {\n          if (typeof error.error === 'string') {\n            errorMessage = error.error;\n          } else if (error.error.message) {\n            errorMessage = error.error.message;\n          } else if (error.message) {\n            errorMessage = error.message;\n          }\n        } else if (error.message) {\n          errorMessage = error.message;\n        }\n\n        console.log('📄 Extracted error message:', errorMessage);\n\n        switch (error.status) {\n          case 400:\n            if (error.error && error.error.errors) {\n              const modalStateErrors: string[] = [];\n              for (const key in error.error.errors) {\n                if (error.error.errors[key]) {\n                  modalStateErrors.push(error.error.errors[key] as string);\n                }\n              }\n              console.log('🔢 Modal state errors:', modalStateErrors);\n              toast.error(modalStateErrors.join(', '));\n              console.log('🔔 Toast error called with modal state errors');\n              throw modalStateErrors;\n            } else {\n              console.log('🔴 400 error:', errorMessage);\n              toast.error(errorMessage, error.status);\n              console.log('🔔 Toast error called with status 400');\n            }\n            break;\n          case 401:\n            console.log('🔑 401 error:', errorMessage);\n            toast.error(errorMessage || 'Unauthorized', error.status);\n            console.log('🔔 Toast error called with status 401');\n            break;\n          case 404:\n            console.log('🔍 404 error');\n            toast.error('Resource not found', 404);\n            console.log('🔔 Toast error called with status 404');\n            // No router navigation here to avoid circular dependencies\n            break;\n          case 500:\n            console.log('💥 500 error:', error.error);\n            toast.error(\"Internal Server Error\", error.status);\n            console.log('🔔 Toast error called with status 500');\n            break;\n          default:\n            console.log('❓ Other error:', error);\n            toast.error(errorMessage || \"Something unexpected went wrong!\");\n            console.log('🔔 Toast error called with general error');\n            break;\n        }\n      }\n\n      return throwError(() => error);\n    })\n  );\n}\n","import { HttpEvent, HttpHandlerFn, HttpRequest } from '@angular/common/http';\nimport { inject } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { take } from 'rxjs/operators';\nimport { AuthService } from '../../core/services/auth.service';\n\nexport function jwtInterceptor(\n  request: HttpRequest<unknown>,\n  next: HttpHandlerFn\n): Observable<HttpEvent<unknown>> {\n  console.log('Functional JwtInterceptor running');\n  const authService = inject(AuthService);\n\n  let currentUser: any = null;\n\n  // Get the current user synchronously\n  authService.currentUser$\n    .pipe(take(1))\n    .subscribe(user => {\n      currentUser = user;\n    });\n\n  // If we have a user with a token, add the Authorization header\n  if (currentUser && currentUser.token) {\n    request = request.clone({\n      setHeaders: {\n        Authorization: `Bearer ${currentUser.token}`\n      }\n    });\n  }\n\n  return next(request);\n}\n","import { Injectable, OnDestroy } from '@angular/core';\nimport { Title } from '@angular/platform-browser';\nimport { RouterStateSnapshot, TitleStrategy } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Subject, takeUntil } from 'rxjs';\n\n@Injectable()\nexport class CustomTitleStrategy extends TitleStrategy implements OnDestroy {\n  private currentTitle: string | undefined;\n  private destroy$ = new Subject<void>();\n\n  constructor(\n    private readonly title: Title,\n    private translateService: TranslateService\n  ) {\n    super();\n\n    // Subscribe to language changes to update the title\n    this.translateService.onLangChange\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(() => {\n        if (this.currentTitle) {\n          const translatedTitle = this.translateService.instant(this.currentTitle);\n          this.title.setTitle(translatedTitle);\n        }\n      });\n  }\n\n  override updateTitle(routerState: RouterStateSnapshot): void {\n    const title = this.buildTitle(routerState);\n    this.currentTitle = title;\n\n    if (title) {\n      // Use synchronous translation to avoid potential circular dependencies\n      const translatedTitle = this.translateService.instant(title);\n      this.title.setTitle(translatedTitle);\n    } else {\n      // Set default app title\n      const defaultTitle = this.translateService.instant('APP.TITLE');\n      this.title.setTitle(defaultTitle);\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n}\n","import {\n  ApplicationConfig,\n  importProvidersFrom,\n  provideZoneChangeDetection,\n  LOCALE_ID,\n  APP_INITIALIZER,\n} from '@angular/core';\nimport { provideRouter, withInMemoryScrolling, withViewTransitions, Router, NavigationEnd, TitleStrategy } from '@angular/router';\n\nimport { routes } from './app.routes';\nimport {\n  provideClientHydration,\n  withEventReplay,\n  Title,\n} from '@angular/platform-browser';\nimport { HttpClient, provideHttpClient, withFetch, withInterceptors } from '@angular/common/http';\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\nimport {\n  DATE_PIPE_DEFAULT_OPTIONS,\n  DatePipe,\n  registerLocaleData,\n  ViewportScroller,\n} from '@angular/common';\nimport localeEn from '@angular/common/locales/en';\nimport localeFr from '@angular/common/locales/fr';\nimport localeAr from '@angular/common/locales/ar';\nimport { errorInterceptor } from './shared/interceptors/error.interceptor.fn';\nimport { jwtInterceptor } from './shared/interceptors/jwt.interceptor.fn';\nimport { ToastService } from './shared/services/toast.service';\nimport { EmailService } from './services/email.service';\nimport { filter } from 'rxjs/operators';\nimport { CustomTitleStrategy } from './core/services/title.strategy';\n\n// Register locale data\nregisterLocaleData(localeEn);\nregisterLocaleData(localeFr);\nregisterLocaleData(localeAr);\n\nexport function httpLoaderFactory(http: HttpClient) {\n  return new TranslateHttpLoader(http, './assets/i18n/', '.json');\n}\n\n// Function to initialize smooth scrolling\nexport function initSmoothScrolling(router: Router) {\n  return () => {\n    router.events.pipe(\n      filter(event => event instanceof NavigationEnd)\n    ).subscribe(() => {\n      // Use setTimeout to ensure this runs after Angular's view has been fully updated\n      setTimeout(() => {\n        // Use smooth scrolling\n        window.scrollTo({\n          top: 0,\n          left: 0,\n          behavior: 'smooth'\n        });\n      }, 0);\n    });\n\n    return Promise.resolve();\n  };\n}\n\nexport const appConfig: ApplicationConfig = {\n  providers: [\n    provideZoneChangeDetection({ eventCoalescing: true }),\n    provideRouter(\n      routes,\n      withViewTransitions()\n      // No longer need withInMemoryScrolling since we're manually handling it\n    ),\n    // Use our custom title strategy\n    { provide: TitleStrategy, useClass: CustomTitleStrategy },\n    {\n      provide: APP_INITIALIZER,\n      useFactory: initSmoothScrolling,\n      deps: [Router],\n      multi: true\n    },\n    provideClientHydration(withEventReplay()),\n    // Provide HTTP client with interceptors using the modern API\n    provideHttpClient(\n      withFetch(),\n      withInterceptors([\n        // Order matters here - jwt should run before error handler\n        jwtInterceptor,\n        errorInterceptor\n      ])\n    ),\n    // Register ToastService\n    ToastService,\n    // Register EmailService\n    EmailService,\n    // Make DatePipe available application-wide\n    DatePipe,\n    // Provide global locale for date formatting\n    { provide: LOCALE_ID, useValue: 'ar' },\n    {\n      provide: DATE_PIPE_DEFAULT_OPTIONS,\n      useValue: {\n        dateFormat: 'yyyy/MM/dd', // You can customize this format\n        timezone: 'UTC', // Optional: set timezone\n      },\n    },\n    importProvidersFrom(\n      TranslateModule.forRoot({\n        loader: {\n          provide: TranslateLoader,\n          useFactory: httpLoaderFactory,\n          deps: [HttpClient],\n        },\n        defaultLanguage: 'ar',\n      })\n    ),\n  ],\n};\n","import { Component, AfterViewInit, Inject, PLATFORM_ID, HostListener, OnInit, OnDestroy } from '@angular/core';\nimport { CommonModule, isPlatformBrowser } from '@angular/common';\nimport { TranslateModule, TranslateService } from '@ngx-translate/core';\nimport { Router, RouterModule } from '@angular/router';\nimport { AuthService } from '../../core/services/auth.service';\nimport { HasRoleDirective } from '../directives/hasRole.directive';\nimport { Subject, takeUntil } from 'rxjs';\n\n@Component({\n  selector: 'app-header',\n  standalone: true,\n  imports: [\n    CommonModule,\n    TranslateModule,\n    RouterModule,\n    HasRoleDirective\n  ],\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss']\n})\nexport class HeaderComponent implements AfterViewInit, OnInit, OnDestroy {\n  currentLang: string = 'en';\n  isBrowser: boolean;\n  darkMode: boolean = false;\n  isMobileMenuOpen: boolean = false;\n  isLoggedIn: boolean = false;\n  private destroy$ = new Subject<void>();\n\n  // Add a MediaQueryList property to track system dark mode preference\n  private prefersColorSchemeMedia?: MediaQueryList;\n\n  get languageLabel(): string {\n    return this.currentLang !== 'en' ? 'English' : 'عربي';\n  }\n\n  constructor(\n    private translateService: TranslateService,\n    private authService: AuthService,\n    private router: Router,\n    @Inject(PLATFORM_ID) private platformId: Object\n  ) {\n    this.isBrowser = isPlatformBrowser(this.platformId);\n\n    // Get language from localStorage if in browser environment\n    if (this.isBrowser) {\n      const savedLang = localStorage.getItem('preferredLanguage');\n      if (savedLang && ['en', 'ar'].includes(savedLang)) {\n        this.translateService.use(savedLang);\n        this.currentLang = savedLang;\n      } else {\n        this.currentLang = this.translateService.currentLang || 'en';\n      }\n\n      // Initialize dark mode from localStorage or system preference\n      this.initializeDarkMode();\n    } else {\n      // On server, use English as default since we can't get the current language reliably\n      this.currentLang = 'ar';\n    }\n  }\n\n  ngOnInit(): void {\n    // Subscribe to auth state\n    this.authService.currentUser$\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(user => {\n        this.isLoggedIn = !!user?.token;\n      });\n  }\n\n  // Handle window resize events\n  @HostListener('window:resize', ['$event'])\n  onResize(event: any): void {\n    // If we're in a browser environment and the window width is desktop-sized\n    if (this.isBrowser && window.innerWidth >= 1024) { // 1024px is the 'lg' breakpoint in Tailwind\n      if (this.isMobileMenuOpen) {\n        this.isMobileMenuOpen = false;\n        if (this.isBrowser) {\n          document.body.classList.remove('overflow-hidden');\n        }\n      }\n    }\n  }\n\n  toggleMobileMenu(): void {\n    this.isMobileMenuOpen = !this.isMobileMenuOpen;\n\n    if (this.isBrowser) {\n      if (this.isMobileMenuOpen) {\n        document.body.classList.add('overflow-hidden');\n      } else {\n        document.body.classList.remove('overflow-hidden');\n      }\n    }\n\n    console.log('Mobile menu toggled:', this.isMobileMenuOpen);\n  }\n\n  closeMobileMenu(): void {\n    if (this.isMobileMenuOpen) {\n      this.isMobileMenuOpen = false;\n\n      if (this.isBrowser) {\n        document.body.classList.remove('overflow-hidden');\n      }\n\n      console.log('Mobile menu closed');\n    }\n  }\n\n  switchLanguage(): void {\n    // Toggle between English and Arabic\n    const newLang = this.currentLang === 'en' ? 'ar' : 'en';\n    this.translateService.use(newLang);\n    this.currentLang = newLang;\n\n    // Only use localStorage in browser environment\n    if (this.isBrowser) {\n      localStorage.setItem('preferredLanguage', newLang);\n\n      // If switching to Arabic, add RTL class to document, otherwise remove it\n      if (newLang === 'ar') {\n        document.documentElement.dir = 'rtl';\n        document.body.classList.add('rtl');\n      } else {\n        document.documentElement.dir = 'ltr';\n        document.body.classList.remove('rtl');\n      }\n    }\n  }\n\n  initializeDarkMode(): void {\n    if (!this.isBrowser) return;\n\n    // Check system preference directly\n    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)');\n    this.prefersColorSchemeMedia = prefersDark;\n\n    // Set dark mode based on system preference\n    this.darkMode = prefersDark.matches;\n    this.applyDarkMode(this.darkMode);\n\n    // Add listener for system preference changes\n    this.prefersColorSchemeMedia.addEventListener('change', (e) => {\n      this.darkMode = e.matches;\n      this.applyDarkMode(this.darkMode);\n    });\n  }\n\n  // Helper method to apply dark mode changes\n  private applyDarkMode(isDark: boolean): void {\n    if (isDark) {\n      document.documentElement.classList.add('dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n    }\n  }\n\n  // Remove toggleDarkMode as it's no longer needed, but keep the method signature\n  // as empty to avoid breaking any existing references\n  toggleDarkMode(): void {\n    // Do nothing - dark mode now follows system preference\n  }\n\n  ngAfterViewInit(): void {\n    // Only manipulate DOM in browser environment\n    if (!this.isBrowser) return;\n\n    // Desktop product dropdown toggle\n    const productDropdownToggle = document.getElementById('product-dropdown-toggle');\n    const productDropdown = document.getElementById('product-dropdown');\n\n    // Desktop product dropdown toggle\n    if (productDropdownToggle && productDropdown) {\n      productDropdownToggle.addEventListener('click', () => {\n        productDropdown.classList.toggle('hidden');\n        const isExpanded = productDropdownToggle.getAttribute('aria-expanded') === 'true';\n        productDropdownToggle.setAttribute('aria-expanded', (!isExpanded).toString());\n      });\n\n      // Close dropdown when clicking outside\n      document.addEventListener('click', (event) => {\n        if (!productDropdownToggle.contains(event.target as Node) &&\n            !productDropdown.contains(event.target as Node)) {\n          productDropdown.classList.add('hidden');\n          productDropdownToggle.setAttribute('aria-expanded', 'false');\n        }\n      });\n    }\n  }\n\n  ngOnDestroy(): void {\n    // Clean up the media query listener when component is destroyed\n    if (this.isBrowser && this.prefersColorSchemeMedia) {\n      this.prefersColorSchemeMedia.removeEventListener('change', (e) => {\n        this.darkMode = e.matches;\n        this.applyDarkMode(this.darkMode);\n      });\n    }\n\n    // Clean up subscriptions\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  logout(): void {\n    this.authService.logout();\n    // Navigate to home page after logout\n    this.router.navigate(['/']);\n    // window.location.href = '/'; // Using window.location to force a full page reload\n  }\n}\n","<!-- Clean, Simple Header matching the image -->\n<header class=\"bg-white dark:bg-gray-800\">\n  <nav\n    class=\"mx-auto flex max-w-7xl items-center justify-between p-6 lg:px-8\"\n    aria-label=\"Global\"\n  >\n    <!-- Logo with increased size -->\n    <div class=\"flex lg:flex-1\">\n      <a routerLink=\"/\" class=\"-m-1.5 p-1.5\">\n        <span class=\"sr-only\">GraveNew</span>\n        <img\n          *ngIf=\"!darkMode\"\n          class=\"h-16 w-auto\"\n          src=\"../../../assets/logo/Logo.svg\"\n          alt=\"Logo\"\n        />\n        <img\n          *ngIf=\"darkMode\"\n          class=\"h-16 w-auto\"\n          src=\"../../../assets/logo/Logo-white.svg\"\n          alt=\"Logo\"\n        />\n      </a>\n    </div>\n\n    <!-- Mobile menu button -->\n    <div class=\"flex lg:hidden\">\n      <button\n        type=\"button\"\n        class=\"-m-2.5 inline-flex items-center justify-center rounded-md p-2.5 text-gray-700 dark:text-gray-300 hover:text-arabic-green hover:dark:text-arabic-green-light transition-colors duration-200\"\n        (click)=\"toggleMobileMenu()\"\n        [attr.aria-expanded]=\"isMobileMenuOpen\"\n        aria-controls=\"mobile-menu\"\n        aria-label=\"Toggle navigation menu\"\n      >\n        <span class=\"sr-only\">Open main menu</span>\n        <svg\n          class=\"size-6\"\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke-width=\"1.5\"\n          stroke=\"currentColor\"\n          aria-hidden=\"true\"\n          data-slot=\"icon\"\n        >\n          <path\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n            d=\"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5\"\n          />\n        </svg>\n      </button>\n    </div>\n\n    <!-- Desktop navigation menu - simplified without dropdown -->\n    <div class=\"hidden lg:flex lg:gap-x-12\">\n      <!-- Updated navbar links for grave search application -->\n      <a\n        routerLink=\"/\"\n        routerLinkActive=\"text-arabic-green dark:text-arabic-green-light\"\n        [routerLinkActiveOptions]=\"{ exact: true }\"\n        class=\"text-sm/6 font-semibold text-gray-900 dark:text-gray-100 hover:text-arabic-green hover:dark:text-arabic-green-light transition-colors duration-200 no-underline\"\n        >{{ \"MENU.SEARCH\" | translate }}</a\n      >\n      <a\n        routerLink=\"/story\"\n        routerLinkActive=\"text-arabic-green dark:text-arabic-green-light\"\n        [routerLinkActiveOptions]=\"{ exact: false }\"\n        class=\"text-sm/6 font-semibold text-gray-900 dark:text-gray-100 hover:text-arabic-green hover:dark:text-arabic-green-light transition-colors duration-200 no-underline\"\n        >{{ \"MENU.STORY\" | translate }}</a\n      >\n      <!-- <a\n        routerLink=\"/cemetery-map\"\n        routerLinkActive=\"text-arabic-green dark:text-arabic-green-light\"\n        [routerLinkActiveOptions]=\"{ exact: false }\"\n        class=\"text-sm/6 font-semibold text-gray-900 dark:text-gray-100 hover:text-arabic-green hover:dark:text-arabic-green-light transition-colors duration-200 no-underline\"\n        >{{ \"MENU.CEMETERY_MAP\" | translate }}</a\n      >\n      <a\n        routerLink=\"/memorial-services\"\n        routerLinkActive=\"text-arabic-green dark:text-arabic-green-light\"\n        [routerLinkActiveOptions]=\"{ exact: false }\"\n        class=\"text-sm/6 font-semibold text-gray-900 dark:text-gray-100 hover:text-arabic-green hover:dark:text-arabic-green-light transition-colors duration-200 no-underline\"\n        >{{ \"MENU.MEMORIAL_SERVICES\" | translate }}</a\n      >\n      <a\n        routerLink=\"/about\"\n        routerLinkActive=\"text-arabic-green dark:text-arabic-green-light\"\n        [routerLinkActiveOptions]=\"{ exact: false }\"\n        class=\"text-sm/6 font-semibold text-gray-900 dark:text-gray-100 hover:text-arabic-green hover:dark:text-arabic-green-light transition-colors duration-200 no-underline\"\n        >{{ \"MENU.ABOUT_US\" | translate }}</a\n      > -->\n      <!-- Management item with role-based access control -->\n      <ng-container *appHasRole=\"['Admin', 'User']\">\n        <a\n          routerLink=\"grave/management\"\n          routerLinkActive=\"text-arabic-green dark:text-arabic-green-light\"\n          [routerLinkActiveOptions]=\"{ exact: false }\"\n          class=\"text-sm/6 font-semibold text-gray-900 dark:text-gray-100 hover:text-arabic-green hover:dark:text-arabic-green-light transition-colors duration-200 no-underline\"\n          >{{ \"MENU.MANAGEMENT\" | translate }}</a\n        >\n      </ng-container>\n    </div>\n\n    <!-- Login button and Language switcher -->\n    <div\n      class=\"hidden lg:flex lg:flex-1 lg:justify-end lg:items-center lg:gap-x-6\"\n    >\n      <!-- Language Switcher -->\n      <button\n        *ngIf=\"isBrowser\"\n        (click)=\"switchLanguage()\"\n        class=\"text-sm/6 font-semibold text-gray-900 dark:text-gray-100 hover:text-arabic-green hover:dark:text-arabic-green-light transition-colors flex items-center cursor-pointer gap-2\"\n        aria-label=\"Switch language\"\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          class=\"h-5 w-5\"\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n        >\n          <path\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n            stroke-width=\"2\"\n            d=\"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129\"\n          />\n        </svg>\n        {{ languageLabel }}\n      </button>\n\n      <!-- Logout Button -->\n      <button\n        *ngIf=\"isLoggedIn\"\n        (click)=\"logout()\"\n        class=\"text-sm/6 font-semibold text-gray-900 dark:text-gray-100 hover:text-arabic-green hover:dark:text-arabic-green-light transition-colors duration-200 no-underline inline-flex items-center cursor-pointer\"\n      >\n        {{ \"MENU.LOGOUT\" | translate }}\n      </button>\n\n      <!-- Login Button -->\n      <a\n        *ngIf=\"!isLoggedIn\"\n        routerLink=\"/login\"\n        class=\"text-sm/6 font-semibold text-gray-900 dark:text-gray-100 hover:text-arabic-green hover:dark:text-arabic-green-light transition-colors duration-200 no-underline inline-flex items-center\"\n        >{{ \"MENU.LOGIN\" | translate }}\n        <span class=\"ml-1 rtl:rotate-180\" aria-hidden=\"true\">&rarr;</span></a\n      >\n    </div>\n  </nav>\n\n  <!-- Mobile menu - simplified -->\n  <div\n    [class.hidden]=\"!isMobileMenuOpen\"\n    class=\"lg:hidden fixed inset-0 z-50\"\n    id=\"mobile-menu\"\n    role=\"dialog\"\n    aria-modal=\"true\"\n  >\n    <!-- Background backdrop with semi-transparent overlay -->\n    <div\n      id=\"mobile-menu-backdrop\"\n      (click)=\"closeMobileMenu()\"\n      class=\"fixed inset-0 bg-gray-600 bg-opacity-75 dark:bg-gray-900 dark:bg-opacity-75 transition-opacity\"\n    ></div>\n    <div\n      class=\"fixed inset-y-0 right-0 z-[60] w-full overflow-y-auto bg-white dark:bg-gray-800 px-6 py-6 sm:max-w-sm sm:ring-1 sm:ring-gray-900/10 dark:sm:ring-gray-700/30 shadow-xl transform translate-x-0 transition-transform duration-300 ease-in-out\"\n    >\n      <div class=\"flex items-center justify-between\">\n        <a routerLink=\"/\" class=\"-m-1.5 p-1.5\" (click)=\"closeMobileMenu()\">\n          <span class=\"sr-only\">GraveNew</span>\n          <!-- Arabic Light mode logo in mobile menu -->\n          <img\n            *ngIf=\"!darkMode\"\n            class=\"h-16 w-auto\"\n            src=\"../../../assets/logo/Logo.svg\"\n            alt=\"Logo\"\n          />\n          <!-- Arabic Dark mode logo in mobile menu -->\n          <img\n            *ngIf=\"darkMode\"\n            class=\"h-16 w-auto\"\n            src=\"../../../assets/logo/Logo-white.svg\"\n            alt=\"Logo\"\n          />\n        </a>\n        <button\n          type=\"button\"\n          class=\"-m-2.5 rounded-md p-2.5 text-gray-700 dark:text-gray-300 hover:text-arabic-green hover:dark:text-arabic-green-light transition-colors duration-200\"\n          (click)=\"closeMobileMenu()\"\n          aria-label=\"Close menu\"\n        >\n          <span class=\"sr-only\">Close menu</span>\n          <svg\n            class=\"size-6\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke-width=\"1.5\"\n            stroke=\"currentColor\"\n            aria-hidden=\"true\"\n            data-slot=\"icon\"\n          >\n            <path\n              stroke-linecap=\"round\"\n              stroke-linejoin=\"round\"\n              d=\"M6 18 18 6M6 6l12 12\"\n            />\n          </svg>\n        </button>\n      </div>\n      <div class=\"mt-6 flow-root\">\n        <div class=\"-my-6 divide-y divide-gray-500/10 dark:divide-gray-700/50\">\n          <div class=\"space-y-2 py-6\">\n            <a\n              id=\"mobile-menu-search\"\n              routerLink=\"/\"\n              routerLinkActive=\"text-arabic-green dark:text-arabic-green-light bg-gray-50 dark:bg-gray-700\"\n              [routerLinkActiveOptions]=\"{ exact: true }\"\n              class=\"-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-gray-900 dark:text-gray-100 hover:text-arabic-green hover:dark:text-arabic-green-light hover:bg-gray-50 hover:dark:bg-gray-700 transition-colors duration-200 no-underline\"\n              (click)=\"closeMobileMenu()\"\n              >{{ \"MENU.SEARCH\" | translate }}</a\n            >\n            <a\n              id=\"mobile-menu-story\"\n              routerLink=\"/story\"\n              routerLinkActive=\"text-arabic-green dark:text-arabic-green-light bg-gray-50 dark:bg-gray-700\"\n              [routerLinkActiveOptions]=\"{ exact: false }\"\n              class=\"-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-gray-900 dark:text-gray-100 hover:text-arabic-green hover:dark:text-arabic-green-light hover:bg-gray-50 hover:dark:bg-gray-700 transition-colors duration-200 no-underline\"\n              (click)=\"closeMobileMenu()\"\n              >{{ \"MENU.STORY\" | translate }}</a\n            >\n            <!-- <a\n              id=\"mobile-menu-map\"\n              routerLink=\"/cemetery-map\"\n              routerLinkActive=\"text-arabic-green dark:text-arabic-green-light bg-gray-50 dark:bg-gray-700\"\n              [routerLinkActiveOptions]=\"{ exact: false }\"\n              class=\"-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-gray-900 dark:text-gray-100 hover:text-arabic-green hover:dark:text-arabic-green-light hover:bg-gray-50 hover:dark:bg-gray-700 transition-colors duration-200 no-underline\"\n              (click)=\"closeMobileMenu()\"\n              >{{ \"MENU.CEMETERY_MAP\" | translate }}</a\n            >\n            <a\n              id=\"mobile-menu-memorial\"\n              routerLink=\"/memorial-services\"\n              routerLinkActive=\"text-arabic-green dark:text-arabic-green-light bg-gray-50 dark:bg-gray-700\"\n              [routerLinkActiveOptions]=\"{ exact: false }\"\n              class=\"-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-gray-900 dark:text-gray-100 hover:text-arabic-green hover:dark:text-arabic-green-light hover:bg-gray-50 hover:dark:bg-gray-700 transition-colors duration-200 no-underline\"\n              (click)=\"closeMobileMenu()\"\n              >{{ \"MENU.MEMORIAL_SERVICES\" | translate }}</a\n            >\n            <a\n              id=\"mobile-menu-about\"\n              routerLink=\"/about\"\n              routerLinkActive=\"text-arabic-green dark:text-arabic-green-light bg-gray-50 dark:bg-gray-700\"\n              [routerLinkActiveOptions]=\"{ exact: false }\"\n              class=\"-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-gray-900 dark:text-gray-100 hover:text-arabic-green hover:dark:text-arabic-green-light hover:bg-gray-50 hover:dark:bg-gray-700 transition-colors duration-200 no-underline\"\n              (click)=\"closeMobileMenu()\"\n              >{{ \"MENU.ABOUT_US\" | translate }}</a\n            > -->\n            <!-- Management item with role-based access control for mobile -->\n            <ng-container *appHasRole=\"['Admin', 'User']\">\n              <a\n                id=\"mobile-menu-management\"\n                routerLink=\"grave/management\"\n                routerLinkActive=\"text-arabic-green dark:text-arabic-green-light bg-gray-50 dark:bg-gray-700\"\n                [routerLinkActiveOptions]=\"{ exact: false }\"\n                class=\"-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-gray-900 dark:text-gray-100 hover:text-arabic-green hover:dark:text-arabic-green-light hover:bg-gray-50 hover:dark:bg-gray-700 transition-colors duration-200 no-underline\"\n                (click)=\"closeMobileMenu()\"\n                >{{ \"MENU.MANAGEMENT\" | translate }}</a\n              >\n            </ng-container>\n          </div>\n          <div class=\"py-6\">\n            <!-- Language Switcher in Mobile Menu -->\n            <button\n              *ngIf=\"isBrowser\"\n              (click)=\"switchLanguage()\"\n              class=\"-mx-3 flex items-center gap-2 rounded-lg px-3 py-2 text-base/7 font-semibold text-gray-900 dark:text-gray-100 hover:text-arabic-green hover:dark:text-arabic-green-light hover:bg-gray-50 hover:dark:bg-gray-800 transition-colors duration-200 w-full text-left\"\n              aria-label=\"Switch language\"\n            >\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                class=\"h-5 w-5\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  stroke-linecap=\"round\"\n                  stroke-linejoin=\"round\"\n                  stroke-width=\"2\"\n                  d=\"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129\"\n                />\n              </svg>\n              {{ \"MENU.LANGUAGE\" | translate }}: {{ languageLabel }}\n            </button>\n\n            <!-- Mobile menu login/logout -->\n            <a\n              *ngIf=\"!isLoggedIn\"\n              routerLink=\"/login\"\n              class=\"-mx-3 flex items-center rounded-lg px-3 py-2.5 text-base/7 font-semibold text-gray-900 dark:text-gray-100 hover:text-arabic-green hover:dark:text-arabic-green-light hover:bg-gray-50 hover:dark:bg-gray-800 transition-colors duration-200 no-underline mt-2\"\n              (click)=\"closeMobileMenu()\"\n              >{{ \"MENU.LOGIN\" | translate }}\n              <span class=\"ml-1\" aria-hidden=\"true\">&rarr;</span></a\n            >\n\n            <button\n              *ngIf=\"isLoggedIn\"\n              (click)=\"logout(); closeMobileMenu()\"\n              class=\"-mx-3 flex items-center rounded-lg px-3 py-2.5 text-base/7 font-semibold text-gray-900 dark:text-gray-100 hover:text-arabic-green hover:dark:text-arabic-green-light hover:bg-gray-50 hover:dark:bg-gray-800 transition-colors duration-200 cursor-pointer w-full text-left mt-2\"\n            >\n              {{ \"MENU.LOGOUT\" | translate }}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</header>\n","{\n  \"name\": \"grave-new\",\n  \"version\": \"1.0.0\",\n  \"scripts\": {\n    \"ng\": \"ng\",\n    \"start\": \"ng serve\",\n    \"build\": \"ng build\",\n    \"watch\": \"ng build --watch --configuration development\",\n    \"test\": \"ng test\",\n    \"serve:ssr:GraveNew\": \"node dist/grave-new/server/server.mjs\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/animations\": \"^19.2.4\",\n    \"@angular/common\": \"^19.2.4\",\n    \"@angular/compiler\": \"^19.2.4\",\n    \"@angular/core\": \"^19.2.4\",\n    \"@angular/forms\": \"^19.2.4\",\n    \"@angular/google-maps\": \"^19.2.7\",\n    \"@angular/platform-browser\": \"^19.2.4\",\n    \"@angular/platform-browser-dynamic\": \"^19.2.4\",\n    \"@angular/platform-server\": \"^19.2.4\",\n    \"@angular/router\": \"^19.2.4\",\n    \"@angular/ssr\": \"^19.2.5\",\n    \"@ar-js-org/ar.js\": \"^3.4.7\",\n    \"@ngneat/reactive-forms\": \"^5.0.2\",\n    \"@ngx-translate/core\": \"^16.0.4\",\n    \"@ngx-translate/http-loader\": \"^16.0.1\",\n    \"@tailwindcss/postcss\": \"^4.0.14\",\n    \"express\": \"^4.18.2\",\n    \"file-saver\": \"^2.0.5\",\n    \"rxjs\": \"~7.8.0\",\n    \"tslib\": \"^2.3.0\",\n    \"zone.js\": \"~0.15.0\"\n  },\n  \"devDependencies\": {\n    \"@angular-devkit/build-angular\": \"^19.2.5\",\n    \"@angular/cli\": \"^19.2.5\",\n    \"@angular/compiler-cli\": \"^19.2.4\",\n    \"@types/express\": \"^4.17.17\",\n    \"@types/file-saver\": \"^2.0.7\",\n    \"@types/jasmine\": \"~5.1.0\",\n    \"@types/node\": \"^18.18.0\",\n    \"autoprefixer\": \"^10.4.20\",\n    \"jasmine-core\": \"~5.6.0\",\n    \"karma\": \"~6.4.0\",\n    \"karma-chrome-launcher\": \"~3.2.0\",\n    \"karma-coverage\": \"~2.2.0\",\n    \"karma-jasmine\": \"~5.1.0\",\n    \"karma-jasmine-html-reporter\": \"~2.1.0\",\n    \"postcss\": \"^8.5.3\",\n    \"tailwindcss\": \"^4.0.14\",\n    \"typescript\": \"~5.7.2\"\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { TranslateModule, TranslateService } from '@ngx-translate/core';\nimport { CommonModule } from '@angular/common'; \nimport packageJson from \"../../../../package.json\";\n\n@Component({\n  selector: 'app-footer',\n  standalone: true,\n  imports: [CommonModule, TranslateModule],\n  templateUrl: './footer.component.html',\n  styleUrl: './footer.component.scss'\n})\nexport class FooterComponent implements OnInit {\n  currentLang: string = 'en';\n  public version: string = packageJson.version;\n\n  constructor(private translateService: TranslateService) { }\n\n  ngOnInit(): void {\n    // Get current language\n    this.currentLang = this.translateService.currentLang;\n\n    // Subscribe to language changes\n    this.translateService.onLangChange.subscribe(event => {\n      this.currentLang = event.lang;\n    });\n  }\n\n  get isArabic(): boolean {\n    return this.currentLang === 'ar';\n  }\n}\n","<footer class=\"bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 mt-8\">\n  <div class=\"container mx-auto px-4 py-8\">\n    <div class=\"flex flex-col md:flex-row justify-between items-center gap-4\">\n      <div [class.text-center]=\"true\" [class.md:text-left]=\"!isArabic\" [class.md:text-right]=\"isArabic\"\n        class=\"mb-4 md:mb-0\">\n        <p class=\"text-gray-700 dark:text-gray-300 mb-2\" [class.rtl]=\"isArabic\" [dir]=\"isArabic ? 'rtl' : 'ltr'\">{{\n          'FOOTER.COPYRIGHT' | translate }}</p>\n        <p class=\"text-sm text-gray-500 dark:text-gray-400\" [class.rtl]=\"isArabic\" [dir]=\"isArabic ? 'rtl' : 'ltr'\">{{\n          'FOOTER.TAGLINE' | translate }}</p>\n        <p class=\"text-xs text-gray-400 mt-1\" [class.rtl]=\"isArabic\" [dir]=\"isArabic ? 'rtl' : 'ltr'\">\n          Version: {{ version }}\n        </p>\n      </div>\n\n      <!-- <div class=\"flex gap-4\">\n        <a href=\"#\" class=\"text-gray-600 hover:text-arabic-green dark:text-gray-400 dark:hover:text-arabic-green\" aria-label=\"Facebook\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path d=\"M12 2C6.477 2 2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.879V14.89h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.989C18.343 21.129 22 16.99 22 12c0-5.523-4.477-10-10-10z\"/>\n          </svg>\n        </a>\n        <a href=\"#\" class=\"text-gray-600 hover:text-arabic-green dark:text-gray-400 dark:hover:text-arabic-green\" aria-label=\"Instagram\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path d=\"M12 2c2.717 0 3.056.01 4.122.06 1.065.05 1.79.217 2.428.465.66.254 1.216.598 1.772 1.153.509.5.902 1.105 1.153 1.772.247.637.415 1.363.465 2.428.047 1.066.06 1.405.06 4.122 0 2.717-.01 3.056-.06 4.122-.05 1.065-.218 1.79-.465 2.428a4.883 4.883 0 01-1.153 1.772c-.5.508-1.105.902-1.772 1.153-.637.247-1.363.415-2.428.465-1.066.047-1.405.06-4.122.06-2.717 0-3.056-.01-4.122-.06-1.065-.05-1.79-.218-2.428-.465a4.89 4.89 0 01-1.772-1.153 4.904 4.904 0 01-1.153-1.772c-.247-.637-.415-1.363-.465-2.428C2.013 15.056 2 14.717 2 12c0-2.717.01-3.056.06-4.122.05-1.066.217-1.79.465-2.428.247-.67.645-1.276 1.153-1.772a4.888 4.888 0 011.772-1.153c.637-.247 1.362-.415 2.428-.465C8.944 2.013 9.283 2 12 2zm0 5a5 5 0 100 10 5 5 0 000-10zm6.5-.25a1.25 1.25 0 10-2.5 0 1.25 1.25 0 002.5 0zM12 9a3 3 0 110 6 3 3 0 010-6z\"/>\n          </svg>\n        </a>\n        <a href=\"#\" class=\"text-gray-600 hover:text-arabic-green dark:text-gray-400 dark:hover:text-arabic-green\" aria-label=\"Twitter\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path d=\"M19.633 7.997c.013.175.013.349.013.523 0 5.325-4.053 11.461-11.46 11.461-2.282 0-4.402-.661-6.186-1.809.324.037.636.05.973.05a8.07 8.07 0 0 0 5.001-1.721 4.036 4.036 0 0 1-3.767-2.793c.249.037.499.062.761.062.361 0 .724-.05 1.061-.137a4.027 4.027 0 0 1-3.23-3.953v-.05c.537.299 1.16.486 1.82.511a4.022 4.022 0 0 1-1.796-3.354c0-.748.199-1.434.548-2.032a11.457 11.457 0 0 0 8.306 4.215c-.062-.3-.1-.599-.1-.899a4.026 4.026 0 0 1 4.028-4.028c1.16 0 2.207.486 2.943 1.272a7.957 7.957 0 0 0 2.556-.973 4.02 4.02 0 0 1-1.771 2.22 8.073 8.073 0 0 0 2.319-.624 8.645 8.645 0 0 1-2.019 2.083z\"/>\n          </svg>\n        </a>\n      </div> -->\n    </div>\n\n    <div class=\"mt-8 border-t border-gray-200 dark:border-gray-800 pt-6\">\n      <div class=\"flex flex-wrap justify-center md:justify-between gap-4\" [class.flex-row-reverse]=\"isArabic\">\n        <div class=\"flex gap-4 text-sm text-gray-600 dark:text-gray-400\">\n          <!-- <a href=\"#\" class=\"hover:text-arabic-green dark:hover:text-arabic-green\">{{ 'FOOTER.PRIVACY' | translate }}</a>\n          <a href=\"#\" class=\"hover:text-arabic-green dark:hover:text-arabic-green\">{{ 'FOOTER.TERMS' | translate }}</a>\n          <a href=\"#\" class=\"hover:text-arabic-green dark:hover:text-arabic-green\">{{ 'FOOTER.CONTACT' | translate }}</a> -->\n        </div>\n\n        <div class=\"text-sm text-gray-500 dark:text-gray-500\" [class.rtl]=\"isArabic\" [dir]=\"isArabic ? 'rtl' : 'ltr'\">\n          {{ 'FOOTER.DESIGNED_WITH' | translate }}\n        </div>\n      </div>\n    </div>\n  </div>\n</footer>","import { Component, inject, PLATFORM_ID, Inject } from '@angular/core';\nimport { RouterOutlet } from '@angular/router';\nimport { HeaderComponent } from './shared/header/header.component';\nimport { TranslateService } from '@ngx-translate/core';\nimport { isPlatformBrowser } from '@angular/common';\nimport { FooterComponent } from './shared/footer/footer.component';\n@Component({\n  selector: 'app-root',\n  standalone: true,\n  imports: [RouterOutlet, HeaderComponent, FooterComponent],\n  templateUrl: './app.component.html',\n  styleUrl: './app.component.scss'\n})\nexport class AppComponent {\n  title = 'GraveNew';\n\n  constructor(\n    private translate: TranslateService,\n    @Inject(PLATFORM_ID) private platformId: Object\n  ) {\n    // Set the default language (do this first)\n    translate.setDefaultLang('ar');\n    translate.use('ar'); // Set an initial language to avoid undefined issues\n\n    // Only access localStorage in the browser environment\n    if (isPlatformBrowser(this.platformId)) {\n      // First check if there's a saved preference in localStorage\n      const savedLang = localStorage.getItem('preferredLanguage');\n      if (savedLang && ['en', 'ar'].includes(savedLang)) {\n        translate.use(savedLang);\n\n        // Set document direction based on language\n        if (savedLang === 'ar') {\n          document.documentElement.dir = 'rtl';\n          document.body.classList.add('rtl');\n        } else {\n          document.documentElement.dir = 'ltr';\n          document.body.classList.remove('rtl');\n        }\n      } else {\n        try {\n          // Use browser language if available, otherwise use Arabic\n          // const browserLang = translate.getBrowserLang();\n          // const lang = browserLang && ['en', 'ar'].includes(browserLang) ? browserLang : 'ar';\n          const lang = 'ar';\n          translate.use(lang);\n\n          // Save this language preference\n          localStorage.setItem('preferredLanguage', lang);\n\n          // Set document direction based on language\n          if (lang === 'ar') {\n            document.documentElement.dir = 'rtl';\n            document.body.classList.add('rtl');\n          } else {\n            document.documentElement.dir = 'ltr';\n            document.body.classList.remove('rtl');\n          }\n        } catch (error) {\n          console.warn('Error setting language from browser:', error);\n          // Fallback to Arabic on error\n          translate.use('ar');\n        }\n      }\n\n      // Initialize dark mode from localStorage or system preference\n      this.initializeDarkMode();\n    } else {\n      // Default to English on the server\n      translate.use('ar');\n    }\n  }\n\n  private initializeDarkMode(): void {\n    // Check localStorage first\n    const savedTheme = localStorage.getItem('theme');\n\n    if (savedTheme === 'dark') {\n      document.documentElement.classList.add('dark');\n    } else if (savedTheme === 'light') {\n      document.documentElement.classList.remove('dark');\n    } else {\n      // If no saved preference, check system preference\n      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\n      if (prefersDark) {\n        document.documentElement.classList.add('dark');\n      }\n    }\n  }\n}\n","<div class=\"min-h-screen flex flex-col bg-white dark:bg-gray-900\">\n  <!-- Background gradients -->\n  <div class=\"fixed inset-0 pointer-events-none overflow-hidden\">\n    <!-- Top gradient -->\n    <div class=\"absolute inset-x-0 top-0 transform-gpu overflow-hidden blur-3xl\">\n      <div\n        class=\"relative left-[calc(50%-11rem)] aspect-[1155/678] w-[36.125rem] -translate-x-1/2 rotate-[30deg] bg-gradient-to-tr from-emerald-400 via-arabic-green-light to-arabic-black opacity-30 clip-path-gradient animate-gradient-slow bg-animate sm:left-[calc(50%-30rem)] sm:w-[72.1875rem]\"\n      ></div>\n    </div>\n\n    <!-- Right gradient -->\n    <div class=\"absolute right-0 top-1/4 transform-gpu overflow-hidden blur-3xl\">\n      <div\n        class=\"relative aspect-[1155/678] w-[20rem] bg-gradient-to-bl from-arabic-green-light via-emerald-300 to-teal-500 opacity-25 clip-path-gradient animate-gradient-slow bg-animate sm:w-[30rem]\"\n      ></div>\n    </div>\n\n    <!-- Bottom gradient -->\n    <div class=\"absolute inset-x-0 bottom-0 transform-gpu overflow-hidden blur-3xl\">\n      <div\n        class=\"relative left-[calc(50%+3rem)] aspect-[1155/678] w-[36.125rem] -translate-x-1/2 bg-gradient-to-tr from-arabic-black via-arabic-green to-emerald-400 opacity-30 clip-path-gradient animate-gradient-slow bg-animate sm:left-[calc(50%+36rem)] sm:w-[72.1875rem]\"\n      ></div>\n    </div>\n\n    <!-- Left gradient -->\n    <div class=\"absolute left-0 bottom-1/4 transform-gpu overflow-hidden blur-3xl\">\n      <div\n        class=\"relative aspect-[1155/678] w-[20rem] bg-gradient-to-tr from-teal-500 via-arabic-green to-emerald-300 opacity-25 clip-path-gradient animate-gradient-slow bg-animate sm:w-[30rem]\"\n      ></div>\n    </div>\n  </div>\n\n  <!-- Content -->\n  <div class=\"relative flex flex-col flex-grow\">\n    <!-- Header -->\n    <app-header></app-header>\n\n    <!-- Main content -->\n    <main class=\"flex-grow pt-16 text-gray-900 dark:text-gray-100\">\n      <router-outlet />\n    </main>\n\n    <!-- Footer -->\n    <app-footer></app-footer>\n  </div>\n</div>\n","import { bootstrapApplication } from '@angular/platform-browser';\nimport { appConfig } from './app/app.config';\nimport { AppComponent } from './app/app.component';\n\nbootstrapApplication(AppComponent, appConfig)\n  .catch((err) => console.error(err));\n"],"mappings":"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","names":["ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","resetFilters","applyFilters","ɵɵproperty","form","ɵɵadvance","ɵɵtextInterpolate1","ɵɵpipeBind1","controls","gender","zone","graveType","birthDate","deathDate","ɵɵtemplate","GraveSearchComponent_div_22_form_1_Template","grave_r3","imageURLBase64","ɵɵsanitizeUrl","fullNameEn","refID","ɵɵelementContainerStart","fullNameAr","ɵɵtextInterpolate2","dateOfBirth","dateOfDeath","isArabicLanguage","zGender","nameAr","nameEn","zZone","zGraveType","GraveSearchComponent_div_25_div_5_div_1_Template","GraveSearchComponent_div_25_div_5_div_2_Template","GraveSearchComponent_div_25_div_5_p_4_Template","GraveSearchComponent_div_25_div_5_ng_container_5_Template","GraveSearchComponent_div_25_div_5_ng_template_6_Template","ɵɵtemplateRefExtractor","GraveSearchComponent_div_25_div_5_p_9_Template","GraveSearchComponent_div_25_div_5_p_10_Template","GraveSearchComponent_div_25_div_5_p_11_Template","GraveSearchComponent_div_25_div_5_p_12_Template","GraveSearchComponent_div_25_div_5_p_13_Template","englishPrimary_r4","ɵɵpureFunction1","_c0","graveId","_r6","page_r7","$implicit","pageChanged","pagination","currentPage","ɵɵpureFunction2","_c1","GraveSearchComponent_div_25_div_6_ng_container_13_button_1_Template","GraveSearchComponent_div_25_div_6_ng_container_13_span_2_Template","_r5","GraveSearchComponent_div_25_div_6_ng_container_13_Template","getDisplayedRange","ɵɵtextInterpolate","getPageNumbers","totalPages","GraveSearchComponent_div_25_div_5_Template","GraveSearchComponent_div_25_div_6_Template","graves","totalItems","loading","length","GraveSearchComponent","graveService","translateService","platformId","fb","itemsPerPage","noResults","currentLang","showAdvancedSearch","constructor","defaultLang","onLangChange","subscribe","event","lang","ngOnInit","isPlatformBrowser","initForm","loadGraves","isPlatformServer","group","searchTerm","FormControl","undefined","GraveType","WellKnown","getGravePaginationWithFilter","value","next","response","result","data","error","console","search","toggleAdvancedSearch","currentSearchTerm","reset","window","scrollTo","top","left","behavior","getPageRange","range","visiblePages","start","Math","max","floor","end","min","i","push","instant","startItem","endItem","pages","pagesToShow","Set","add","sortedPages","Array","from","sort","a","b","ɵɵdirectiveInject","GraveService","TranslateService","PLATFORM_ID","FormBuilder","selectors","decls","vars","consts","template","rf","ctx","GraveSearchComponent_div_22_Template","GraveSearchComponent_div_23_Template","GraveSearchComponent_div_24_Template","GraveSearchComponent_div_25_Template","ɵɵpropertyInterpolate","CommonModule","NgClass","NgForOf","NgIf","DatePipe","FormsModule","ɵNgNoValidate","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","TranslateModule","TranslatePipe","RouterModule","RouterLink","GenderComponent","ZoneComponent","GraveTypeComponent","DatePickerComponent","ReactiveFormsModule","FormControlDirective","FormGroupDirective","styles","HasRoleDirective","viewContainerRef","templateRef","authService","appHasRole","isVisible","destroy$","Subject","constructor","ngOnInit","currentUser$","pipe","takeUntil","subscribe","updateView","bind","ngOnDestroy","next","complete","user","clear","token","length","some","role","userRole","createEmbeddedView","ɵɵdirectiveInject","ViewContainerRef","TemplateRef","AuthService","selectors","inputs","EmailService","http","apiUrl","environment","constructor","sendGraveEmail","emailData","post","ɵɵinject","HttpClient","factory","ɵfac","providedIn","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵlistener","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","goBack","ɵɵadvance","ɵɵtextInterpolate1","ɵɵpipeBind1","ɵɵtextInterpolate","error","ɵɵproperty","modalImageSrc","ɵɵsanitizeUrl","modalImageAlt","_r3","isImageModalOpen","$event","i0","stopPropagation","ɵɵtemplate","GraveSearchDetailsComponent_div_2_img_6_Template","ɵɵelementContainerStart","grave","fullNameAr","fullNameEn","_r5","openImageModal","imageURLBase64","translate","currentLang","center","zoom","mapOptions","markerPosition","latitude","longitude","_r6","navigateToGoogleMaps","dateOfBirth","dateOfDeath","zGender","nameEn","nameAr","zZone","description","descriptionEn","_r7","deathCertificateImageURLBase64","GraveSearchDetailsComponent_div_3_ng_container_53_div_1_div_2_ng_container_5_Template","GraveSearchDetailsComponent_div_3_ng_container_53_div_1_div_2_ng_template_6_Template","ɵɵtemplateRefExtractor","noDeathCert_r8","_r9","bodyReceiptCertificateImageURLBase64","GraveSearchDetailsComponent_div_3_ng_container_53_div_1_div_3_ng_container_5_Template","GraveSearchDetailsComponent_div_3_ng_container_53_div_1_div_3_ng_template_6_Template","noBodyCert_r10","GraveSearchDetailsComponent_div_3_ng_container_53_div_1_div_2_Template","GraveSearchDetailsComponent_div_3_ng_container_53_div_1_div_3_Template","GraveSearchDetailsComponent_div_3_ng_container_53_div_1_Template","GraveSearchDetailsComponent_div_3_ng_container_9_Template","GraveSearchDetailsComponent_div_3_ng_container_10_Template","GraveSearchDetailsComponent_div_3_div_19_Template","GraveSearchDetailsComponent_div_3_div_20_Template","GraveSearchDetailsComponent_div_3_div_28_Template","GraveSearchDetailsComponent_div_3_div_29_Template","GraveSearchDetailsComponent_div_3_div_30_Template","GraveSearchDetailsComponent_div_3_div_31_Template","GraveSearchDetailsComponent_div_3_div_32_Template","GraveSearchDetailsComponent_div_3_div_33_Template","GraveSearchDetailsComponent_div_3_div_47_Template","GraveSearchDetailsComponent_div_3_div_48_Template","GraveSearchDetailsComponent_div_3_div_49_Template","GraveSearchDetailsComponent_div_3_div_50_Template","GraveSearchDetailsComponent_div_3_Conditional_52_Template","GraveSearchDetailsComponent_div_3_ng_container_53_Template","_r4","openSuggestionModal","refID","isBrowser","apiLoaded","ɵɵconditional","ɵɵpureFunction0","_c0","_r11","isSuggestionModalOpen","submitSuggestion","GraveSearchDetailsComponent_div_4_span_23_Template","ɵɵclassProp","suggestionForm","submitted","isSubmitting","invalid","showSuccessToast","showErrorToast","GraveSearchDetailsComponent","route","router","location","graveService","mapsApiService","platformId","formBuilder","emailService","lat","lng","markerOptions","draggable","mapTypeId","zoomControl","scrollwheel","disableDoubleClickZoom","maxZoom","minZoom","mapId","loading","showARMap","constructor","isPlatformBrowser","group","additionalMessage","Validators","required","minLength","maxLength","ngOnInit","id","String","snapshot","paramMap","get","getGraveDetails","loadGoogleMaps","loadApi","then","google","maps","animation","Animation","DROP","initializeMap","catch","err","console","getGraveById","subscribe","next","response","data","type","instant","closeImageModal","url","window","open","openARExperience","log","navigate","state","back","f","controls","reset","emailData","graveId","value","sendGraveEmail","setTimeout","ɵɵdirectiveInject","ActivatedRoute","Router","Location","GraveService","GoogleMapsApiService","TranslateService","PLATFORM_ID","FormBuilder","EmailService","selectors","features","ɵɵProvidersFeature","decls","vars","consts","template","rf","ctx","GraveSearchDetailsComponent_div_0_Template","GraveSearchDetailsComponent_div_1_Template","GraveSearchDetailsComponent_div_2_Template","GraveSearchDetailsComponent_div_3_Template","GraveSearchDetailsComponent_div_4_Template","GraveSearchDetailsComponent_div_5_Template","GraveSearchDetailsComponent_div_6_Template","CommonModule","NgIf","DatePipe","RouterModule","GoogleMapsModule","GoogleMap","MapAdvancedMarker","TranslateModule","TranslatePipe","HasRoleDirective","ReactiveFormsModule","ɵNgNoValidate","NgControlStatus","NgControlStatusGroup","RequiredValidator","FormGroupDirective","FormControlName","TextAreaComponent","styles","AuthGuard","authService","router","constructor","canActivate","route","state","isLoggedIn","roles","data","length","roleMatch","navigate","queryParams","returnUrl","url","ɵɵinject","AuthService","Router","factory","ɵfac","providedIn","AdminGuard","router","authService","constructor","canActivate","route","state","isLoggedIn","navigate","queryParams","returnUrl","url","roles","data","length","roleMatch","ɵɵinject","Router","AuthService","factory","ɵfac","providedIn","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵadvance","ɵɵtextInterpolate","ɵɵpipeBind2","ctx_r0","publishDate","ɵɵpipeBind4","StoryComponent","translateService","title","titleEn","Date","language","destroy$","Subject","constructor","ngOnInit","currentLang","onLangChange","pipe","takeUntil","subscribe","event","lang","ngOnDestroy","next","complete","ɵɵdirectiveInject","TranslateService","selectors","decls","vars","consts","template","rf","ctx","ɵɵtemplate","StoryComponent_div_12_Template","StoryComponent_div_13_Template","StoryComponent_div_14_Template","StoryComponent_div_15_Template","ɵɵproperty","ɵɵpureFunction2","_c0","_c1","_c2","CommonModule","NgClass","NgIf","DatePipe","TranslateModule","styles","ArMapComponent","router","route","location","ngZone","document","platformId","sceneElement","cleanup","previousUrl","routerSubscription","popStateListener","isBrowser","graveLatitude","graveLongitude","constructor","isPlatformBrowser","navigation","getCurrentNavigation","extras","state","grave","latitude","longitude","console","log","window","history","navigationId","events","subscribe","event","NavigationEnd","url","unsubscribe","referrer","includes","origin","path","URL","pathname","handleBeforeUnload","cleanupARResources","ngOnInit","setTimeout","querySelector","arEntity","setAttribute","handlePopState","bind","addEventListener","pushState","href","goBack","ngOnDestroy","removeEventListener","navigator","mediaDevices","querySelectorAll","forEach","video","srcObject","getTracks","track","stop","e","warn","sceneEl","arSystem","systems","pause","ARCleanup","err","ɵɵdirectiveInject","Router","ActivatedRoute","Location","NgZone","DOCUMENT","PLATFORM_ID","selectors","hostBindings","rf","ctx","ɵɵlistener","$event","ɵɵresolveWindow","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵadvance","ɵɵpropertyInterpolate2","CommonModule","TranslateModule","styles","routes","path","component","GraveSearchComponent","title","GraveSearchDetailsComponent","StoryComponent","ArMapComponent","loadComponent","then","m","LoginComponent","GraveManagementComponent","canActivate","AuthGuard","AdminGuard","data","roles","GraveFormComponent","UnauthorizedComponent","redirectTo","pathMatch","TranslateHttpLoader","http","prefix","suffix","lang","__ngFactoryType__","ɵɵinject","HttpClient","ɵɵdefineInjectable","plural","val","n","i","v","en_default","plural","val","n","i","v","e","fr_default","plural","val","n","ar_default","errorInterceptor","request","next","console","log","url","toast","inject","ToastService","pipe","catchError","error","status","errorMessage","message","errors","modalStateErrors","key","push","join","throwError","jwtInterceptor","request","next","console","log","authService","inject","AuthService","currentUser","currentUser$","pipe","take","subscribe","user","token","clone","setHeaders","Authorization","CustomTitleStrategy","TitleStrategy","title","translateService","currentTitle","destroy$","Subject","constructor","onLangChange","pipe","takeUntil","subscribe","translatedTitle","instant","setTitle","updateTitle","routerState","buildTitle","defaultTitle","ngOnDestroy","next","complete","ɵɵinject","Title","TranslateService","factory","ɵfac","registerLocaleData","localeEn","localeFr","localeAr","httpLoaderFactory","http","TranslateHttpLoader","initSmoothScrolling","router","events","pipe","filter","event","NavigationEnd","subscribe","setTimeout","window","scrollTo","top","left","behavior","Promise","resolve","appConfig","providers","provideZoneChangeDetection","eventCoalescing","provideRouter","routes","withViewTransitions","provide","TitleStrategy","useClass","CustomTitleStrategy","APP_INITIALIZER","useFactory","deps","Router","multi","provideClientHydration","withEventReplay","provideHttpClient","withFetch","withInterceptors","jwtInterceptor","errorInterceptor","ToastService","EmailService","DatePipe","LOCALE_ID","useValue","DATE_PIPE_DEFAULT_OPTIONS","dateFormat","timezone","importProvidersFrom","TranslateModule","forRoot","loader","TranslateLoader","HttpClient","defaultLanguage","ɵɵelement","ɵɵelementContainerStart","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","ɵɵpureFunction0","_c1","ɵɵtextInterpolate","ɵɵpipeBind1","ɵɵlistener","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","switchLanguage","ɵɵtextInterpolate1","languageLabel","_r3","logout","_r4","closeMobileMenu","_r5","ɵɵtextInterpolate2","_r6","_r7","HeaderComponent","translateService","authService","router","platformId","currentLang","isBrowser","darkMode","isMobileMenuOpen","isLoggedIn","destroy$","Subject","prefersColorSchemeMedia","constructor","isPlatformBrowser","savedLang","localStorage","getItem","includes","use","initializeDarkMode","ngOnInit","currentUser$","pipe","takeUntil","subscribe","user","token","onResize","event","window","innerWidth","document","body","classList","remove","toggleMobileMenu","add","console","log","newLang","setItem","documentElement","dir","prefersDark","matchMedia","matches","applyDarkMode","addEventListener","e","isDark","toggleDarkMode","ngAfterViewInit","productDropdownToggle","getElementById","productDropdown","toggle","isExpanded","getAttribute","setAttribute","toString","contains","target","ngOnDestroy","removeEventListener","next","complete","navigate","ɵɵdirectiveInject","TranslateService","AuthService","Router","PLATFORM_ID","selectors","hostBindings","rf","ctx","$event","ɵɵresolveWindow","ɵɵtemplate","HeaderComponent_img_6_Template","HeaderComponent_img_7_Template","HeaderComponent_ng_container_21_Template","HeaderComponent_button_23_Template","HeaderComponent_button_24_Template","HeaderComponent_a_25_Template","HeaderComponent_img_33_Template","HeaderComponent_img_34_Template","HeaderComponent_ng_container_49_Template","HeaderComponent_button_51_Template","HeaderComponent_a_52_Template","HeaderComponent_button_53_Template","_c0","_c2","ɵɵclassProp","CommonModule","NgIf","TranslateModule","TranslatePipe","RouterModule","RouterLink","RouterLinkActive","HasRoleDirective","styles","package_default","FooterComponent","translateService","currentLang","version","packageJson","constructor","ngOnInit","onLangChange","subscribe","event","lang","isArabic","ɵɵdirectiveInject","TranslateService","selectors","decls","vars","consts","template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵadvance","ɵɵclassProp","ɵɵproperty","ɵɵtextInterpolate","ɵɵpipeBind1","ɵɵtextInterpolate1","CommonModule","TranslateModule","TranslatePipe","styles","AppComponent","translate","platformId","title","constructor","setDefaultLang","use","isPlatformBrowser","savedLang","localStorage","getItem","includes","document","documentElement","dir","body","classList","add","remove","lang","setItem","error","console","warn","initializeDarkMode","savedTheme","window","matchMedia","matches","ɵɵdirectiveInject","TranslateService","PLATFORM_ID","selectors","decls","vars","consts","template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","RouterOutlet","HeaderComponent","FooterComponent","encapsulation","bootstrapApplication","AppComponent","appConfig","catch","err","console","error"],"x_google_ignoreList":[13,14,15,16]}