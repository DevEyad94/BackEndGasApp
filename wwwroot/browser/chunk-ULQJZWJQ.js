import{a as j}from"./chunk-RCTVI3O5.js";import{b as N,c as w,d as M,e as F,h as R,j as G,k as D,r as P,u as T}from"./chunk-ZGC3T5ZG.js";import{Aa as _,Ca as x,Da as b,H as h,Qa as I,S as r,Sa as E,Va as O,W as f,Y as y,aa as d,ea as s,ha as o,ia as a,ja as l,jb as k,na as C,oa as v,rb as A,sb as H,tb as U,ua as L,va as S}from"./chunk-FWRIDW2Q.js";var B=e=>({"border-red-500":e});function V(e,m){e&1&&l(0,"span",28)}function W(e,m){if(e&1&&(o(0,"div",26),d(1,V,1,0,"span",27),a()),e&2){let i,n=v();r(),s("ngIf",(i=n.loginForm.get("username"))==null||i.errors==null?null:i.errors.required)}}function q(e,m){e&1&&l(0,"span",31)}function z(e,m){e&1&&l(0,"span",32)}function Q(e,m){if(e&1&&(o(0,"div",26),d(1,q,1,0,"span",29)(2,z,1,0,"span",30),a()),e&2){let i,n,t=v();r(),s("ngIf",(i=t.loginForm.get("passwordHash"))==null||i.errors==null?null:i.errors.required),r(),s("ngIf",(n=t.loginForm.get("passwordHash"))==null||n.errors==null?null:n.errors.minlength)}}function J(e,m){e&1&&(h(),o(0,"svg",33),l(1,"path",34),a())}function K(e,m){e&1&&(h(),o(0,"svg",35),l(1,"circle",36)(2,"path",37),a())}function X(e,m){if(e&1&&(o(0,"div",38)(1,"p",39),L(2),a()()),e&2){let i=v();r(2),S(i.errorMessage)}}var ae=(()=>{class e{fb;router;authService;loginForm;isLoading=!1;errorMessage="";constructor(i,n,t){this.fb=i,this.router=n,this.authService=t,this.loginForm=this.fb.group({username:["",[w.required]],passwordHash:["",[w.required]],rememberMe:[!1]})}onSubmit(){if(this.loginForm.valid){this.isLoading=!0,this.errorMessage="";let i=this.loginForm.value;this.authService.login(i).subscribe({next:n=>{this.isLoading=!1,n.success?this.router.navigate(["/grave/management"]):this.errorMessage=n.message||"Login failed"},error:n=>{this.isLoading=!1,this.errorMessage=n.error?.message||"An error occurred during login"}})}else this.loginForm.markAllAsTouched()}static \u0275fac=function(n){return new(n||e)(f(P),f(k),f(j))};static \u0275cmp=y({type:e,selectors:[["app-login"]],decls:33,vars:19,consts:[[1,"min-h-screen","flex","items-center","justify-center","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-5xl","w-full","flex","rounded-xl","shadow-lg","overflow-hidden"],[1,"w-full","md:w-1/2","bg-white","dark:bg-gray-800","p-8","sm:p-12"],[1,"flex","justify-center","mb-6"],["src","assets/logo/Logo.svg","alt","GraveNew Logo",1,"h-16","w-auto","dark:hidden"],["src","assets/logo/Logo-white.svg","alt","GraveNew Logo",1,"h-16","w-auto","hidden","dark:block"],["translate","LOGIN.TITLE",1,"mt-2","text-center","text-3xl","font-extrabold","text-gray-900","dark:text-gray-100"],[1,"mt-8","space-y-6",3,"ngSubmit","formGroup"],[1,"rounded-md","space-y-4"],["for","username","translate","LOGIN.USERNAME",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],[1,"mt-1"],["id","username","name","username","type","text","formControlName","username",1,"appearance-none","block","w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","placeholder-gray-400","focus:outline-none","focus:ring-arabic-green","focus:border-arabic-green","dark:bg-gray-700","dark:text-gray-200","sm:text-sm",3,"ngClass","placeholder"],["class","mt-1 text-xs text-red-500",4,"ngIf"],[1,"flex","items-center","justify-between"],["for","passwordHash","translate","LOGIN.PASSWORD",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","passwordHash","name","passwordHash","type","password","formControlName","passwordHash",1,"appearance-none","block","w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","placeholder-gray-400","focus:outline-none","focus:ring-arabic-green","focus:border-arabic-green","dark:bg-gray-700","dark:text-gray-200","sm:text-sm",3,"ngClass","placeholder"],["type","submit",1,"group","relative","w-full","cursor-pointer","flex","justify-center","py-2","px-4","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-arabic-green","hover:bg-arabic-green-dark","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-arabic-green","disabled:opacity-70",3,"disabled"],[1,"absolute","left-0","inset-y-0","flex","items-center","pl-3"],["class","h-5 w-5 text-arabic-green-light group-hover:text-arabic-white","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",4,"ngIf"],["class","animate-spin -ml-1 mr-3 h-5 w-5 text-arabic-white","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",4,"ngIf"],["translate","LOGIN.BUTTON"],["class","mt-3 text-center",4,"ngIf"],[1,"hidden","md:block","md:w-1/2","bg-indigo-50","dark:bg-gray-700"],[1,"h-full","flex","items-center","justify-center","p-8"],["src","assets/logo/Logo.svg","alt","Workspace",1,"max-w-full","max-h-full","object-cover","dark:hidden"],["src","assets/logo/Logo-white.svg","alt","Workspace",1,"max-w-full","max-h-full","object-cover","hidden","dark:block"],[1,"mt-1","text-xs","text-red-500"],["translate","LOGIN.USERNAME_REQUIRED",4,"ngIf"],["translate","LOGIN.USERNAME_REQUIRED"],["translate","LOGIN.PASSWORD_REQUIRED",4,"ngIf"],["translate","LOGIN.PASSWORD_LENGTH",4,"ngIf"],["translate","LOGIN.PASSWORD_REQUIRED"],["translate","LOGIN.PASSWORD_LENGTH"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5","text-arabic-green-light","group-hover:text-arabic-white"],["fill-rule","evenodd","d","M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule","evenodd"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-arabic-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"mt-3","text-center"],[1,"text-sm","text-red-600"]],template:function(n,t){if(n&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),l(4,"img",4)(5,"img",5),a(),l(6,"h2",6),o(7,"form",7),C("ngSubmit",function(){return t.onSubmit()}),o(8,"div",8)(9,"div"),l(10,"label",9),o(11,"div",10),l(12,"input",11),x(13,"translate"),d(14,W,2,1,"div",12),a()(),o(15,"div")(16,"div",13),l(17,"label",14),a(),o(18,"div",10),l(19,"input",15),x(20,"translate"),d(21,Q,3,2,"div",12),a()()(),o(22,"div")(23,"button",16)(24,"span",17),d(25,J,2,0,"svg",18)(26,K,3,0,"svg",19),a(),l(27,"span",20),a()(),d(28,X,3,1,"div",21),a()(),o(29,"div",22)(30,"div",23),l(31,"img",24)(32,"img",25),a()()()()),n&2){let g,p,c,u;r(7),s("formGroup",t.loginForm),r(5),s("ngClass",_(15,B,((g=t.loginForm.get("username"))==null?null:g.invalid)&&((g=t.loginForm.get("username"))==null?null:g.touched)))("placeholder",b(13,11,"LOGIN.USERNAME_PLACEHOLDER")),r(2),s("ngIf",((p=t.loginForm.get("username"))==null?null:p.invalid)&&((p=t.loginForm.get("username"))==null?null:p.touched)),r(5),s("ngClass",_(17,B,((c=t.loginForm.get("passwordHash"))==null?null:c.invalid)&&((c=t.loginForm.get("passwordHash"))==null?null:c.touched)))("placeholder",b(20,13,"LOGIN.PASSWORD_PLACEHOLDER")),r(2),s("ngIf",((u=t.loginForm.get("passwordHash"))==null?null:u.invalid)&&((u=t.loginForm.get("passwordHash"))==null?null:u.touched)),r(2),s("disabled",t.isLoading||t.loginForm.invalid),r(2),s("ngIf",!t.isLoading),r(),s("ngIf",t.isLoading),r(2),s("ngIf",t.errorMessage)}},dependencies:[O,I,E,T,R,N,M,F,G,D,U,H,A],styles:[`[_nghost-%COMP%]{display:block;min-height:100vh}.animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}input[_ngcontent-%COMP%]:focus, button[_ngcontent-%COMP%]:focus{outline:2px solid rgba(99,102,241,.6);outline-offset:2px}button[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.bg-indigo-50[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:80vh}
/*# sourceMappingURL=login.component-6DCDP2UI.css.map */`]})}return e})();export{ae as LoginComponent};
//# sourceMappingURL=chunk-ULQJZWJQ.js.map
