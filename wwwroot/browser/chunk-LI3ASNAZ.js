import{a as B}from"./chunk-RQDBUQ52.js";import{Ea as R,Fa as T,Ha as p,Ja as k,K as v,Oa as E,P as b,U as C,V as m,cc as A,f,ka as x,sa as y}from"./chunk-KXENIZTX.js";var z=function(r){return r.ADMIN="Admin",r.ENGINEER="Engineer",r.OPERATOR="Operator",r}(z||{});var O=(()=>{class r{viewContainerRef;templateRef;authService;appHasRole=[];isVisible=!1;destroy$=new f;constructor(e,t,i){this.viewContainerRef=e,this.templateRef=t,this.authService=i}ngOnInit(){console.log(this.appHasRole),this.authService.currentUser$.pipe(v(this.destroy$)).subscribe(this.updateView.bind(this))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateView(e){this.viewContainerRef.clear(),e?.token?this.appHasRole&&this.appHasRole.length>0&&(console.log(e),this.appHasRole.some(i=>e.role.some(c=>c===i))&&!this.isVisible&&(this.isVisible=!0,this.viewContainerRef.createEmbeddedView(this.templateRef))):this.isVisible&&(this.isVisible=!1,this.viewContainerRef.clear())}static \u0275fac=function(t){return new(t||r)(p(k),p(R),p(B))};static \u0275dir=E({type:r,selectors:[["","appHasRole",""]],inputs:{appHasRole:"appHasRole"}})}return r})();var U=(()=>{class r{renderer;toastContainer=null;isBrowser;ngZone;constructor(e){this.renderer=e.createRenderer(null,null),this.isBrowser=A(m(y)),this.ngZone=m(x),console.log("Toast service initialized, isBrowser:",this.isBrowser)}createToastContainer(){return this.isBrowser?(this.toastContainer||(console.log("\u{1F4E6} Creating toast container"),this.toastContainer=this.renderer.createElement("div"),this.renderer.setAttribute(this.toastContainer,"class","fixed top-4 right-4 z-50 space-y-2"),this.renderer.setAttribute(this.toastContainer,"id","toast-container"),this.ngZone.run(()=>{document&&document.body?(console.log("\u{1F4CC} Appending toast container to document body"),this.renderer.appendChild(document.body,this.toastContainer)):console.log("\u26A0\uFE0F Document body not available")})),this.toastContainer):(console.log("\u26D4 Not running in browser, skipping toast creation"),this.renderer.createElement("div"))}success(e,t){console.log("\u2705 Success toast called:",e,t),this.showToast(e,t,"success")}error(e,t){console.log("\u{1F534} Error toast called:",e,t);let i=t?`Error ${t}`:"Error";this.showToast(e,i,"error")}info(e,t){console.log("\u2139\uFE0F Info toast called:",e,t),this.showToast(e,t,"info")}warning(e,t){console.log("\u26A0\uFE0F Warning toast called:",e,t),this.showToast(e,t,"warning")}showToast(e,t,i="info"){if(!this.isBrowser){console.log("\u26D4 Not showing toast because not in browser");return}console.log("\u{1F514} Showing toast:",{message:e,title:t,type:i});let c=this.createToastContainer();console.log("\u{1F4E6} Toast container element:",c);let S="",n="",o="",d=document?.documentElement?.dir==="rtl"||document?.documentElement?.lang==="ar"||document?.body?.classList.contains("rtl"),H=d?"rtl":"",I=d?"ml-3":"mr-3";switch(i){case"success":n="bg-pdo-green-light",o='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6"><path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z" clip-rule="evenodd" /></svg>';break;case"error":n="bg-red-500",o='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6"><path fill-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm-1.72 6.97a.75.75 0 10-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 101.06 1.06L12 13.06l1.72 1.72a.75.75 0 101.06-1.06L13.06 12l1.72-1.72a.75.75 0 10-1.06-1.06L12 10.94l-1.72-1.72z" clip-rule="evenodd" /></svg>';break;case"info":n="bg-blue-500",o='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6"><path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 01.67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 11-.671-1.34l.041-.022zM12 9a.75.75 0 100-1.5.75.75 0 000 1.5z" clip-rule="evenodd" /></svg>';break;case"warning":n="bg-yellow-500",o='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6"><path fill-rule="evenodd" d="M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z" clip-rule="evenodd" /></svg>';break}let s=this.renderer.createElement("div");this.renderer.setAttribute(s,"class",`flex w-full max-w-md items-center p-4 mb-4 rounded-lg shadow-lg
      transition-all duration-300 ease-in-out transform
      bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-100
      ${i==="success"?"border border-pdo-green/20":""} ${H}`);let h=this.renderer.createElement("div");this.renderer.setAttribute(h,"class",`flex-shrink-0 ${n} text-white p-2 rounded-full ${I}`),h.innerHTML=o;let a=this.renderer.createElement("div");if(this.renderer.setAttribute(a,"class","flex-1"),t){let g=this.renderer.createElement("h3");this.renderer.setAttribute(g,"class","font-medium text-gray-900 dark:text-gray-100");let M=this.renderer.createText(t);this.renderer.appendChild(g,M),this.renderer.appendChild(a,g)}let u=this.renderer.createElement("div");this.renderer.setAttribute(u,"class","text-sm text-gray-600 dark:text-gray-300");let L=this.renderer.createText(e);this.renderer.appendChild(u,L),this.renderer.appendChild(a,u);let l=this.renderer.createElement("button");this.renderer.setAttribute(l,"class",`${d?"mr-auto":"ml-auto"} -mx-1.5 -my-1.5 bg-white dark:bg-gray-800 text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 rounded-lg p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none`);let w=this.renderer.createElement("span");w.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>',this.renderer.appendChild(l,w),this.renderer.listen(l,"click",()=>{this.removeToast(s)}),d?(this.renderer.appendChild(s,l),this.renderer.appendChild(s,a),this.renderer.appendChild(s,h)):(this.renderer.appendChild(s,h),this.renderer.appendChild(s,a),this.renderer.appendChild(s,l)),this.renderer.appendChild(c,s),setTimeout(()=>{this.removeToast(s)},5e3)}removeToast(e){this.toastContainer?.contains(e)&&(this.renderer.addClass(e,"opacity-0"),this.renderer.addClass(e,"-translate-x-full"),setTimeout(()=>{this.toastContainer?.contains(e)&&this.renderer.removeChild(this.toastContainer,e)},300))}static \u0275fac=function(t){return new(t||r)(C(T))};static \u0275prov=b({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();export{z as a,O as b,U as c};
//# sourceMappingURL=chunk-LI3ASNAZ.js.map
