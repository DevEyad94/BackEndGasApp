import{a as U}from"./chunk-RCTVI3O5.js";import{a as Te}from"./chunk-T3LIHWEP.js";import{a as kt,b as It,c as At,d as Mt,e as Tt,f as we}from"./chunk-4YLKNM5S.js";import{c as yt,d as St,e as wt,f as Ct,g as q,h as Et,i as te}from"./chunk-GJDY2YIJ.js";import{b as pt,c as he,d as xe,e as _e,h as be,i as gt,j as ye,k as vt,o as ft,r as ht,t as xt,u as Se,v as bt}from"./chunk-ZGC3T5ZG.js";import{$a as nt,Aa as Je,B as I,Ba as X,C as se,Ca as c,D as Be,Da as m,Ea as We,F as b,Fa as Ke,G as y,Ga as ae,H as S,Ha as qe,I as C,Ia as Xe,L as Ve,Na as Qe,O as H,Oa as ce,P as K,Pa as ue,Q as de,Qa as me,Ra as et,S as a,Sa as Z,T as Fe,Ta as tt,Ua as J,Va as R,W as h,Wa as V,X as Ne,Xa as oe,Y as A,Za as Q,_ as je,_a as it,aa as _,ab as rt,bb as at,ca as He,cb as ot,da as Ue,db as lt,ea as s,eb as st,f as z,fa as L,fb as pe,ga as $e,gb as ge,ha as i,hb as dt,ia as r,ib as ve,ja as p,jb as O,k as Ge,ka as D,kb as fe,la as G,lb as ct,ma as E,mb as ut,na as f,nb as mt,oa as u,ob as ee,pb as _t,q as Re,qb as M,r as Oe,ra as ze,s as Pe,sa as Ye,sb as W,ta as re,tb as T,ua as l,v as Y,va as x,wa as g,xa as $,y as j,ya as Ze,za as B}from"./chunk-FWRIDW2Q.js";var qt=t=>["/search",t],Xt=(t,d)=>({"bg-emerald-100 dark:bg-emerald-800 text-gray-900 dark:text-white":t,"bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-800 hover:text-arabic-green":d});function Qt(t,d){if(t&1){let e=E();i(0,"form",18)(1,"div",19)(2,"h3",20),l(3),c(4,"translate"),r(),i(5,"div",21)(6,"div"),p(7,"app-gender",22),r(),i(8,"div"),p(9,"app-zone",23),r(),i(10,"div"),p(11,"app-grave-type",24),r()(),i(12,"div",25)(13,"div")(14,"label",26),l(15),c(16,"translate"),r(),p(17,"app-date-picker",27),r(),i(18,"div")(19,"label",28),l(20),c(21,"translate"),r(),p(22,"app-date-picker",27),r()(),i(23,"div",29)(24,"button",30),f("click",function(){b(e);let n=u(2);return y(n.resetFilters())}),l(25),c(26,"translate"),r(),i(27,"button",31),f("click",function(){b(e);let n=u(2);return y(n.applyFilters())}),l(28),c(29,"translate"),r()()()()}if(t&2){let e=u(2);s("formGroup",e.form),a(3),g(" ",m(4,11,"SEARCH.ADVANCED_SEARCH")," "),a(4),s("formControl",e.form.controls.gender),a(2),s("formControl",e.form.controls.zone),a(2),s("formControl",e.form.controls.graveType),a(4),g(" ",m(16,13,"GRAVE.BIRTH")," "),a(2),s("formControl",e.form.controls.birthDate),a(3),g(" ",m(21,15,"GRAVE.DEATH")," "),a(2),s("formControl",e.form.controls.deathDate),a(3),g(" ",m(26,17,"FILTER.RESET")," "),a(3),g(" ",m(29,19,"FILTER.APPLY")," ")}}function ei(t,d){if(t&1&&(i(0,"div",16),_(1,Qt,30,21,"form",17),r()),t&2){let e=u();a(),s("ngIf",e.form)}}function ti(t,d){t&1&&(i(0,"div",32),p(1,"div",33),i(2,"p",34),l(3),c(4,"translate"),r()()),t&2&&(a(3),g(" ",m(4,1,"SEARCH.LOADING")," "))}function ii(t,d){t&1&&(i(0,"div",32)(1,"p",35),l(2),c(3,"translate"),r()()),t&2&&(a(2),g(" ",m(3,1,"SEARCH.NO_RESULTS")," "))}function ni(t,d){if(t&1&&(i(0,"div",51),p(1,"img",52),r()),t&2){let e=u().$implicit;a(),s("src","data:image/jpg;base64,"+e.imageURLBase64,K)("alt",e.fullNameEn)}}function ri(t,d){t&1&&(i(0,"div",53),S(),i(1,"svg",54),p(2,"path",55),r()())}function ai(t,d){if(t&1&&(i(0,"p",56),l(1),r()),t&2){let e=u().$implicit;a(),g(" ",e.refID," ")}}function oi(t,d){if(t&1&&(D(0),i(1,"h3",57),l(2),r(),i(3,"p",58),l(4),r(),G()),t&2){let e=u().$implicit;a(2),g(" ",e.fullNameAr," "),a(2),g(" ",e.fullNameEn," ")}}function li(t,d){if(t&1&&(i(0,"h3",59),l(1),r(),i(2,"p",60),l(3),r()),t&2){let e=u().$implicit;a(),g(" ",e.fullNameEn," "),a(2),g(" ",e.fullNameAr," ")}}function si(t,d){if(t&1&&(i(0,"p"),l(1),c(2,"translate"),c(3,"date"),r()),t&2){let e=u().$implicit;a(),$(" ",m(2,2,"GRAVE.BIRTH"),": ",m(3,4,e.dateOfBirth)," ")}}function di(t,d){if(t&1&&(i(0,"p"),l(1),c(2,"translate"),c(3,"date"),r()),t&2){let e=u().$implicit;a(),$(" ",m(2,2,"GRAVE.DEATH"),": ",m(3,4,e.dateOfDeath)," ")}}function ci(t,d){if(t&1&&(i(0,"p"),l(1),c(2,"translate"),r()),t&2){let e=u().$implicit,o=u(2);a(),$(" ",m(2,2,"GRAVE.GENDER"),": ",o.isArabicLanguage()?e.zGender.nameAr:e.zGender.nameEn," ")}}function ui(t,d){if(t&1&&(i(0,"p"),l(1),c(2,"translate"),r()),t&2){let e=u().$implicit,o=u(2);a(),$(" ",m(2,2,"GRAVE.ZONE"),": ",o.isArabicLanguage()?e.zZone.nameAr:e.zZone.nameEn," ")}}function mi(t,d){if(t&1&&(i(0,"p"),l(1),c(2,"translate"),r()),t&2){let e=u().$implicit,o=u(2);a(),$(" ",m(2,2,"GRAVE_FORM.GRAVE_TYPE"),": ",o.isArabicLanguage()?e.zGraveType.nameAr:e.zGraveType.nameEn," ")}}function pi(t,d){if(t&1&&(i(0,"div",41),_(1,ni,2,2,"div",42)(2,ri,3,0,"div",43),i(3,"div",44),_(4,ai,2,1,"p",45)(5,oi,5,2,"ng-container",46)(6,li,4,2,"ng-template",null,0,ae),i(8,"div",47),_(9,si,4,6,"p",48)(10,di,4,6,"p",48)(11,ci,3,4,"p",48)(12,ui,3,4,"p",48)(13,mi,3,4,"p",48),r(),i(14,"div",49)(15,"a",50),l(16),c(17,"translate"),r()()()()),t&2){let e=d.$implicit,o=re(7),n=u(2);a(),s("ngIf",e.imageURLBase64),a(),s("ngIf",!e.imageURLBase64),a(2),s("ngIf",e.refID),a(),s("ngIf",n.isArabicLanguage())("ngIfElse",o),a(4),s("ngIf",e.dateOfBirth),a(),s("ngIf",e.dateOfDeath),a(),s("ngIf",e.zGender),a(),s("ngIf",e.zZone),a(),s("ngIf",e.zGraveType),a(2),s("routerLink",Je(14,qt,e.graveId)),a(),g(" ",m(17,12,"GRAVE.VIEW_DETAILS")," ")}}function gi(t,d){if(t&1){let e=E();i(0,"button",78),f("click",function(){b(e);let n=u().$implicit,v=u(3);return y(v.pageChanged(n))}),l(1),r()}if(t&2){let e=u().$implicit,o=u(3);s("disabled",e===o.pagination.currentPage)("ngClass",X(3,Xt,e===o.pagination.currentPage,e!==o.pagination.currentPage)),a(),g(" ",e," ")}}function vi(t,d){t&1&&(i(0,"span",79),l(1," ... "),r())}function fi(t,d){if(t&1&&(D(0),_(1,gi,2,6,"button",76)(2,vi,2,0,"span",77),G()),t&2){let e=d.$implicit;a(),s("ngIf",e!==-1),a(),s("ngIf",e===-1)}}function hi(t,d){if(t&1){let e=E();i(0,"div",61)(1,"div",62)(2,"div")(3,"p",63),l(4),r()(),i(5,"div")(6,"nav",64)(7,"button",65),f("click",function(){b(e);let n=u(2);return y(n.pageChanged(n.pagination.currentPage-1))}),i(8,"span",66),l(9),c(10,"translate"),r(),S(),i(11,"svg",67),p(12,"path",68),r()(),_(13,fi,3,2,"ng-container",69),C(),i(14,"button",70),f("click",function(){b(e);let n=u(2);return y(n.pageChanged(n.pagination.currentPage+1))}),i(15,"span",66),l(16),c(17,"translate"),r(),S(),i(18,"svg",67),p(19,"path",71),r()()()()(),C(),i(20,"div",72)(21,"nav",73)(22,"button",74),f("click",function(){b(e);let n=u(2);return y(n.pageChanged(n.pagination.currentPage-1))}),S(),i(23,"svg",67),p(24,"path",68),r()(),C(),i(25,"p",75),l(26),r(),i(27,"button",74),f("click",function(){b(e);let n=u(2);return y(n.pageChanged(n.pagination.currentPage+1))}),S(),i(28,"svg",67),p(29,"path",71),r()()()()()}if(t&2){let e=u(2);a(4),g(" ",e.getDisplayedRange()," "),a(3),s("disabled",e.pagination.currentPage===1),a(2),x(m(10,10,"SEARCH.PREVIOUS")),a(4),s("ngForOf",e.getPageNumbers()),a(),s("disabled",e.pagination.currentPage===e.pagination.totalPages),a(2),x(m(17,12,"SEARCH.NEXT")),a(6),s("disabled",e.pagination.currentPage===1),a(4),$(" ",e.pagination.currentPage," / ",e.pagination.totalPages," "),a(),s("disabled",e.pagination.currentPage===e.pagination.totalPages)}}function xi(t,d){if(t&1&&(i(0,"div",36)(1,"h2",37),l(2),c(3,"translate"),r(),i(4,"div",38),_(5,pi,18,16,"div",39),r(),_(6,hi,30,14,"div",40),r()),t&2){let e=u();a(2),g(" ",m(3,3,"SEARCH.RESULTS")," "),a(3),s("ngForOf",e.graves),a(),s("ngIf",e.pagination&&e.pagination.totalPages>0&&e.pagination.totalItems>0&&!e.loading&&e.graves.length>0)}}var Lt=(()=>{class t{graveService;translateService;platformId;fb;graves=[];pagination={currentPage:1,itemsPerPage:6,totalItems:0,totalPages:0};loading=!1;noResults=!1;currentLang;form;showAdvancedSearch=!1;constructor(e,o,n,v){this.graveService=e,this.translateService=o,this.platformId=n,this.fb=v,this.currentLang=this.translateService.currentLang||this.translateService.defaultLang||"en",this.translateService.onLangChange.subscribe(w=>{this.currentLang=w.lang})}ngOnInit(){V(this.platformId)?(this.initForm(),this.loadGraves()):oe(this.platformId)&&(this.graves=[],this.initForm(),this.pagination={currentPage:1,itemsPerPage:this.pagination.itemsPerPage,totalItems:0,totalPages:0})}initForm(){this.form=this.fb.group({searchTerm:new q(""),gender:new q(void 0),zone:new q(void 0),graveType:new q(Te.WellKnown),birthDate:new q(void 0),deathDate:new q(void 0)})}loadGraves(){this.loading=!0,this.noResults=!1,this.graveService.getGravePaginationWithFilter(this.pagination.currentPage,this.pagination.itemsPerPage,!0,this.form.controls.searchTerm.value,this.form.controls.gender.value,this.form.controls.zone.value,this.form.controls.graveType.value,this.form.controls.birthDate.value,this.form.controls.deathDate.value).subscribe({next:e=>{e.result?.data&&e.result.data.length>0?(this.graves=e.result.data,e.pagination&&(this.pagination={currentPage:e.pagination.currentPage||1,itemsPerPage:e.pagination.itemsPerPage||this.pagination.itemsPerPage,totalItems:e.pagination.totalItems||0,totalPages:e.pagination.totalPages||0}),this.noResults=!1):(this.graves=[],this.noResults=!0),this.loading=!1},error:e=>{console.error("Error fetching graves:",e),this.loading=!1,this.noResults=!0}})}search(){this.pagination.currentPage=1,this.loadGraves()}toggleAdvancedSearch(){this.showAdvancedSearch=!this.showAdvancedSearch}applyFilters(){this.pagination.currentPage=1,this.loadGraves()}resetFilters(){let e=this.form.controls.searchTerm.value;this.form.reset({searchTerm:void 0,gender:void 0,zone:void 0,graveType:Te.WellKnown,birthDate:void 0,deathDate:void 0}),this.pagination.currentPage=1,this.loadGraves()}pageChanged(e){this.pagination.currentPage=e,this.loadGraves(),V(this.platformId)&&window.scrollTo({top:0,left:0,behavior:"smooth"})}isArabicLanguage(){return this.currentLang==="ar"}getPageRange(){if(oe(this.platformId)||!this.pagination)return[];let e=this.pagination.totalPages||0,o=this.pagination.currentPage||1;if(e<=0)return[];let n=[],v=5,w=Math.max(1,o-Math.floor(v/2)),k=Math.min(e,w+v-1);k===e&&(w=Math.max(1,k-v+1));for(let F=w;F<=k;F++)n.push(F);return n}getDisplayedRange(){if(oe(this.platformId))return"";if(!this.pagination||this.graves.length===0||this.loading)return this.loading?this.translateService.instant("SEARCH.LOADING_RESULTS"):this.translateService.instant("SEARCH.NO_ITEMS");let e=this.pagination.currentPage||1,o=this.pagination.itemsPerPage||6,n=this.pagination.totalItems||0,v=(e-1)*o+1,w=Math.min(v+this.graves.length-1,n);return`${v} - ${w} ${this.translateService.instant("SEARCH.OF")} ${n} ${this.translateService.instant("SEARCH.RESULTS")}`}getPageNumbers(){if(oe(this.platformId)||!this.pagination)return[];let e=this.pagination.totalPages||0,o=this.pagination.currentPage||1;if(e<=0)return[];let n=[],v=new Set;v.add(1),v.add(e),v.add(o),o>1&&v.add(o-1),o<e&&v.add(o+1),o>2&&v.add(o-2),o<e-1&&v.add(o+2);let w=Array.from(v).sort((k,F)=>k-F);for(let k=0;k<w.length;k++)k>0&&w[k]>w[k-1]+1&&n.push(-1),n.push(w[k]);return n}static \u0275fac=function(o){return new(o||t)(h(te),h(M),h(H),h(Et))};static \u0275cmp=A({type:t,selectors:[["app-grave-search"]],decls:26,vars:22,consts:[["englishPrimary",""],[1,"min-h-screen"],[1,"py-12","sm:py-20"],[1,"mx-auto","max-w-7xl","px-6","lg:px-8"],[1,"text-center","mb-16"],[1,"text-4xl","font-bold","tracking-tight","text-gray-900","dark:text-gray-100","sm:text-6xl"],[1,"mt-6","text-lg","leading-8","text-gray-600","dark:text-gray-300"],[1,"mx-auto","max-w-2xl"],[1,"flex","rounded-md","shadow-sm"],["type","text","name","searchTerm","id","searchTerm",1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:outline-none","focus:ring-arabic-green","focus:border-arabic-green","dark:bg-gray-700","dark:text-white","bg-white",3,"keyup.enter","formControl","placeholder"],["type","button",1,"rounded-r-md","bg-arabic-green","py-4","px-6","text-md","font-semibold","text-white","hover:bg-opacity-90","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-arabic-green","cursor-pointer",3,"click"],[1,"mt-4","text-right"],["type","button",1,"text-sm","text-arabic-green","hover:underline","focus:outline-none","cursor-pointer",3,"click"],["class","mt-8 mx-auto max-w-4xl",4,"ngIf"],["class","mt-12 text-center",4,"ngIf"],["class","mt-12",4,"ngIf"],[1,"mt-8","mx-auto","max-w-4xl"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow-md","p-6"],[1,"text-lg","font-medium","text-gray-900","dark:text-gray-100","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],["id","genderFilter","name","genderFilter","label","GRAVE.GENDER",3,"formControl"],["id","zoneFilter","name","zoneFilter","label","GRAVE.ZONE",3,"formControl"],["id","graveTypeFilter","name","graveTypeFilter","label","GRAVE_FORM.GRAVE_TYPE",3,"formControl"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mt-4"],["for","birthDateFilter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],[3,"formControl"],["for","deathDateFilter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],[1,"flex","justify-end","mt-4","space-x-3"],[1,"px-4","py-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","dark:text-gray-300","bg-white","dark:bg-gray-700","hover:bg-gray-50","dark:hover:bg-gray-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-arabic-green","cursor-pointer",3,"click"],[1,"px-4","py-2","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-arabic-green","hover:bg-opacity-90","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-arabic-green","cursor-pointer",3,"click"],[1,"mt-12","text-center"],[1,"inline-block","h-8","w-8","animate-spin","rounded-full","border-4","border-solid","border-arabic-green","border-r-transparent","align-[-0.125em]","motion-reduce:animate-[spin_1.5s_linear_infinite]"],[1,"mt-4","text-gray-600","dark:text-gray-400"],[1,"text-lg","text-gray-600","dark:text-gray-400"],[1,"mt-12"],[1,"text-2xl","font-bold","mb-6","text-gray-900","dark:text-gray-100"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["class","flex flex-col rounded-lg shadow-md overflow-hidden hover:shadow-lg transition duration-300 bg-white dark:bg-gray-700",4,"ngFor","ngForOf"],["class","mt-10",4,"ngIf"],[1,"flex","flex-col","rounded-lg","shadow-md","overflow-hidden","hover:shadow-lg","transition","duration-300","bg-white","dark:bg-gray-700"],["class","h-48 w-full bg-gray-100 dark:bg-gray-800 overflow-hidden",4,"ngIf"],["class","h-48 w-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center",4,"ngIf"],[1,"flex-grow","p-5","flex","flex-col"],["class","text-xl font-medium text-arabic-green mb-2",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"text-sm","text-gray-500","dark:text-gray-400","space-y-1","mb-3"],[4,"ngIf"],[1,"mt-auto"],[1,"inline-block","w-full","text-center","bg-emerald-600","text-white","py-2","px-4","rounded","text-sm","font-medium","hover:bg-emerald-700","transition-colors",3,"routerLink"],[1,"h-48","w-full","bg-gray-100","dark:bg-gray-800","overflow-hidden"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"h-48","w-full","bg-gray-100","dark:bg-gray-800","flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-20","w-20","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1","d","M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"],[1,"text-xl","font-medium","text-arabic-green","mb-2"],["dir","rtl",1,"text-xl","font-semibold","text-gray-900","dark:text-gray-100","mb-2","text-right"],[1,"text-gray-600","dark:text-gray-300","mb-3"],[1,"text-xl","font-semibold","text-gray-900","dark:text-gray-100","mb-2"],["dir","rtl",1,"text-gray-600","dark:text-gray-300","mb-3","text-right"],[1,"mt-10"],[1,"hidden","sm:flex","sm:flex-1","sm:items-center","sm:justify-between"],[1,"text-sm","text-gray-700","dark:text-gray-300"],["aria-label","Pagination",1,"isolate","inline-flex","rounded-md","shadow-sm"],[1,"relative","inline-flex","items-center","cursor-pointer","bg-white","dark:bg-gray-700","rounded-s-md","px-2","py-2","text-gray-400","dark:text-gray-500","ring-1","ring-inset","ring-gray-300","dark:ring-gray-600","hover:bg-gray-50","hover:text-arabic-green","dark:hover:bg-gray-800","focus:z-20","focus:outline-offset-0","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"sr-only"],["viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5","rtl:rotate-180"],["fill-rule","evenodd","d","M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z","clip-rule","evenodd"],[4,"ngFor","ngForOf"],[1,"relative","inline-flex","cursor-pointer","bg-white","dark:bg-gray-700","items-center","rounded-e-md","px-2","py-2","text-gray-400","dark:text-gray-500","ring-1","ring-inset","ring-gray-300","dark:ring-gray-600","hover:bg-gray-50","hover:text-arabic-green","dark:hover:bg-gray-800","focus:z-20","focus:outline-offset-0","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["fill-rule","evenodd","d","M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z","clip-rule","evenodd"],[1,"flex","justify-center","sm:hidden","mt-4"],["aria-label","Pagination",1,"flex","gap-2"],[1,"relative","inline-flex","items-center","rounded-md","px-3","py-2","text-gray-500","dark:text-gray-400","bg-white","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","hover:bg-gray-50","hover:text-arabic-green","dark:hover:bg-gray-800","focus:z-20","focus:outline-none","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"inline-flex","items-center","px-3","py-2","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-0"],["class","relative inline-flex cursor-pointer items-center px-4 py-2 text-sm font-semibold ring-1 ring-inset ring-gray-300 dark:ring-gray-600 focus:z-20 focus:outline-offset-0 transition-colors disabled:cursor-not-allowed",3,"disabled","ngClass","click",4,"ngIf"],["class","relative inline-flex items-center bg-white dark:bg-gray-700 px-4 py-2 text-sm font-semibold text-gray-700 dark:text-gray-300 ring-1 ring-inset ring-gray-300 dark:ring-gray-600",4,"ngIf"],[1,"relative","inline-flex","cursor-pointer","items-center","px-4","py-2","text-sm","font-semibold","ring-1","ring-inset","ring-gray-300","dark:ring-gray-600","focus:z-20","focus:outline-offset-0","transition-colors","disabled:cursor-not-allowed",3,"click","disabled","ngClass"],[1,"relative","inline-flex","items-center","bg-white","dark:bg-gray-700","px-4","py-2","text-sm","font-semibold","text-gray-700","dark:text-gray-300","ring-1","ring-inset","ring-gray-300","dark:ring-gray-600"]],template:function(o,n){o&1&&(i(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h1",5),l(5),c(6,"translate"),r(),i(7,"p",6),l(8),c(9,"translate"),r()(),i(10,"div",7)(11,"div",8)(12,"input",9),c(13,"translate"),f("keyup.enter",function(){return n.search()}),r(),i(14,"button",10),f("click",function(){return n.search()}),l(15),c(16,"translate"),r()(),i(17,"div",11)(18,"button",12),f("click",function(){return n.toggleAdvancedSearch()}),l(19),c(20,"translate"),c(21,"translate"),r()()(),_(22,ei,2,1,"div",13)(23,ti,5,3,"div",14)(24,ii,4,3,"div",14)(25,xi,7,5,"div",15),r()()()),o&2&&(a(5),g(" ",m(6,10,"SEARCH.TITLE")," "),a(3),g(" ",m(9,12,"APP.TAGLINE")," "),a(4),ze("placeholder",m(13,14,"SEARCH.PLACEHOLDER")),s("formControl",n.form.controls.searchTerm),a(3),g(" ",m(16,16,"SEARCH.BUTTON")," "),a(4),g(" ",n.showAdvancedSearch?m(20,18,"SEARCH.HIDE_ADVANCED_SEARCH"):m(21,20,"SEARCH.ADVANCED_SEARCH")," "),a(3),s("ngIf",n.showAdvancedSearch),a(),s("ngIf",n.loading),a(),s("ngIf",n.noResults&&!n.loading),a(),s("ngIf",n.graves.length>0&&!n.loading))},dependencies:[R,me,et,Z,J,xt,be,pt,xe,_e,T,W,ee,fe,yt,St,wt,Ct,Se,gt,ye],styles:[`[_nghost-%COMP%]{display:block}input[_ngcontent-%COMP%]:focus, button[_ngcontent-%COMP%]:focus{outline:none}.bg-gray-50[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}
/*# sourceMappingURL=grave-search.component-CVF2S5FG.css.map */`]})}return t})();var Ee=(()=>{class t{viewContainerRef;templateRef;authService;appHasRole=[];isVisible=!1;destroy$=new z;constructor(e,o,n){this.viewContainerRef=e,this.templateRef=o,this.authService=n}ngOnInit(){this.authService.currentUser$.pipe(Y(this.destroy$)).subscribe(this.updateView.bind(this))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateView(e){this.viewContainerRef.clear(),e?.token?this.appHasRole&&this.appHasRole.length>0&&this.appHasRole.some(n=>e.role.some(v=>v===n))&&!this.isVisible&&(this.isVisible=!0,this.viewContainerRef.createEmbeddedView(this.templateRef)):this.isVisible&&(this.isVisible=!1,this.viewContainerRef.clear())}static \u0275fac=function(o){return new(o||t)(h(Ne),h(Fe),h(U))};static \u0275dir=je({type:t,selectors:[["","appHasRole",""]],inputs:{appHasRole:"appHasRole"}})}return t})();var ke=(()=>{class t{http;apiUrl=`${bt.apiUrl}Email/`;constructor(e){this.http=e}sendGraveEmail(e){return this.http.post(`${this.apiUrl}SendGraveEmail`,e)}static \u0275fac=function(o){return new(o||t)(I(Q))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var yi=()=>["Admin","User"];function Si(t,d){t&1&&(i(0,"div",9),p(1,"div",10),r())}function wi(t,d){if(t&1){let e=E();i(0,"div",11)(1,"div",12)(2,"h3",13),l(3),c(4,"translate"),r(),i(5,"p"),l(6),r(),i(7,"button",14),f("click",function(){b(e);let n=u();return y(n.goBack())}),l(8),c(9,"translate"),r()()()}if(t&2){let e=u();a(3),g(" ",m(4,3,"GRAVE_DETAILS.ERROR")," "),a(3),x(e.error),a(2),g(" ",m(9,5,"GRAVE_DETAILS.BACK_TO_SEARCH")," ")}}function Ci(t,d){if(t&1&&p(0,"img",22),t&2){let e=u(2);s("src",e.modalImageSrc,K)("alt",e.modalImageAlt)}}function Ei(t,d){if(t&1){let e=E();i(0,"div",15),f("click",function(){b(e);let n=u();return y(n.isImageModalOpen=!1)})("keydown.escape",function(){b(e);let n=u();return y(n.isImageModalOpen=!1)}),i(1,"div",16),f("click",function(n){return b(e),y(n.stopPropagation())}),i(2,"button",17),f("click",function(){b(e);let n=u();return y(n.isImageModalOpen=!1)}),S(),i(3,"svg",18),p(4,"path",19),r()(),C(),i(5,"div",20),_(6,Ci,1,2,"img",21),r()()()}if(t&2){let e=u();a(6),s("ngIf",e.modalImageSrc)}}function ki(t,d){if(t&1&&(D(0),i(1,"h1",61),l(2),r(),i(3,"h2",62),l(4),r(),G()),t&2){let e=u(2);a(2),g(" ",e.grave.fullNameAr," "),a(2),g(" ",e.grave.fullNameEn," ")}}function Ii(t,d){if(t&1&&(D(0),i(1,"h1",61),l(2),r(),i(3,"h2",62),l(4),r(),G()),t&2){let e=u(2);a(2),g(" ",e.grave.fullNameEn," "),a(2),g(" ",e.grave.fullNameAr," ")}}function Ai(t,d){t&1&&(i(0,"div",63),S(),i(1,"svg",64),p(2,"path",65),r()())}function Mi(t,d){if(t&1){let e=E();i(0,"div",66),f("click",function(){b(e);let n=u(2);return y(n.openImageModal("grave"))})("keydown.enter",function(){b(e);let n=u(2);return y(n.openImageModal("grave"))}),p(1,"img",67),i(2,"div",68)(3,"div",69),S(),i(4,"svg",70),p(5,"path",71),r()()()()}if(t&2){let e=u(2);a(),s("src","data:image/jpg;base64,"+e.grave.imageURLBase64,K)("alt",e.translate.currentLang==="ar"?e.grave.fullNameAr:e.grave.fullNameEn)}}function Ti(t,d){t&1&&(i(0,"div",72),S(),i(1,"svg",73),p(2,"path",74),r(),C(),i(3,"p"),l(4),c(5,"translate"),r()()),t&2&&(a(4),x(m(5,1,"GRAVE_DETAILS.LOCATION_UNAVAILABLE")))}function Li(t,d){t&1&&(i(0,"div",75)(1,"div",76),S(),i(2,"svg",77),p(3,"path",78)(4,"path",79),r(),C(),i(5,"p",80),l(6),c(7,"translate"),r()()()),t&2&&(a(6),g(" ",m(7,1,"GRAVE_DETAILS.LOCATION")," "))}function Di(t,d){t&1&&(i(0,"div",81)(1,"div",82),p(2,"div",83),i(3,"p",80),l(4),c(5,"translate"),r()()()),t&2&&(a(4),g(" ",m(5,1,"GRAVE_DETAILS.LOADING_MAP")," "))}function Gi(t,d){if(t&1&&(i(0,"div",84)(1,"google-map",85),p(2,"map-advanced-marker",86),r()()),t&2){let e=u(2);a(),s("center",e.center)("zoom",e.zoom)("options",e.mapOptions),a(),s("position",e.markerPosition)("title",e.translate.currentLang==="ar"?e.grave.fullNameAr:e.grave.fullNameEn)}}function Ri(t,d){if(t&1&&(i(0,"div",87)(1,"div",49)(2,"span",50),l(3),c(4,"translate"),r(),i(5,"span",51),l(6),r()(),i(7,"div",49)(8,"span",50),l(9),c(10,"translate"),r(),i(11,"span",51),l(12),r()()()),t&2){let e=u(2);a(3),x(m(4,4,"GRAVE_DETAILS.LATITUDE")),a(3),x(e.grave.latitude),a(3),x(m(10,6,"GRAVE_DETAILS.LONGITUDE")),a(3),x(e.grave.longitude)}}function Oi(t,d){if(t&1){let e=E();i(0,"div",88)(1,"button",89),f("click",function(){b(e);let n=u(2);return y(n.navigateToGoogleMaps())}),S(),i(2,"svg",90),p(3,"path",91),r(),C(),i(4,"span"),l(5),c(6,"translate"),r()(),i(7,"p",92),l(8),c(9,"translate"),r()()}t&2&&(a(5),x(m(6,2,"GRAVE_DETAILS.NAVIGATE_WITH_GOOGLE_MAPS")),a(3),g(" ",m(9,4,"GRAVE_DETAILS.NAVIGATION_NOTE")," "))}function Pi(t,d){if(t&1&&(i(0,"div",49)(1,"span",50),l(2),c(3,"translate"),r(),i(4,"span",51),l(5),c(6,"date"),r()()),t&2){let e=u(2);a(2),x(m(3,2,"GRAVE_DETAILS.DATE_OF_BIRTH")),a(3),x(m(6,4,e.grave.dateOfBirth))}}function Bi(t,d){if(t&1&&(i(0,"div",49)(1,"span",50),l(2),c(3,"translate"),r(),i(4,"span",51),l(5),c(6,"date"),r()()),t&2){let e=u(2);a(2),x(m(3,2,"GRAVE_DETAILS.DATE_OF_DEATH")),a(3),x(m(6,4,e.grave.dateOfDeath))}}function Vi(t,d){if(t&1&&(i(0,"div",49)(1,"span",50),l(2),c(3,"translate"),r(),i(4,"span",51),l(5),r()()),t&2){let e=u(2);a(2),x(m(3,2,"GRAVE_DETAILS.GENDER")),a(3),g(" ",e.translate.currentLang==="en"?e.grave.zGender==null?null:e.grave.zGender.nameEn:e.grave.zGender==null?null:e.grave.zGender.nameAr," ")}}function Fi(t,d){if(t&1&&(i(0,"div",49)(1,"span",50),l(2),c(3,"translate"),r(),i(4,"span",51),l(5),r()()),t&2){let e=u(2);a(2),x(m(3,2,"GRAVE_DETAILS.ZONE")),a(3),g(" ",e.translate.currentLang==="en"?e.grave.zZone==null?null:e.grave.zZone.nameEn:e.grave.zZone==null?null:e.grave.zZone.nameAr," ")}}function Ni(t,d){if(t&1&&(i(0,"div",47)(1,"h3",38),l(2),c(3,"translate"),r(),i(4,"p",93),l(5),r()()),t&2){let e=u(2);a(2),g(" ",m(3,2,"GRAVE_DETAILS.DESCRIPTION")," "),a(3),g(" ",e.translate.currentLang==="ar"?e.grave.description:e.grave.descriptionEn," ")}}function ji(t,d){if(t&1){let e=E();D(0),i(1,"img",102),f("click",function(){b(e);let n=u(5);return y(n.openImageModal("death"))})("keydown.enter",function(){b(e);let n=u(5);return y(n.openImageModal("death"))}),r(),G()}if(t&2){let e=u(5);a(),s("src","data:image/jpeg;base64,"+e.grave.deathCertificateImageURLBase64,K)}}function Hi(t,d){t&1&&(i(0,"span",103),l(1),c(2,"translate"),r()),t&2&&(a(),x(m(2,1,"GRAVE_DETAILS.NO_DEATH_CERTIFICATE")))}function Ui(t,d){if(t&1&&(i(0,"div",98)(1,"h3",99),l(2),c(3,"translate"),r(),i(4,"div",100),_(5,ji,2,1,"ng-container",101)(6,Hi,3,3,"ng-template",null,0,ae),r()()),t&2){let e=re(7),o=u(4);a(2),g(" ",m(3,3,"GRAVE_DETAILS.DEATH_CERTIFICATE")," "),a(3),s("ngIf",o.grave.deathCertificateImageURLBase64!=null)("ngIfElse",e)}}function $i(t,d){if(t&1){let e=E();D(0),i(1,"img",104),f("click",function(){b(e);let n=u(5);return y(n.openImageModal("body"))})("keydown.enter",function(){b(e);let n=u(5);return y(n.openImageModal("body"))}),r(),G()}if(t&2){let e=u(5);a(),s("src","data:image/jpeg;base64,"+e.grave.bodyReceiptCertificateImageURLBase64,K)}}function zi(t,d){t&1&&(i(0,"span",103),l(1),c(2,"translate"),r()),t&2&&(a(),x(m(2,1,"GRAVE_DETAILS.NO_BODY_CERTIFICATE")))}function Yi(t,d){if(t&1&&(i(0,"div",98)(1,"h3",99),l(2),c(3,"translate"),r(),i(4,"div",100),_(5,$i,2,1,"ng-container",101)(6,zi,3,3,"ng-template",null,1,ae),r()()),t&2){let e=re(7),o=u(4);a(2),g(" ",m(3,3,"GRAVE_DETAILS.BODY_CERTIFICATE")," "),a(3),s("ngIf",o.grave.bodyReceiptCertificateImageURLBase64!=null)("ngIfElse",e)}}function Zi(t,d){if(t&1&&(i(0,"div",95)(1,"div",96),_(2,Ui,8,5,"div",97)(3,Yi,8,5,"div",97),r()()),t&2){let e=u(3);a(2),s("ngIf",e.grave.deathCertificateImageURLBase64),a(),s("ngIf",e.grave.bodyReceiptCertificateImageURLBase64)}}function Ji(t,d){if(t&1&&(D(0),_(1,Zi,4,2,"div",94),G()),t&2){let e=u(2);a(),s("ngIf",e.grave.deathCertificateImageURLBase64||e.grave.bodyReceiptCertificateImageURLBase64)}}function Wi(t,d){if(t&1){let e=E();i(0,"div",23)(1,"div",24)(2,"div",25)(3,"span"),l(4),c(5,"translate"),r(),l(6," / "),i(7,"span"),l(8),r()(),_(9,ki,5,2,"ng-container",26)(10,Ii,5,2,"ng-container",26),r(),i(11,"div",27)(12,"div",28)(13,"div",29)(14,"div",30)(15,"div",31),l(16),c(17,"translate"),r(),i(18,"div",32),_(19,Ai,3,0,"div",33)(20,Mi,6,2,"div",34),r()()(),i(21,"div",35)(22,"div",36)(23,"div",37)(24,"h3",38),l(25),c(26,"translate"),r(),i(27,"div",39),_(28,Ti,6,3,"div",40)(29,Li,8,3,"div",41)(30,Di,6,3,"div",42)(31,Gi,3,5,"div",43),r(),_(32,Ri,13,8,"div",44)(33,Oi,10,6,"div",45),r()()()(),i(34,"div",28)(35,"div",46)(36,"div",47)(37,"h3",38),l(38),c(39,"translate"),r(),i(40,"div",48)(41,"div",49)(42,"span",50),l(43),c(44,"translate"),r(),i(45,"span",51),l(46),r()(),_(47,Pi,7,6,"div",52)(48,Bi,7,6,"div",52)(49,Vi,6,4,"div",52)(50,Fi,6,4,"div",52),r()()(),i(51,"div",46),_(52,Ni,6,4,"div",47),r()()(),_(53,Ji,2,1,"ng-container",53),i(54,"div",54)(55,"button",55),f("click",function(){b(e);let n=u();return y(n.goBack())}),S(),i(56,"svg",56),p(57,"path",57),r(),l(58),c(59,"translate"),r(),C(),i(60,"button",58),f("click",function(){b(e);let n=u();return y(n.openSuggestionModal())}),S(),i(61,"svg",59),p(62,"path",60),r(),l(63),c(64,"translate"),r()()()}if(t&2){let e=u();a(4),x(m(5,25,"GRAVE_DETAILS.TITLE")),a(4),x(e.grave.refID),a(),s("ngIf",e.translate.currentLang==="ar"),a(),s("ngIf",e.translate.currentLang!=="ar"),a(6),g(" ",m(17,27,"GRAVE_DETAILS.PHOTO")," "),a(3),s("ngIf",!e.grave.imageURLBase64),a(),s("ngIf",e.grave.imageURLBase64),a(5),g(" ",m(26,29,"GRAVE_DETAILS.LOCATION")," "),a(3),s("ngIf",!e.grave.latitude||!e.grave.longitude),a(),s("ngIf",!e.isBrowser&&e.grave.latitude&&e.grave.longitude),a(),s("ngIf",e.isBrowser&&e.grave.latitude&&e.grave.longitude&&!e.apiLoaded),a(),s("ngIf",e.isBrowser&&e.grave.latitude&&e.grave.longitude&&e.apiLoaded),a(),s("ngIf",e.grave.latitude&&e.grave.longitude),a(),s("ngIf",e.grave.latitude&&e.grave.longitude&&e.isBrowser),a(5),g(" ",m(39,31,"GRAVE_DETAILS.PERSONAL_INFO")," "),a(5),x(m(44,33,"GRAVE_DETAILS.GRAVE_NUMBER")),a(3),x(e.grave.refID),a(),s("ngIf",e.grave.dateOfBirth),a(),s("ngIf",e.grave.dateOfDeath),a(),s("ngIf",e.grave.zGender),a(),s("ngIf",e.grave.zZone),a(2),$e(e.grave.description&&e.translate.currentLang==="ar"||e.grave.descriptionEn&&e.translate.currentLang!=="ar"?52:-1),a(),s("appHasRole",B(39,yi)),a(5),g(" ",m(59,35,"GRAVE_DETAILS.BACK_TO_SEARCH")," "),a(5),g(" ",m(64,37,"GRAVE_DETAILS.SUGGEST_CHANGES")," ")}}function Ki(t,d){t&1&&(i(0,"span",118),S(),i(1,"svg",119),p(2,"circle",120)(3,"path",121),r()())}function qi(t,d){if(t&1){let e=E();i(0,"div",105),f("keydown.escape",function(){b(e);let n=u();return y(n.isSuggestionModalOpen=!1)}),i(1,"div",106)(2,"div",107)(3,"h3",108),l(4),c(5,"translate"),r(),i(6,"button",109),f("click",function(){b(e);let n=u();return y(n.isSuggestionModalOpen=!1)}),S(),i(7,"svg",18),p(8,"path",19),r()()(),C(),i(9,"p",110),l(10),c(11,"translate"),r(),i(12,"div")(13,"form",111),f("ngSubmit",function(){b(e);let n=u();return y(n.submitSuggestion())}),i(14,"div",112),p(15,"app-text-area",113),c(16,"translate"),c(17,"translate"),r(),i(18,"div",114)(19,"button",115),f("click",function(){b(e);let n=u();return y(n.isSuggestionModalOpen=!1)}),l(20),c(21,"translate"),r(),i(22,"button",116),_(23,Ki,4,0,"span",117),l(24),c(25,"translate"),r()()()()()()}if(t&2){let e=u();a(),L("scale-100",e.isSuggestionModalOpen)("scale-95",!e.isSuggestionModalOpen)("opacity-100",e.isSuggestionModalOpen)("opacity-0",!e.isSuggestionModalOpen),a(3),g(" ",m(5,20,"GRAVE_DETAILS.SUGGEST_CHANGES_TITLE")," "),a(6),g(" ",m(11,22,"GRAVE_DETAILS.SUGGESTION_DESCRIPTION")," "),a(3),s("formGroup",e.suggestionForm),a(2),s("label",m(16,24,"GRAVE_DETAILS.SUGGESTION_MESSAGE"))("placeholder",m(17,26,"GRAVE_DETAILS.SUGGESTION_PLACEHOLDER"))("rows",5)("required",!0)("showError",e.submitted),a(5),g(" ",m(21,28,"COMMON.CANCEL")," "),a(2),s("disabled",e.isSubmitting||e.suggestionForm.invalid),a(),s("ngIf",e.isSubmitting),a(),g(" ",m(25,30,"GRAVE_DETAILS.SEND_SUGGESTION")," ")}}function Xi(t,d){if(t&1&&(i(0,"div",122)(1,"div",123)(2,"div",124),S(),i(3,"svg",125),p(4,"path",126),r()(),C(),i(5,"div")(6,"p",127),l(7),c(8,"translate"),r(),i(9,"p",128),l(10),c(11,"translate"),r()()()()),t&2){let e=u();L("opacity-100",e.showSuccessToast)("opacity-0",!e.showSuccessToast),a(7),g(" ",m(8,6,"GRAVE_DETAILS.SUGGESTION_SENT")," "),a(3),g(" ",m(11,8,"GRAVE_DETAILS.SUGGESTION_THANK_YOU")," ")}}function Qi(t,d){if(t&1&&(i(0,"div",129)(1,"div",123)(2,"div",124),S(),i(3,"svg",130),p(4,"path",74),r()(),C(),i(5,"div")(6,"p",131),l(7),c(8,"translate"),r(),i(9,"p",132),l(10),c(11,"translate"),r()()()()),t&2){let e=u();L("opacity-100",e.showErrorToast)("opacity-0",!e.showErrorToast),a(7),g(" ",m(8,6,"GRAVE_DETAILS.SUGGESTION_ERROR")," "),a(3),g(" ",m(11,8,"GRAVE_DETAILS.SUGGESTION_TRY_AGAIN")," ")}}var De=(()=>{class t{route;router;location;graveService;mapsApiService;translate;platformId;formBuilder;emailService;modalImageSrc=null;modalImageAlt="";center={lat:0,lng:0};zoom=20;markerPosition={lat:0,lng:0};markerOptions={draggable:!1};mapOptions={mapTypeId:"satellite",zoomControl:!0,scrollwheel:!0,disableDoubleClickZoom:!0,maxZoom:20,minZoom:8,mapId:"GRAVE_MAP"};grave=null;loading=!0;error=null;apiLoaded=!1;isBrowser;isImageModalOpen=!1;showARMap=!1;isSuggestionModalOpen=!1;suggestionForm;isSubmitting=!1;submitted=!1;showSuccessToast=!1;showErrorToast=!1;constructor(e,o,n,v,w,k,F,N,ne){this.route=e,this.router=o,this.location=n,this.graveService=v,this.mapsApiService=w,this.translate=k,this.platformId=F,this.formBuilder=N,this.emailService=ne,this.isBrowser=V(this.platformId),this.suggestionForm=this.formBuilder.group({additionalMessage:["",[he.required,he.minLength(10),he.maxLength(1e3)]]})}ngOnInit(){this.loading=!0;let e=String(this.route.snapshot.paramMap.get("id"));this.getGraveDetails(e),this.isBrowser?this.loadGoogleMaps():this.apiLoaded=!1}loadGoogleMaps(){this.mapsApiService.loadApi().then(()=>{this.apiLoaded=!0,this.isBrowser&&google&&google.maps&&(this.markerOptions.animation=google.maps.Animation.DROP),this.grave&&this.grave.latitude&&this.grave.longitude&&this.initializeMap()}).catch(e=>{console.error("Error loading Google Maps API:",e),this.error="Failed to load Google Maps"})}getGraveDetails(e){this.graveService.getGraveById(e).subscribe({next:o=>{this.grave=o.data,this.loading=!1,this.isBrowser&&this.apiLoaded&&this.grave&&this.grave.latitude&&this.grave.longitude&&this.initializeMap()},error:o=>{console.error("Error fetching grave details:",o),this.error="Failed to load grave details",this.loading=!1}})}openImageModal(e){this.grave&&(e==="grave"&&this.grave.imageURLBase64?(this.modalImageSrc="data:image/jpg;base64,"+this.grave.imageURLBase64,this.modalImageAlt=this.translate.currentLang==="ar"?this.grave.fullNameAr:this.grave.fullNameEn,this.isImageModalOpen=!0):e==="death"&&this.grave.deathCertificateImageURLBase64?(this.modalImageSrc="data:image/jpeg;base64,"+this.grave.deathCertificateImageURLBase64,this.modalImageAlt=this.translate.instant("GRAVE_DETAILS.DEATH_CERTIFICATE"),this.isImageModalOpen=!0):e==="body"&&this.grave.bodyReceiptCertificateImageURLBase64&&(this.modalImageSrc="data:image/jpeg;base64,"+this.grave.bodyReceiptCertificateImageURLBase64,this.modalImageAlt=this.translate.instant("GRAVE_DETAILS.BODY_CERTIFICATE"),this.isImageModalOpen=!0))}closeImageModal(){this.isImageModalOpen=!1,this.modalImageSrc=null,this.modalImageAlt=""}initializeMap(){!this.isBrowser||!this.grave||!this.grave.latitude||!this.grave.longitude||(this.center={lat:this.grave.latitude,lng:this.grave.longitude},this.markerPosition={lat:this.grave.latitude,lng:this.grave.longitude})}navigateToGoogleMaps(){if(!this.grave||!this.grave.latitude||!this.grave.longitude)return;let e=this.grave.latitude,o=this.grave.longitude,n=`https://www.google.com/maps/dir/?api=1&destination=${e},${o}&travelmode=walking`;window.open(n,"_blank")}openARExperience(){this.grave&&(console.log("Navigating to AR experience for coordinates:",this.grave.latitude,this.grave.longitude),this.router.navigate(["/ar-view"],{state:{grave:this.grave}}))}goBack(){try{this.location.back()}catch{this.router.navigate(["/"])}}get f(){return this.suggestionForm.controls}openSuggestionModal(){this.isSuggestionModalOpen=!0,this.submitted=!1,this.suggestionForm.reset()}submitSuggestion(){if(console.log(this.grave),this.submitted=!0,this.suggestionForm.invalid)return;this.isSubmitting=!0;let e={graveId:this.grave?.graveId||"",additionalMessage:this.suggestionForm.value.additionalMessage};this.emailService.sendGraveEmail(e).subscribe({next:()=>{this.isSubmitting=!1,this.isSuggestionModalOpen=!1,this.showSuccessToast=!0,setTimeout(()=>{this.showSuccessToast=!1},5e3)},error:o=>{console.error("Error sending suggestion email:",o),this.isSubmitting=!1,this.showErrorToast=!0,setTimeout(()=>{this.showErrorToast=!1},5e3)}})}static \u0275fac=function(o){return new(o||t)(h(ge),h(O),h(ce),h(te),h(Tt),h(M),h(H),h(ht),h(ke))};static \u0275cmp=A({type:t,selectors:[["app-grave-search-details"]],features:[Ze([te])],decls:7,vars:7,consts:[["noDeathCert",""],["noBodyCert",""],["class","flex justify-center items-center min-h-screen",4,"ngIf"],["class","p-6 bg-gray-100 dark:bg-gray-800 min-h-screen font-sans",4,"ngIf"],["class","fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-80 backdrop-blur-sm transition-opacity","tabindex","0",3,"click","keydown.escape",4,"ngIf"],["class","p-6 bg-gray-100 dark:bg-gray-800 min-h-screen",4,"ngIf"],["class","fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50 backdrop-blur-sm transition-opacity","tabindex","0",3,"keydown.escape",4,"ngIf"],["class","fixed bottom-4 left-0 right-0 mx-auto w-auto max-w-md bg-green-50 border-l-4 border-green-500 text-green-800 p-4 rounded shadow-md transition-opacity duration-500 z-50",3,"opacity-100","opacity-0",4,"ngIf"],["class","fixed bottom-4 left-0 right-0 mx-auto w-auto max-w-md bg-red-50 border-l-4 border-red-500 text-red-800 p-4 rounded shadow-md transition-opacity duration-500 z-50",3,"opacity-100","opacity-0",4,"ngIf"],[1,"flex","justify-center","items-center","min-h-screen"],[1,"animate-spin","rounded-full","h-16","w-16","border-b-2","border-arabic-green"],[1,"p-6","bg-gray-100","dark:bg-gray-800","min-h-screen","font-sans"],[1,"bg-red-50","border","border-red-200","text-red-800","rounded-xl","p-6","shadow-lg","mx-auto","max-w-2xl"],[1,"text-xl","font-semibold","mb-3"],[1,"mt-4","px-4","py-2","bg-arabic-green","text-white","rounded-lg","hover:bg-arabic-green-dark","transition-colors",3,"click"],["tabindex","0",1,"fixed","inset-0","z-50","flex","items-center","justify-center","p-4","bg-black","bg-opacity-80","backdrop-blur-sm","transition-opacity",3,"click","keydown.escape"],[1,"relative","max-w-4xl","w-full","h-full","flex","flex-col","items-center","justify-center",3,"click"],["aria-label","Close image viewer",1,"absolute","top-4","right-4","z-10","p-2","bg-white","cursor-pointer","dark:bg-gray-700","text-gray-800","dark:text-white","rounded-full","shadow-xl","hover:bg-gray-100","dark:hover:bg-gray-600","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"w-full","h-full","flex","items-center","justify-center","overflow-hidden"],["class","max-h-full max-w-full object-contain",3,"src","alt",4,"ngIf"],[1,"max-h-full","max-w-full","object-contain",3,"src","alt"],[1,"p-6","bg-gray-100","dark:bg-gray-800","min-h-screen"],[1,"mb-8"],[1,"text-gray-500","dark:text-gray-400","text-sm","mb-2"],[4,"ngIf"],[1,"grid","grid-cols-1","gap-6"],[1,"grid","grid-cols-1","lg:grid-cols-12","gap-6"],[1,"lg:col-span-4","mb-6","lg:mb-0"],[1,"bg-white","dark:bg-gray-700","rounded-xl","shadow-lg","overflow-hidden","transition-all","hover:shadow-xl","hover:-translate-y-1","h-full","flex","flex-col"],[1,"text-xl","font-semibold","text-gray-800","dark:text-gray-200","p-4","pb-2","border-b","border-gray-100","dark:border-gray-600"],[1,"p-4","flex-grow","flex","items-center","justify-center"],["class","h-48 w-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center",4,"ngIf"],["class","relative cursor-pointer group overflow-hidden rounded-lg","tabindex","0","role","button","aria-label","View larger image",3,"click","keydown.enter",4,"ngIf"],[1,"lg:col-span-8"],[1,"bg-white","dark:bg-gray-700","rounded-xl","shadow-lg","overflow-hidden","transition-all","hover:shadow-xl","hover:-translate-y-1","h-full"],[1,"p-6"],[1,"text-xl","font-semibold","text-gray-800","dark:text-gray-200","mb-5","pb-3","border-b","border-gray-100","dark:border-gray-600"],[1,"rounded-lg","overflow-hidden","mb-4"],["class","bg-yellow-50 dark:bg-yellow-900/30 p-4 text-center text-yellow-700 dark:text-yellow-500 rounded-lg",4,"ngIf"],["class","h-[400px] bg-gray-100 dark:bg-gray-800 flex items-center justify-center rounded-lg",4,"ngIf"],["class","flex justify-center items-center h-[400px] bg-gray-100 dark:bg-gray-800 rounded-lg",4,"ngIf"],["class","map-container","style",`
                  height: 400px;
                  width: 100%;
                  border-radius: 0.5rem;
                  overflow: hidden;
                `,4,"ngIf"],["class","flex justify-between mt-4",4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"lg:col-span-6"],[1,"bg-white","dark:bg-gray-700","rounded-xl","shadow-lg","overflow-hidden","transition-all","hover:shadow-xl","hover:-translate-y-1","p-6","h-full"],[1,"grid","grid-cols-1","gap-4"],[1,"flex","flex-col"],[1,"text-sm","text-gray-500","dark:text-gray-400","mb-1"],[1,"text-base","font-medium","text-gray-700","dark:text-gray-300"],["class","flex flex-col",4,"ngIf"],[4,"appHasRole"],[1,"mt-6","flex","justify-between","items-center"],[1,"px-6","py-3","bg-arabic-green","text-white","rounded-lg","hover:bg-opacity-90","transition-colors","flex","items-center","cursor-pointer",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","mr-2","rtl:rotate-180"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 19l-7-7m0 0l7-7m-7 7h18"],[1,"px-6","py-3","bg-blue-600","text-white","rounded-lg","hover:bg-opacity-90","transition-colors","flex","items-center","cursor-pointer",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],[1,"text-4xl","font-bold","text-gray-800","dark:text-gray-100","m-0"],[1,"text-2xl","font-medium","text-gray-600","dark:text-gray-300","mt-2","mb-0"],[1,"h-48","w-full","bg-gray-100","dark:bg-gray-800","flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-20","w-20","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1","d","M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"],["tabindex","0","role","button","aria-label","View larger image",1,"relative","cursor-pointer","group","overflow-hidden","rounded-lg",3,"click","keydown.enter"],[1,"max-w-full","max-h-[500px]","object-contain","rounded-lg","transition-transform","group-hover:scale-105",3,"src","alt"],[1,"absolute","inset-0","flex","items-center","justify-center","opacity-0","group-hover:opacity-100","bg-black","bg-opacity-40","transition-opacity","rounded-lg"],[1,"bg-white","bg-opacity-90","dark:bg-gray-800","dark:bg-opacity-90","p-2","rounded-full"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","text-gray-800","dark:text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"],[1,"bg-yellow-50","dark:bg-yellow-900/30","p-4","text-center","text-yellow-700","dark:text-yellow-500","rounded-lg"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","mx-auto","mb-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"h-[400px]","bg-gray-100","dark:bg-gray-800","flex","items-center","justify-center","rounded-lg"],[1,"text-center","p-4"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-12","w-12","text-gray-400","dark:text-gray-500","mx-auto","mb-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],[1,"text-gray-500","dark:text-gray-400"],[1,"flex","justify-center","items-center","h-[400px]","bg-gray-100","dark:bg-gray-800","rounded-lg"],[1,"text-center"],[1,"animate-spin","rounded-full","h-10","w-10","border-b-2","border-arabic-green","mx-auto","mb-4"],[1,"map-container",2,"height","400px","width","100%","border-radius","0.5rem","overflow","hidden"],["height","400px","width","100%",3,"center","zoom","options"],[3,"position","title"],[1,"flex","justify-between","mt-4"],[1,"mt-4"],[1,"w-full","px-4","py-3","bg-blue-600","text-white","rounded-lg","hover:bg-opacity-90","transition-colors","flex","items-center","justify-center","gap-2","cursor-pointer",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 20l-5.447-2.724A2 2 0 013 15.382V6a2 2 0 012-2h14a2 2 0 012 2v9.382a2 2 0 01-1.553 1.894L15 20v-2a2 2 0 00-2-2h-2a2 2 0 00-2 2v2z"],[1,"text-xs","text-center","text-gray-500","dark:text-gray-400","mt-2"],[1,"text-gray-700","dark:text-gray-300","leading-relaxed"],["class","mt-8",4,"ngIf"],[1,"mt-8"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["class","bg-white dark:bg-gray-700 rounded-xl shadow-lg p-6",4,"ngIf"],[1,"bg-white","dark:bg-gray-700","rounded-xl","shadow-lg","p-6"],[1,"text-xl","font-semibold","text-gray-800","dark:text-gray-200","mb-4","pb-2","border-b","border-gray-100","dark:border-gray-600"],[1,"text-gray-700","dark:text-gray-300"],[4,"ngIf","ngIfElse"],["alt","Death Certificate","tabindex","0","role","button","aria-label","View larger image",1,"max-w-full","rounded","shadow","cursor-pointer",3,"click","keydown.enter","src"],[1,"italic","text-gray-400"],["alt","Body Certificate","tabindex","0","role","button","aria-label","View larger image",1,"max-w-full","rounded","shadow","cursor-pointer",3,"click","keydown.enter","src"],["tabindex","0",1,"fixed","inset-0","z-50","flex","items-center","justify-center","p-4","bg-black","bg-opacity-50","backdrop-blur-sm","transition-opacity",3,"keydown.escape"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-xl","p-6","max-w-lg","w-full","transform","transition-all"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-xl","font-semibold","text-gray-800","dark:text-gray-100"],["aria-label","Close",1,"p-2","text-gray-400","hover:text-gray-500","focus:outline-none","focus:text-gray-500","transition-colors",3,"click"],[1,"text-gray-600","dark:text-gray-300","mb-4"],[3,"ngSubmit","formGroup"],[1,"mb-4"],["formControlName","additionalMessage",3,"label","placeholder","rows","required","showError"],[1,"flex","justify-end","gap-3","mt-6"],["type","button",1,"px-4","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","text-gray-700","dark:text-gray-300","hover:bg-gray-50","dark:hover:bg-gray-700","transition-colors",3,"click"],["type","submit",1,"px-4","py-2","bg-arabic-green","text-white","rounded-lg","hover:bg-opacity-90","transition-colors","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-arabic-green","disabled:opacity-50","disabled:cursor-not-allowed","flex","items-center",3,"disabled"],["class","animate-spin -ml-1 mr-2 h-4 w-4 text-white",4,"ngIf"],[1,"animate-spin","-ml-1","mr-2","h-4","w-4","text-white"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"fixed","bottom-4","left-0","right-0","mx-auto","w-auto","max-w-md","bg-green-50","border-l-4","border-green-500","text-green-800","p-4","rounded","shadow-md","transition-opacity","duration-500","z-50"],[1,"flex","items-center"],[1,"py-1","mr-3"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"font-medium","text-green-800"],[1,"text-sm","text-green-700"],[1,"fixed","bottom-4","left-0","right-0","mx-auto","w-auto","max-w-md","bg-red-50","border-l-4","border-red-500","text-red-800","p-4","rounded","shadow-md","transition-opacity","duration-500","z-50"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","text-red-600"],[1,"font-medium","text-red-800"],[1,"text-sm","text-red-700"]],template:function(o,n){o&1&&_(0,Si,2,0,"div",2)(1,wi,10,7,"div",3)(2,Ei,7,1,"div",4)(3,Wi,65,40,"div",5)(4,qi,26,32,"div",6)(5,Xi,12,10,"div",7)(6,Qi,12,10,"div",8),o&2&&(s("ngIf",n.loading),a(),s("ngIf",n.error),a(),s("ngIf",n.isImageModalOpen),a(),s("ngIf",n.grave&&!n.loading),a(),s("ngIf",n.isSuggestionModalOpen),a(),s("ngIf",n.showSuccessToast),a(),s("ngIf",n.showErrorToast))},dependencies:[R,Z,J,ee,At,kt,It,T,W,Ee,Se,be,xe,_e,ft,ye,vt,Mt],styles:[`.hover\\:shadow-xl[_ngcontent-%COMP%]:hover{transition:all .3s ease-in-out}.hover\\:-translate-y-1[_ngcontent-%COMP%]:hover{transform:translateY(-4px);transition:transform .3s ease-in-out}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}google-map[_ngcontent-%COMP%]{border-radius:.5rem;overflow:hidden}google-map[_ngcontent-%COMP%]  .map-container{border-radius:.5rem}@media (prefers-color-scheme: dark){.bg-gray-100[_ngcontent-%COMP%]{background-color:#1a202c}.bg-white[_ngcontent-%COMP%]{background-color:#2d3748}.text-gray-800[_ngcontent-%COMP%]{color:#e2e8f0}.text-gray-700[_ngcontent-%COMP%]{color:#cbd5e0}.text-gray-600[_ngcontent-%COMP%]{color:#a0aec0}.text-gray-500[_ngcontent-%COMP%]{color:#718096}.border-gray-100[_ngcontent-%COMP%]{border-color:#4a5568}}
/*# sourceMappingURL=grave-search-details.component-AUYFIWBX.css.map */`]})}return t})();var Ie=(()=>{class t{authService;router;constructor(e,o){this.authService=e,this.router=o}canActivate(e,o){if(this.authService.isLoggedIn()){let n=e.data.roles;return n&&n.length>0&&!this.authService.roleMatch(n)?(this.router.navigate(["/unauthorized"]),!1):!0}return this.router.navigate(["/admin/login"],{queryParams:{returnUrl:o.url!=="/dashboard/default"?o.url:null}}),!1}static \u0275fac=function(o){return new(o||t)(I(U),I(O))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ae=(()=>{class t{router;authService;constructor(e,o){this.router=e,this.authService=o}canActivate(e,o){if(!this.authService.isLoggedIn())return this.router.navigate(["/admin/login"],{queryParams:{returnUrl:o.url}}),!1;let n=e.data.roles;return!n||!n.length||this.authService.roleMatch(n)?!0:(this.router.navigate(["/dashboard/default"]),!1)}static \u0275fac=function(o){return new(o||t)(I(O),I(U))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var en=(t,d)=>({rtl:t,ltr:d}),tn=(t,d)=>({"text-right":t,"text-left":d}),nn=(t,d)=>({"flex justify-end":t,"flex justify-start":d});function rn(t,d){if(t&1&&(i(0,"div",13),S(),i(1,"svg",14),p(2,"path",15),r(),C(),i(3,"span"),l(4),c(5,"date"),r()()),t&2){let e=u();a(4),x(We(5,1,e.publishDate,"longDate"))}}function an(t,d){if(t&1&&(i(0,"div",13)(1,"span"),l(2),c(3,"date"),r(),S(),i(4,"svg",14),p(5,"path",15),r()()),t&2){let e=u();a(2),x(Ke(3,1,e.publishDate,"longDate","","ar"))}}function on(t,d){t&1&&(i(0,"div",16)(1,"p"),l(2," \u0641\u064A \u0627\u0644\u0633\u0646\u0648\u0627\u062A \u0627\u0644\u0623\u062E\u064A\u0631\u0629\u060C \u0634\u0647\u062F\u062A \u0627\u0644\u0645\u0642\u0628\u0631\u0629 \u062A\u062D\u0648\u0644\u0627\u062A \u0645\u0644\u062D\u0648\u0638\u0629 \u062A\u0639\u0643\u0633 \u0627\u0644\u062A\u0642\u062F\u0645 \u0641\u064A \u0643\u064A\u0641\u064A\u0629 \u0627\u0644\u062A\u0639\u0627\u0645\u0644 \u0645\u0639 \u0627\u0644\u0645\u0648\u062A\u0649 \u0648\u0627\u062D\u062A\u064A\u0627\u062C\u0627\u062A \u0623\u0633\u0631\u0647\u0645. \u062D\u064A\u062B \u0643\u0627\u0646\u062A \u0627\u0644\u0645\u0642\u0627\u0628\u0631 \u062A\u064F\u062A\u0631\u0643 \u062F\u0648\u0646 \u062A\u062E\u0637\u064A\u0637\u060C \u0645\u0645\u0627 \u062C\u0639\u0644\u0647\u0627 \u062A\u0628\u062F\u0648 \u0643\u0623\u0645\u0627\u0643\u0646 \u0645\u0647\u062C\u0648\u0631\u0629. \u0643\u0627\u0646\u062A \u0627\u0644\u0632\u064A\u0627\u0631\u0627\u062A \u0625\u0644\u0649 \u0627\u0644\u0645\u0642\u0627\u0628\u0631 \u062A\u064F\u0639\u062A\u0628\u0631 \u062A\u062C\u0631\u0628\u0629 \u062D\u0632\u064A\u0646\u0629 \u0648\u063A\u064A\u0631 \u0645\u0631\u064A\u062D\u0629\u060C \u062D\u064A\u062B \u0643\u0627\u0646\u062A \u0627\u0644\u0637\u0631\u0642 \u063A\u064A\u0631 \u0645\u0639\u0628\u062F\u0629 \u0648\u0627\u0644\u0632\u0647\u0648\u0631 \u0646\u0627\u062F\u0631\u0629. "),r(),i(3,"div",17)(4,"p",18),l(5," \u0648\u0645\u0639 \u0630\u0644\u0643\u060C \u0628\u062F\u0623\u062A \u0627\u0644\u0646\u0642\u0644\u0629 \u0641\u064A \u0627\u0644\u0645\u0642\u0628\u0631\u0629 \u0639\u0646\u062F\u0645\u0627 \u062A\u0645 \u0625\u062F\u062E\u0627\u0644 \u0645\u0641\u0647\u0648\u0645 \u0627\u0644\u062A\u062E\u0637\u064A\u0637 \u0627\u0644\u062D\u0636\u0631\u064A \u0648\u0627\u0644\u0627\u0647\u062A\u0645\u0627\u0645 \u0628\u0627\u0644\u0645\u0633\u0627\u062D\u0627\u062A \u0627\u0644\u062E\u0636\u0631\u0627\u0621. \u062A\u0645 \u062A\u0637\u0648\u064A\u0631 \u0627\u0644\u0645\u0642\u0628\u0631\u0629 \u0644\u062A\u0635\u0628\u062D \u0645\u0643\u0627\u0646\u064B\u0627 \u064A\u0628\u0639\u062B \u0639\u0644\u0649 \u0627\u0644\u0633\u0643\u064A\u0646\u0629 \u0648\u0627\u0644\u0647\u062F\u0648\u0621. "),r()(),i(6,"p"),l(7," \u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0645\u0633\u0627\u0631\u0627\u062A \u0645\u0631\u0635\u0648\u0641\u0629 \u0648\u062D\u062F\u0627\u0626\u0642 \u0645\u0632\u0647\u0631\u0629\u060C \u0645\u0645\u0627 \u062C\u0639\u0644 \u0627\u0644\u0632\u064A\u0627\u0631\u0627\u062A \u0623\u0643\u062B\u0631 \u0631\u0627\u062D\u0629. \u0628\u0627\u0644\u0625\u0636\u0627\u0641\u0629 \u0625\u0644\u0649 \u0630\u0644\u0643\u060C \u062A\u0645 \u062A\u0648\u0641\u064A\u0631 \u062E\u062F\u0645\u0627\u062A \u062C\u062F\u064A\u062F\u0629 \u0645\u062B\u0644 \u0623\u0645\u0627\u0643\u0646 \u0644\u0644\u062C\u0644\u0648\u0633 \u0648\u0645\u0631\u0627\u0641\u0642 \u0644\u0644\u0632\u0648\u0627\u0631 \u0648\u062A\u0642\u062F\u064A\u0645 \u0628\u0639\u0636 \u0627\u0644\u062E\u062F\u0645\u0627\u062A \u0627\u0644\u062A\u064A \u062A\u0633\u0627\u0639\u062F \u0627\u0644\u0632\u0648\u0627\u0631 \u0645\u062B\u0644 \u062A\u0648\u0641\u064A\u0631 \u0627\u0644\u0645\u0627\u0621 \u0627\u0644\u0628\u0627\u0631\u062F \u0644\u0644\u0634\u0631\u0628 \u0648\u0628\u0639\u0636 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u062C\u0627\u062A \u0627\u0644\u0623\u062E\u0631\u0649 \u060C \u0645\u0645\u0627 \u0633\u0627\u0647\u0645 \u0641\u064A \u062A\u062D\u0633\u064A\u0646 \u062A\u062C\u0631\u0628\u0629 \u0627\u0644\u0639\u0627\u0626\u0644\u0627\u062A. "),r(),i(8,"div",19)(9,"div",20)(10,"div",21),S(),i(11,"svg",22),p(12,"path",23),r()(),C(),i(13,"h3",24),l(14,"\u0645\u0633\u0627\u0631\u0627\u062A \u0645\u0631\u0635\u0648\u0641\u0629"),r(),i(15,"p",25),l(16,"\u062A\u0633\u0647\u064A\u0644 \u062D\u0631\u0643\u0629 \u0627\u0644\u0632\u0648\u0627\u0631 \u0648\u062A\u0646\u0642\u0644\u0647\u0645 \u0641\u064A \u0627\u0644\u0645\u0642\u0628\u0631\u0629"),r()(),i(17,"div",20)(18,"div",21),S(),i(19,"svg",22),p(20,"path",26),r()(),C(),i(21,"h3",24),l(22,"\u062D\u062F\u0627\u0626\u0642 \u0645\u0632\u0647\u0631\u0629"),r(),i(23,"p",25),l(24,"\u0625\u0636\u0641\u0627\u0621 \u062C\u0648 \u0645\u0646 \u0627\u0644\u0631\u0627\u062D\u0629 \u0648\u0627\u0644\u062C\u0645\u0627\u0644 \u0639\u0644\u0649 \u0627\u0644\u0645\u0643\u0627\u0646"),r()(),i(25,"div",20)(26,"div",21),S(),i(27,"svg",22),p(28,"path",27),r()(),C(),i(29,"h3",24),l(30,"\u0645\u0631\u0627\u0641\u0642 \u0644\u0644\u0632\u0648\u0627\u0631"),r(),i(31,"p",25),l(32,"\u062E\u062F\u0645\u0627\u062A \u0645\u062A\u0646\u0648\u0639\u0629 \u062A\u0644\u0628\u064A \u0627\u062D\u062A\u064A\u0627\u062C\u0627\u062A \u0627\u0644\u0639\u0627\u0626\u0644\u0627\u062A"),r()()(),i(33,"p"),l(34," \u0627\u0644\u064A\u0648\u0645\u060C \u0623\u0635\u0628\u062D\u062A \u0627\u0644\u0645\u0642\u0628\u0631\u0629 \u0644\u064A\u0633\u062A \u0645\u062C\u0631\u062F \u0645\u0643\u0627\u0646 \u0644\u0644\u062F\u0641\u0646\u060C \u0628\u0644 \u0647\u064A \u0645\u0633\u0627\u062D\u0629 \u062A\u0630\u0643\u0627\u0631\u064A\u0629 \u062A\u0639\u0643\u0633 \u0627\u0644\u062D\u0628 \u0648\u0627\u0644\u0627\u062D\u062A\u0631\u0627\u0645 \u0644\u0644\u0630\u064A\u0646 \u0641\u0642\u062F\u0646\u0627\u0647\u0645. \u064A\u062A\u0645 \u062A\u0646\u0638\u064A\u0645 \u0641\u0639\u0627\u0644\u064A\u0627\u062A \u062A\u0630\u0643\u0627\u0631\u064A\u0629 \u0648\u0623\u064A\u0627\u0645 \u062E\u0627\u0635\u0629 \u0644\u0632\u064A\u0627\u0631\u0629 \u0627\u0644\u0631\u0627\u062D\u0644\u064A\u0646\u060C \u0645\u0645\u0627 \u064A\u0639\u0632\u0632 \u0645\u0646 \u0627\u0644\u0631\u0648\u0627\u0628\u0637 \u0627\u0644\u0645\u062C\u062A\u0645\u0639\u064A\u0629 \u0648\u064A\u0634\u062C\u0639 \u0639\u0644\u0649 \u0627\u0644\u062A\u0630\u0643\u0631 \u0627\u0644\u0625\u064A\u062C\u0627\u0628\u064A. "),r(),i(35,"p",28),l(36," \u0647\u0630\u0647 \u0627\u0644\u0646\u0642\u0644\u0629 \u0641\u064A \u0627\u0644\u0645\u0642\u0628\u0631\u0629 \u062A\u0639\u0643\u0633 \u0627\u0644\u062A\u0642\u062F\u0645 \u0641\u064A \u0643\u064A\u0641\u064A\u0629 \u062A\u0639\u0628\u064A\u0631\u0646\u0627 \u0639\u0646 \u0627\u0644\u062D\u0632\u0646 \u0648\u0627\u0644\u0627\u062D\u062A\u0641\u0627\u0621 \u0628\u0627\u0644\u0630\u0643\u0631\u064A\u0627\u062A\u060C \u0645\u0645\u0627 \u064A\u062C\u0639\u0644\u0647\u0627 \u0645\u0643\u0627\u0646\u064B\u0627 \u064A\u0628\u0639\u062B \u0639\u0644\u0649 \u0627\u0644\u0623\u0645\u0644 \u0648\u0627\u0644\u0633\u0644\u0627\u0645 \u0628\u0628\u0631\u0643\u0627\u062A \u0627\u0644\u0635\u0644\u0627\u0629 \u0639\u0644\u0649 \u0645\u062D\u0645\u062F \u0648\u0627\u0644 \u0645\u062D\u0645\u062F "),r()())}function ln(t,d){t&1&&(i(0,"div",16)(1,"p"),l(2," In recent years, the cemetery has undergone notable transformations reflecting progress in how we handle the deceased and their families' needs. Previously, cemeteries were left unplanned, appearing as abandoned places. Visits to cemeteries were considered sad and uncomfortable experiences, with unpaved roads and scarce flowers. "),r(),i(3,"div",29)(4,"p",18),l(5," However, the transformation began when concepts of urban planning and attention to green spaces were introduced. The cemetery was developed to become a place that evokes tranquility and peace. "),r()(),i(6,"p"),l(7," Paved pathways and flowering gardens were created, making visits more comfortable. Additionally, new services were provided such as seating areas and visitor facilities, offering amenities like cold drinking water and other necessities, which helped improve the family experience. "),r(),i(8,"div",19)(9,"div",20)(10,"div",21),S(),i(11,"svg",22),p(12,"path",23),r()(),C(),i(13,"h3",24),l(14,"Paved Pathways"),r(),i(15,"p",25),l(16,"Facilitating visitor movement and navigation through the cemetery"),r()(),i(17,"div",20)(18,"div",21),S(),i(19,"svg",22),p(20,"path",26),r()(),C(),i(21,"h3",24),l(22,"Flowering Gardens"),r(),i(23,"p",25),l(24,"Creating an atmosphere of comfort and beauty in the space"),r()(),i(25,"div",20)(26,"div",21),S(),i(27,"svg",22),p(28,"path",27),r()(),C(),i(29,"h3",24),l(30,"Visitor Facilities"),r(),i(31,"p",25),l(32,"Various services meeting family needs"),r()()(),i(33,"p"),l(34," Today, the cemetery is not just a burial place, but a memorial space reflecting love and respect for those we have lost. Memorial events and special days for visiting the deceased are organized, strengthening community bonds and encouraging positive remembrance. "),r(),i(35,"p",28),l(36," This transformation in the cemetery reflects progress in how we express grief and celebrate memories, making it a place that brings hope and peace with blessings of prayers upon Muhammad and his family. "),r()())}var Dt=(()=>{class t{translateService;title="\u0627\u0644\u0646\u0642\u0644\u0629 \u0641\u064A \u0627\u0644\u0645\u0642\u0628\u0631\u0629";titleEn="The Transformation of the Cemetery";publishDate=new Date;language="ar";destroy$=new z;constructor(e){this.translateService=e}ngOnInit(){this.language=this.translateService.currentLang||"en",this.translateService.onLangChange.pipe(Y(this.destroy$)).subscribe(e=>{this.language=e.lang})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(o){return new(o||t)(h(M))};static \u0275cmp=A({type:t,selectors:[["app-story"]],decls:16,vars:17,consts:[[1,"relative","min-h-screen","bg-gray-50","dark:bg-gray-900",3,"ngClass"],[1,"absolute","inset-0","overflow-hidden","pointer-events-none","opacity-30"],[1,"absolute","-left-40","-top-40","w-80","h-80","bg-gradient-to-tr","from-arabic-green","to-arabic-black","blur-3xl","transform-gpu","gradient-animation"],[1,"absolute","right-0","bottom-0","w-80","h-80","bg-gradient-to-tr","from-arabic-black","to-arabic-green","blur-3xl","transform-gpu","gradient-animation"],[1,"container","mx-auto","px-4","py-12","relative","z-10"],[1,"max-w-4xl","mx-auto","bg-white","dark:bg-gray-800","rounded-xl","shadow-lg","overflow-hidden"],[1,"h-64","bg-gradient-to-r","from-arabic-green-dark","to-arabic-green","relative"],[1,"absolute","inset-0","bg-black","bg-opacity-30","flex","items-center","justify-center"],[1,"text-4xl","md:text-5xl","font-bold","text-white","text-center","px-6"],[1,"p-6","md:p-8",3,"ngClass"],[1,"mb-6","text-gray-500","dark:text-gray-400",3,"ngClass"],["class","flex items-center",4,"ngIf"],["class","space-y-6 text-lg leading-relaxed text-gray-800 dark:text-gray-200",4,"ngIf"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"space-y-6","text-lg","leading-relaxed","text-gray-800","dark:text-gray-200"],[1,"py-2","px-4","bg-arabic-green/5","border-r-4","border-arabic-green","rounded"],[1,"text-arabic-green-dark","dark:text-arabic-green"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","my-8"],[1,"bg-white","dark:bg-gray-700","p-4","rounded-lg","shadow-sm","border","border-gray-200","dark:border-gray-600","text-center","hover:bg-arabic-green/5","transition-colors"],[1,"w-12","h-12","mx-auto","mb-3","bg-arabic-green/10","rounded-full","flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","text-arabic-green"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"text-arabic-green-dark","dark:text-arabic-green","font-bold"],[1,"text-sm","mt-2","text-gray-600","dark:text-gray-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-center","italic","text-arabic-green-dark","dark:text-arabic-green","text-lg"],[1,"py-2","px-4","bg-arabic-green/5","border-l-4","border-arabic-green","rounded"]],template:function(o,n){o&1&&(i(0,"div",0)(1,"div",1),p(2,"div",2)(3,"div",3),r(),i(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),l(9),r()()(),i(10,"div",9)(11,"div",10),_(12,rn,6,4,"div",11)(13,an,6,6,"div",11),r(),_(14,on,37,0,"div",12)(15,ln,37,0,"div",12),r()()()()),o&2&&(s("ngClass",X(8,en,n.language==="ar",n.language==="en")),a(9),x(n.language==="ar"?n.title:n.titleEn),a(),s("ngClass",X(11,tn,n.language==="ar",n.language==="en")),a(),s("ngClass",X(14,nn,n.language==="ar",n.language==="en")),a(),s("ngIf",n.language==="en"),a(),s("ngIf",n.language==="ar"),a(),s("ngIf",n.language==="ar"),a(),s("ngIf",n.language==="en"))},dependencies:[R,me,Z,J,T],styles:[`.text-arabic-green-dark[_ngcontent-%COMP%], .text-arabic-green[_ngcontent-%COMP%]{font-weight:500}button[_ngcontent-%COMP%], a[_ngcontent-%COMP%], .hover\\:bg-arabic-green\\/5[_ngcontent-%COMP%]{transition:all .3s ease}.leading-relaxed[_ngcontent-%COMP%]{line-height:1.8}@keyframes _ngcontent-%COMP%_gentle-float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.gradient-animation[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_gentle-float 8s ease-in-out infinite}@media (max-width: 768px){.text-4xl[_ngcontent-%COMP%]{font-size:1.75rem}.space-y-6[_ngcontent-%COMP%]{margin-bottom:1.25rem}}
/*# sourceMappingURL=story.component-K7QSHSHB.css.map */`]})}return t})();var Gt=(()=>{class t{router;route;location;ngZone;document;platformId;sceneElement=null;cleanup=!1;previousUrl="/";routerSubscription=null;popStateListener=null;isBrowser=!1;graveLatitude=0;graveLongitude=0;constructor(e,o,n,v,w,k){this.router=e,this.route=o,this.location=n,this.ngZone=v,this.document=w,this.platformId=k,this.isBrowser=V(this.platformId);let F=this.router.getCurrentNavigation();if(F?.extras.state){let N=F.extras.state;N.grave&&(this.graveLatitude=N.grave.latitude||0,this.graveLongitude=N.grave.longitude||0,console.log("Received coordinates in AR component:",this.graveLatitude,this.graveLongitude))}if(window.history.state&&window.history.state.navigationId>1&&(this.routerSubscription=this.router.events.subscribe(N=>{N instanceof pe&&(N.url!=="/ar-view"&&(this.previousUrl=N.url),this.routerSubscription?.unsubscribe())})),this.document.referrer&&this.document.referrer.includes(window.location.origin)){let ne=new URL(this.document.referrer).pathname;ne&&ne!=="/ar-view"&&(this.previousUrl=ne)}(!this.previousUrl||this.previousUrl==="/ar-view")&&(this.previousUrl="/"),console.log("Back navigation will go to:",this.previousUrl)}handleBeforeUnload(e){console.log("Detected page unload, cleaning up AR resources"),this.cleanupARResources()}ngOnInit(){setTimeout(()=>{if(this.sceneElement=this.document.querySelector("a-scene"),this.graveLatitude&&this.graveLongitude){let e=this.document.querySelector("a-entity[gps-entity-place]");e&&(e.setAttribute("gps-entity-place",`latitude: ${this.graveLatitude}; longitude: ${this.graveLongitude};`),console.log("Updated AR entity with coordinates:",this.graveLatitude,this.graveLongitude))}},100),this.isBrowser&&(this.popStateListener=this.handlePopState.bind(this),window.addEventListener("popstate",this.popStateListener),history.pushState(null,"",window.location.href))}handlePopState(e){console.log("Detected browser back button, intercepting navigation"),history.pushState(null,"",window.location.href),this.goBack()}ngOnDestroy(){this.routerSubscription&&this.routerSubscription.unsubscribe(),this.isBrowser&&this.popStateListener&&window.removeEventListener("popstate",this.popStateListener),this.cleanup=!0,this.cleanupARResources()}cleanupARResources(){try{navigator.mediaDevices&&this.document.querySelectorAll("video").forEach(n=>{if(n.srcObject)try{n.srcObject.getTracks().forEach(w=>{w.stop()}),n.srcObject=null}catch(v){console.warn("Error stopping video track:",v)}});let e=this.document.querySelector("a-scene");if(e)try{let o=e.systems&&e.systems.arjs;o&&typeof o.pause=="function"&&o.pause()}catch(o){console.warn("Error pausing AR system:",o)}window.ARCleanup&&typeof window.ARCleanup.cleanup=="function"&&window.ARCleanup.cleanup()}catch(e){console.warn("Error during AR cleanup:",e)}}goBack(){this.cleanupARResources();try{setTimeout(()=>{console.log("Navigating back to:",this.previousUrl),window.location.href=this.previousUrl||"/"},300)}catch(e){console.warn("Error during navigation:",e),window.location.href="/"}}static \u0275fac=function(o){return new(o||t)(h(O),h(ge),h(ce),h(Ve),h(Qe),h(H))};static \u0275cmp=A({type:t,selectors:[["app-ar-map"]],hostBindings:function(o,n){o&1&&f("beforeunload",function(w){return n.handleBeforeUnload(w)},!1,de)},decls:8,vars:3,consts:[[1,"ar-map"],[1,"back-button",3,"click"],[1,"fas","fa-arrow-left"],["vr-mode-ui","enabled: false","renderer","antialias: false; precision: medium; logarithmicDepthBuffer: false;","arjs","sourceType: webcam; videoTexture: true; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3; sourceWidth: 1080; sourceHeight: 1920; displayWidth: 1080; displayHeight: 1920;"],["look-at","[gps-camera]","camera","",3,"gps-entity-place"],["color","red","height","1","radius-bottom","0","radius-top","0.2","position","0 0.5 0"],["color","red","radius","0.2","position","0 1.15 0"],["gps-camera","","rotation-reader",""]],template:function(o,n){o&1&&(i(0,"div",0)(1,"button",1),f("click",function(){return n.goBack()}),p(2,"i",2),r(),i(3,"a-scene",3)(4,"a-entity",4),p(5,"a-cone",5)(6,"a-sphere",6),r(),p(7,"a-camera",7),r()()),o&2&&(a(4),Ye("gps-entity-place","latitude: ",n.graveLatitude,"; longitude: ",n.graveLongitude,";"))},dependencies:[R,T],styles:[`.ar-map[_ngcontent-%COMP%]{width:100%;height:100%;position:relative}.back-button[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;z-index:9999;background-color:#0009;color:#fff;border:none;border-radius:50%;width:50px;height:50px;font-size:20px;cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 10px #0000004d}.back-button[_ngcontent-%COMP%]:focus{outline:none}.back-button[_ngcontent-%COMP%]:hover{background-color:#000c}
/*# sourceMappingURL=ar-map.component-LL6MZHXI.css.map */`]})}return t})();var Rt=[{path:"",component:Lt,title:"APP.TITLE"},{path:"search/:id",component:De,title:"SEARCH.TITLE"},{path:"story",component:Dt,title:"MENU.STORY"},{path:"ar-view",component:Gt,title:"GRAVE_DETAILS.AR_VIEW"},{path:"login",loadComponent:()=>import("./chunk-ULQJZWJQ.js").then(t=>t.LoginComponent),title:"MENU.LOGIN"},{path:"admin/login",loadComponent:()=>import("./chunk-ULQJZWJQ.js").then(t=>t.LoginComponent),title:"MENU.LOGIN"},{path:"grave/management",loadComponent:()=>import("./chunk-6WEHRBKK.js").then(t=>t.GraveManagementComponent),canActivate:[Ie,Ae],data:{roles:["Admin","User"]},title:"MENU.MANAGEMENT"},{path:"grave/management/new",loadComponent:()=>import("./chunk-4FKRRPKJ.js").then(t=>t.GraveFormComponent),canActivate:[Ie,Ae],data:{roles:["Admin","User"]},title:"GRAVE.CREATE"},{path:"grave/edit/:id",loadComponent:()=>import("./chunk-4FKRRPKJ.js").then(t=>t.GraveFormComponent),canActivate:[Ie,Ae],data:{roles:["Admin","User"]},title:"GRAVE.EDIT"},{path:"grave/:id",component:De,title:"GRAVE.VIEW_DETAILS"},{path:"unauthorized",loadComponent:()=>import("./chunk-OQQXUETP.js").then(t=>t.UnauthorizedComponent),title:"APP.UNAUTHORIZED"},{path:"**",redirectTo:"",pathMatch:"full"}];var Ot=(()=>{class t{http;prefix;suffix;constructor(e,o="/assets/i18n/",n=".json"){this.http=e,this.prefix=o,this.suffix=n}getTranslation(e){return this.http.get(`${this.prefix}${e}${this.suffix}`)}static \u0275fac=function(o){return new(o||t)(I(Q),I(String),I(String))};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})();function sn(t){let d=t,e=Math.floor(Math.abs(t)),o=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&o===0?1:5}var Pt=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",sn];function dn(t){let d=t,e=Math.floor(Math.abs(t)),o=t.toString().replace(/^[^.]*\.?/,"").length,n=parseInt(t.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return e===0||e===1?1:n===0&&e!==0&&e%1e6===0&&o===0||!(n>=0&&n<=5)?4:5}var Bt=["fr",[["AM","PM"],void 0,void 0],void 0,[["D","L","M","M","J","V","S"],["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],["di","lu","ma","me","je","ve","sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["janv.","f\xE9vr.","mars","avr.","mai","juin","juil.","ao\xFBt","sept.","oct.","nov.","d\xE9c."],["janvier","f\xE9vrier","mars","avril","mai","juin","juillet","ao\xFBt","septembre","octobre","novembre","d\xE9cembre"]],void 0,[["av. J.-C.","ap. J.-C."],void 0,["avant J\xE9sus-Christ","apr\xE8s J\xE9sus-Christ"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}","{1}, {0}","{1} '\xE0' {0}",void 0],[",","\u202F",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0\xA0%","#,##0.00\xA0\xA4","#E0"],"EUR","\u20AC","euro",{ARS:["$AR","$"],AUD:["$AU","$"],BEF:["FB"],BMD:["$BM","$"],BND:["$BN","$"],BYN:[void 0,"\u0440."],BZD:["$BZ","$"],CAD:["$CA","$"],CLP:["$CL","$"],CNY:[void 0,"\xA5"],COP:["$CO","$"],CYP:["\xA3CY"],EGP:[void 0,"\xA3E"],FJD:["$FJ","$"],FKP:["\xA3FK","\xA3"],FRF:["F"],GBP:["\xA3GB","\xA3"],GIP:["\xA3GI","\xA3"],HKD:[void 0,"$"],IEP:["\xA3IE"],ILP:["\xA3IL"],ITL:["\u20A4IT"],JPY:[void 0,"\xA5"],KMF:[void 0,"FC"],LBP:["\xA3LB","\xA3L"],MTP:["\xA3MT"],MXN:["$MX","$"],NAD:["$NA","$"],NIO:[void 0,"$C"],NZD:["$NZ","$"],PHP:[void 0,"\u20B1"],RHD:["$RH"],RON:[void 0,"L"],RWF:[void 0,"FR"],SBD:["$SB","$"],SGD:["$SG","$"],SRD:["$SR","$"],TOP:[void 0,"$T"],TTD:["$TT","$"],TWD:[void 0,"NT$"],USD:["$US","$"],UYU:["$UY","$"],WST:["$WS"],XCD:[void 0,"$"],XPF:["FCFP"],ZMW:[void 0,"Kw"]},"ltr",dn];function cn(t){let d=t;return d===0?0:d===1?1:d===2?2:d%100===Math.floor(d%100)&&d%100>=3&&d%100<=10?3:d%100===Math.floor(d%100)&&d%100>=11&&d%100<=99?4:5}var Vt=["ar",[["\u0635","\u0645"],void 0,void 0],[["\u0635","\u0645"],void 0,["\u0635\u0628\u0627\u062D\u064B\u0627","\u0645\u0633\u0627\u0621\u064B"]],[["\u062D","\u0646","\u062B","\u0631","\u062E","\u062C","\u0633"],["\u0627\u0644\u0623\u062D\u062F","\u0627\u0644\u0627\u062B\u0646\u064A\u0646","\u0627\u0644\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0627\u0644\u062E\u0645\u064A\u0633","\u0627\u0644\u062C\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062A"],void 0,["\u0623\u062D\u062F","\u0625\u062B\u0646\u064A\u0646","\u062B\u0644\u0627\u062B\u0627\u0621","\u0623\u0631\u0628\u0639\u0627\u0621","\u062E\u0645\u064A\u0633","\u062C\u0645\u0639\u0629","\u0633\u0628\u062A"]],void 0,[["\u064A","\u0641","\u0645","\u0623","\u0648","\u0646","\u0644","\u063A","\u0633","\u0643","\u0628","\u062F"],["\u064A\u0646\u0627\u064A\u0631","\u0641\u0628\u0631\u0627\u064A\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064A\u0644","\u0645\u0627\u064A\u0648","\u064A\u0648\u0646\u064A\u0648","\u064A\u0648\u0644\u064A\u0648","\u0623\u063A\u0633\u0637\u0633","\u0633\u0628\u062A\u0645\u0628\u0631","\u0623\u0643\u062A\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062F\u064A\u0633\u0645\u0628\u0631"],void 0],void 0,[["\u0642.\u0645","\u0645"],void 0,["\u0642\u0628\u0644 \u0627\u0644\u0645\u064A\u0644\u0627\u062F","\u0645\u064A\u0644\u0627\u062F\u064A"]],6,[5,6],["d\u200F/M\u200F/y","dd\u200F/MM\u200F/y","d MMMM y","EEEE\u060C d MMMM y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} \u0641\u064A {0}",void 0],[".",",",";","\u200E%\u200E","\u200E+","\u200E-","E","\xD7","\u2030","\u221E","\u0644\u064A\u0633\xA0\u0631\u0642\u0645\u064B\u0627",":"],["#,##0.###","#,##0%","\xA4\xA0#,##0.00","#E0"],"EGP","\u062C.\u0645.\u200F","\u062C\u0646\u064A\u0647 \u0645\u0635\u0631\u064A",{AED:["\u062F.\u0625.\u200F"],ARS:[void 0,"AR$"],AUD:["AU$"],BBD:[void 0,"BB$"],BHD:["\u062F.\u0628.\u200F"],BMD:[void 0,"BM$"],BND:[void 0,"BN$"],BSD:[void 0,"BS$"],BYN:[void 0,"\u0440."],BZD:[void 0,"BZ$"],CAD:["CA$"],CLP:[void 0,"CL$"],CNY:["CN\xA5"],COP:[void 0,"CO$"],CUP:[void 0,"CU$"],DOP:[void 0,"DO$"],DZD:["\u062F.\u062C.\u200F"],EGP:["\u062C.\u0645.\u200F","E\xA3"],FJD:[void 0,"FJ$"],GBP:["UK\xA3"],GYD:[void 0,"GY$"],HKD:["HK$"],IQD:["\u062F.\u0639.\u200F"],IRR:["\u0631.\u0625."],JMD:[void 0,"JM$"],JOD:["\u062F.\u0623.\u200F"],JPY:["JP\xA5"],KWD:["\u062F.\u0643.\u200F"],KYD:[void 0,"KY$"],LBP:["\u0644.\u0644.\u200F","L\xA3"],LRD:[void 0,"$LR"],LYD:["\u062F.\u0644.\u200F"],MAD:["\u062F.\u0645.\u200F"],MRU:["\u0623.\u0645."],MXN:["MX$"],NZD:["NZ$"],OMR:["\u0631.\u0639.\u200F"],PHP:[void 0,"\u20B1"],QAR:["\u0631.\u0642.\u200F"],SAR:["\u0631.\u0633.\u200F"],SBD:[void 0,"SB$"],SDD:["\u062F.\u0633.\u200F"],SDG:["\u062C.\u0633."],SRD:[void 0,"SR$"],SYP:["\u0644.\u0633.\u200F","\xA3"],THB:["\u0E3F"],TND:["\u062F.\u062A.\u200F"],TTD:[void 0,"TT$"],TWD:["NT$"],USD:["US$"],UYU:[void 0,"UY$"],YER:["\u0631.\u064A.\u200F"]},"rtl",cn];function Ft(t,d){console.log("\u{1F50D} Functional ErrorInterceptor running for:",t.url);let e=se(we);return console.log("\u{1F489} Toast service injected:",!!e),d(t).pipe(Oe(o=>{if(console.log("\u{1F6A8} Intercepted error:",o.status,o.url),console.log("\u{1F4DD} Error details:",o),o){let n="An unknown error occurred";switch(o.error?typeof o.error=="string"?n=o.error:o.error.message?n=o.error.message:o.message&&(n=o.message):o.message&&(n=o.message),console.log("\u{1F4C4} Extracted error message:",n),o.status){case 400:if(o.error&&o.error.errors){let v=[];for(let w in o.error.errors)o.error.errors[w]&&v.push(o.error.errors[w]);throw console.log("\u{1F522} Modal state errors:",v),e.error(v.join(", ")),console.log("\u{1F514} Toast error called with modal state errors"),v}else console.log("\u{1F534} 400 error:",n),e.error(n,o.status),console.log("\u{1F514} Toast error called with status 400");break;case 401:console.log("\u{1F511} 401 error:",n),e.error(n||"Unauthorized",o.status),console.log("\u{1F514} Toast error called with status 401");break;case 404:console.log("\u{1F50D} 404 error"),e.error("Resource not found",404),console.log("\u{1F514} Toast error called with status 404");break;case 500:console.log("\u{1F4A5} 500 error:",o.error),e.error("Internal Server Error",o.status),console.log("\u{1F514} Toast error called with status 500");break;default:console.log("\u2753 Other error:",o),e.error(n||"Something unexpected went wrong!"),console.log("\u{1F514} Toast error called with general error");break}}return Ge(()=>o)}))}function Nt(t,d){console.log("Functional JwtInterceptor running");let e=se(U),o=null;return e.currentUser$.pipe(Pe(1)).subscribe(n=>{o=n}),o&&o.token&&(t=t.clone({setHeaders:{Authorization:`Bearer ${o.token}`}})),d(t)}var jt=(()=>{class t extends ve{title;translateService;currentTitle;destroy$=new z;constructor(e,o){super(),this.title=e,this.translateService=o,this.translateService.onLangChange.pipe(Y(this.destroy$)).subscribe(()=>{if(this.currentTitle){let n=this.translateService.instant(this.currentTitle);this.title.setTitle(n)}})}updateTitle(e){let o=this.buildTitle(e);if(this.currentTitle=o,o){let n=this.translateService.instant(o);this.title.setTitle(n)}else{let n=this.translateService.instant("APP.TITLE");this.title.setTitle(n)}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(o){return new(o||t)(I(ot),I(M))};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})();ue(Pt);ue(Bt);ue(Vt);function un(t){return new Ot(t,"./assets/i18n/",".json")}function mn(t){return()=>(t.events.pipe(Re(d=>d instanceof pe)).subscribe(()=>{setTimeout(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},0)}),Promise.resolve())}var Ht={providers:[qe({eventCoalescing:!0}),ut(Rt,mt()),{provide:ve,useClass:jt},{provide:He,useFactory:mn,deps:[O],multi:!0},st(lt()),it(rt(),nt([Nt,Ft])),we,ke,J,{provide:Xe,useValue:"ar"},{provide:tt,useValue:{dateFormat:"yyyy/MM/dd",timezone:"UTC"}},Be(T.forRoot({loader:{provide:_t,useFactory:un,deps:[Q]},defaultLanguage:"ar"}))]};var Ut=()=>({exact:!0}),Me=()=>({exact:!1}),$t=()=>["Admin","User"];function pn(t,d){t&1&&p(0,"img",35)}function gn(t,d){t&1&&p(0,"img",36)}function vn(t,d){t&1&&(D(0),i(1,"a",37),l(2),c(3,"translate"),r(),G()),t&2&&(a(),s("routerLinkActiveOptions",B(4,Me)),a(),x(m(3,2,"MENU.MANAGEMENT")))}function fn(t,d){if(t&1){let e=E();i(0,"button",38),f("click",function(){b(e);let n=u();return y(n.switchLanguage())}),S(),i(1,"svg",39),p(2,"path",40),r(),l(3),r()}if(t&2){let e=u();a(3),g(" ",e.languageLabel," ")}}function hn(t,d){if(t&1){let e=E();i(0,"button",41),f("click",function(){b(e);let n=u();return y(n.logout())}),l(1),c(2,"translate"),r()}t&2&&(a(),g(" ",m(2,1,"MENU.LOGOUT")," "))}function xn(t,d){t&1&&(i(0,"a",42),l(1),c(2,"translate"),i(3,"span",43),l(4,"\u2192"),r()()),t&2&&(a(),g("",m(2,1,"MENU.LOGIN")," "))}function _n(t,d){t&1&&p(0,"img",35)}function bn(t,d){t&1&&p(0,"img",36)}function yn(t,d){if(t&1){let e=E();D(0),i(1,"a",44),f("click",function(){b(e);let n=u();return y(n.closeMobileMenu())}),l(2),c(3,"translate"),r(),G()}t&2&&(a(),s("routerLinkActiveOptions",B(4,Me)),a(),x(m(3,2,"MENU.MANAGEMENT")))}function Sn(t,d){if(t&1){let e=E();i(0,"button",45),f("click",function(){b(e);let n=u();return y(n.switchLanguage())}),S(),i(1,"svg",39),p(2,"path",40),r(),l(3),c(4,"translate"),r()}if(t&2){let e=u();a(3),$(" ",m(4,2,"MENU.LANGUAGE"),": ",e.languageLabel," ")}}function wn(t,d){if(t&1){let e=E();i(0,"a",46),f("click",function(){b(e);let n=u();return y(n.closeMobileMenu())}),l(1),c(2,"translate"),i(3,"span",47),l(4,"\u2192"),r()()}t&2&&(a(),g("",m(2,1,"MENU.LOGIN")," "))}function Cn(t,d){if(t&1){let e=E();i(0,"button",48),f("click",function(){b(e);let n=u();return n.logout(),y(n.closeMobileMenu())}),l(1),c(2,"translate"),r()}t&2&&(a(),g(" ",m(2,1,"MENU.LOGOUT")," "))}var zt=(()=>{class t{translateService;authService;router;platformId;currentLang="en";isBrowser;darkMode=!1;isMobileMenuOpen=!1;isLoggedIn=!1;destroy$=new z;prefersColorSchemeMedia;get languageLabel(){return this.currentLang!=="en"?"English":"\u0639\u0631\u0628\u064A"}constructor(e,o,n,v){if(this.translateService=e,this.authService=o,this.router=n,this.platformId=v,this.isBrowser=V(this.platformId),this.isBrowser){let w=localStorage.getItem("preferredLanguage");w&&["en","ar"].includes(w)?(this.translateService.use(w),this.currentLang=w):this.currentLang=this.translateService.currentLang||"en",this.initializeDarkMode()}else this.currentLang="ar"}ngOnInit(){this.authService.currentUser$.pipe(Y(this.destroy$)).subscribe(e=>{this.isLoggedIn=!!e?.token})}onResize(e){this.isBrowser&&window.innerWidth>=1024&&this.isMobileMenuOpen&&(this.isMobileMenuOpen=!1,this.isBrowser&&document.body.classList.remove("overflow-hidden"))}toggleMobileMenu(){this.isMobileMenuOpen=!this.isMobileMenuOpen,this.isBrowser&&(this.isMobileMenuOpen?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden")),console.log("Mobile menu toggled:",this.isMobileMenuOpen)}closeMobileMenu(){this.isMobileMenuOpen&&(this.isMobileMenuOpen=!1,this.isBrowser&&document.body.classList.remove("overflow-hidden"),console.log("Mobile menu closed"))}switchLanguage(){let e=this.currentLang==="en"?"ar":"en";this.translateService.use(e),this.currentLang=e,this.isBrowser&&(localStorage.setItem("preferredLanguage",e),e==="ar"?(document.documentElement.dir="rtl",document.body.classList.add("rtl")):(document.documentElement.dir="ltr",document.body.classList.remove("rtl")))}initializeDarkMode(){if(!this.isBrowser)return;let e=window.matchMedia("(prefers-color-scheme: dark)");this.prefersColorSchemeMedia=e,this.darkMode=e.matches,this.applyDarkMode(this.darkMode),this.prefersColorSchemeMedia.addEventListener("change",o=>{this.darkMode=o.matches,this.applyDarkMode(this.darkMode)})}applyDarkMode(e){e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}toggleDarkMode(){}ngAfterViewInit(){if(!this.isBrowser)return;let e=document.getElementById("product-dropdown-toggle"),o=document.getElementById("product-dropdown");e&&o&&(e.addEventListener("click",()=>{o.classList.toggle("hidden");let n=e.getAttribute("aria-expanded")==="true";e.setAttribute("aria-expanded",(!n).toString())}),document.addEventListener("click",n=>{!e.contains(n.target)&&!o.contains(n.target)&&(o.classList.add("hidden"),e.setAttribute("aria-expanded","false"))}))}ngOnDestroy(){this.isBrowser&&this.prefersColorSchemeMedia&&this.prefersColorSchemeMedia.removeEventListener("change",e=>{this.darkMode=e.matches,this.applyDarkMode(this.darkMode)}),this.destroy$.next(),this.destroy$.complete()}logout(){this.authService.logout(),this.router.navigate(["/"])}static \u0275fac=function(o){return new(o||t)(h(M),h(U),h(O),h(H))};static \u0275cmp=A({type:t,selectors:[["app-header"]],hostBindings:function(o,n){o&1&&f("resize",function(w){return n.onResize(w)},!1,de)},decls:54,vars:37,consts:[[1,"bg-white","dark:bg-gray-800"],["aria-label","Global",1,"mx-auto","flex","max-w-7xl","items-center","justify-between","p-6","lg:px-8"],[1,"flex","lg:flex-1"],["routerLink","/",1,"-m-1.5","p-1.5"],[1,"sr-only"],["class","h-16 w-auto","src","../../../assets/logo/Logo.svg","alt","Logo",4,"ngIf"],["class","h-16 w-auto","src","../../../assets/logo/Logo-white.svg","alt","Logo",4,"ngIf"],[1,"flex","lg:hidden"],["type","button","aria-controls","mobile-menu","aria-label","Toggle navigation menu",1,"-m-2.5","inline-flex","items-center","justify-center","rounded-md","p-2.5","text-gray-700","dark:text-gray-300","hover:text-arabic-green","hover:dark:text-arabic-green-light","transition-colors","duration-200",3,"click"],["fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor","aria-hidden","true","data-slot","icon",1,"size-6"],["stroke-linecap","round","stroke-linejoin","round","d","M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"],[1,"hidden","lg:flex","lg:gap-x-12"],["routerLink","/","routerLinkActive","text-arabic-green dark:text-arabic-green-light",1,"text-sm/6","font-semibold","text-gray-900","dark:text-gray-100","hover:text-arabic-green","hover:dark:text-arabic-green-light","transition-colors","duration-200","no-underline",3,"routerLinkActiveOptions"],["routerLink","/story","routerLinkActive","text-arabic-green dark:text-arabic-green-light",1,"text-sm/6","font-semibold","text-gray-900","dark:text-gray-100","hover:text-arabic-green","hover:dark:text-arabic-green-light","transition-colors","duration-200","no-underline",3,"routerLinkActiveOptions"],[4,"appHasRole"],[1,"hidden","lg:flex","lg:flex-1","lg:justify-end","lg:items-center","lg:gap-x-6"],["class","text-sm/6 font-semibold text-gray-900 dark:text-gray-100 hover:text-arabic-green hover:dark:text-arabic-green-light transition-colors flex items-center cursor-pointer gap-2","aria-label","Switch language",3,"click",4,"ngIf"],["class","text-sm/6 font-semibold text-gray-900 dark:text-gray-100 hover:text-arabic-green hover:dark:text-arabic-green-light transition-colors duration-200 no-underline inline-flex items-center cursor-pointer",3,"click",4,"ngIf"],["routerLink","/login","class","text-sm/6 font-semibold text-gray-900 dark:text-gray-100 hover:text-arabic-green hover:dark:text-arabic-green-light transition-colors duration-200 no-underline inline-flex items-center",4,"ngIf"],["id","mobile-menu","role","dialog","aria-modal","true",1,"lg:hidden","fixed","inset-0","z-50"],["id","mobile-menu-backdrop",1,"fixed","inset-0","bg-gray-600","bg-opacity-75","dark:bg-gray-900","dark:bg-opacity-75","transition-opacity",3,"click"],[1,"fixed","inset-y-0","right-0","z-[60]","w-full","overflow-y-auto","bg-white","dark:bg-gray-800","px-6","py-6","sm:max-w-sm","sm:ring-1","sm:ring-gray-900/10","dark:sm:ring-gray-700/30","shadow-xl","transform","translate-x-0","transition-transform","duration-300","ease-in-out"],[1,"flex","items-center","justify-between"],["routerLink","/",1,"-m-1.5","p-1.5",3,"click"],["type","button","aria-label","Close menu",1,"-m-2.5","rounded-md","p-2.5","text-gray-700","dark:text-gray-300","hover:text-arabic-green","hover:dark:text-arabic-green-light","transition-colors","duration-200",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M6 18 18 6M6 6l12 12"],[1,"mt-6","flow-root"],[1,"-my-6","divide-y","divide-gray-500/10","dark:divide-gray-700/50"],[1,"space-y-2","py-6"],["id","mobile-menu-search","routerLink","/","routerLinkActive","text-arabic-green dark:text-arabic-green-light bg-gray-50 dark:bg-gray-700",1,"-mx-3","block","rounded-lg","px-3","py-2","text-base/7","font-semibold","text-gray-900","dark:text-gray-100","hover:text-arabic-green","hover:dark:text-arabic-green-light","hover:bg-gray-50","hover:dark:bg-gray-700","transition-colors","duration-200","no-underline",3,"click","routerLinkActiveOptions"],["id","mobile-menu-story","routerLink","/story","routerLinkActive","text-arabic-green dark:text-arabic-green-light bg-gray-50 dark:bg-gray-700",1,"-mx-3","block","rounded-lg","px-3","py-2","text-base/7","font-semibold","text-gray-900","dark:text-gray-100","hover:text-arabic-green","hover:dark:text-arabic-green-light","hover:bg-gray-50","hover:dark:bg-gray-700","transition-colors","duration-200","no-underline",3,"click","routerLinkActiveOptions"],[1,"py-6"],["class","-mx-3 flex items-center gap-2 rounded-lg px-3 py-2 text-base/7 font-semibold text-gray-900 dark:text-gray-100 hover:text-arabic-green hover:dark:text-arabic-green-light hover:bg-gray-50 hover:dark:bg-gray-800 transition-colors duration-200 w-full text-left","aria-label","Switch language",3,"click",4,"ngIf"],["routerLink","/login","class","-mx-3 flex items-center rounded-lg px-3 py-2.5 text-base/7 font-semibold text-gray-900 dark:text-gray-100 hover:text-arabic-green hover:dark:text-arabic-green-light hover:bg-gray-50 hover:dark:bg-gray-800 transition-colors duration-200 no-underline mt-2",3,"click",4,"ngIf"],["class","-mx-3 flex items-center rounded-lg px-3 py-2.5 text-base/7 font-semibold text-gray-900 dark:text-gray-100 hover:text-arabic-green hover:dark:text-arabic-green-light hover:bg-gray-50 hover:dark:bg-gray-800 transition-colors duration-200 cursor-pointer w-full text-left mt-2",3,"click",4,"ngIf"],["src","../../../assets/logo/Logo.svg","alt","Logo",1,"h-16","w-auto"],["src","../../../assets/logo/Logo-white.svg","alt","Logo",1,"h-16","w-auto"],["routerLink","grave/management","routerLinkActive","text-arabic-green dark:text-arabic-green-light",1,"text-sm/6","font-semibold","text-gray-900","dark:text-gray-100","hover:text-arabic-green","hover:dark:text-arabic-green-light","transition-colors","duration-200","no-underline",3,"routerLinkActiveOptions"],["aria-label","Switch language",1,"text-sm/6","font-semibold","text-gray-900","dark:text-gray-100","hover:text-arabic-green","hover:dark:text-arabic-green-light","transition-colors","flex","items-center","cursor-pointer","gap-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"],[1,"text-sm/6","font-semibold","text-gray-900","dark:text-gray-100","hover:text-arabic-green","hover:dark:text-arabic-green-light","transition-colors","duration-200","no-underline","inline-flex","items-center","cursor-pointer",3,"click"],["routerLink","/login",1,"text-sm/6","font-semibold","text-gray-900","dark:text-gray-100","hover:text-arabic-green","hover:dark:text-arabic-green-light","transition-colors","duration-200","no-underline","inline-flex","items-center"],["aria-hidden","true",1,"ml-1","rtl:rotate-180"],["id","mobile-menu-management","routerLink","grave/management","routerLinkActive","text-arabic-green dark:text-arabic-green-light bg-gray-50 dark:bg-gray-700",1,"-mx-3","block","rounded-lg","px-3","py-2","text-base/7","font-semibold","text-gray-900","dark:text-gray-100","hover:text-arabic-green","hover:dark:text-arabic-green-light","hover:bg-gray-50","hover:dark:bg-gray-700","transition-colors","duration-200","no-underline",3,"click","routerLinkActiveOptions"],["aria-label","Switch language",1,"-mx-3","flex","items-center","gap-2","rounded-lg","px-3","py-2","text-base/7","font-semibold","text-gray-900","dark:text-gray-100","hover:text-arabic-green","hover:dark:text-arabic-green-light","hover:bg-gray-50","hover:dark:bg-gray-800","transition-colors","duration-200","w-full","text-left",3,"click"],["routerLink","/login",1,"-mx-3","flex","items-center","rounded-lg","px-3","py-2.5","text-base/7","font-semibold","text-gray-900","dark:text-gray-100","hover:text-arabic-green","hover:dark:text-arabic-green-light","hover:bg-gray-50","hover:dark:bg-gray-800","transition-colors","duration-200","no-underline","mt-2",3,"click"],["aria-hidden","true",1,"ml-1"],[1,"-mx-3","flex","items-center","rounded-lg","px-3","py-2.5","text-base/7","font-semibold","text-gray-900","dark:text-gray-100","hover:text-arabic-green","hover:dark:text-arabic-green-light","hover:bg-gray-50","hover:dark:bg-gray-800","transition-colors","duration-200","cursor-pointer","w-full","text-left","mt-2",3,"click"]],template:function(o,n){o&1&&(i(0,"header",0)(1,"nav",1)(2,"div",2)(3,"a",3)(4,"span",4),l(5,"GraveNew"),r(),_(6,pn,1,0,"img",5)(7,gn,1,0,"img",6),r()(),i(8,"div",7)(9,"button",8),f("click",function(){return n.toggleMobileMenu()}),i(10,"span",4),l(11,"Open main menu"),r(),S(),i(12,"svg",9),p(13,"path",10),r()()(),C(),i(14,"div",11)(15,"a",12),l(16),c(17,"translate"),r(),i(18,"a",13),l(19),c(20,"translate"),r(),_(21,vn,4,5,"ng-container",14),r(),i(22,"div",15),_(23,fn,4,1,"button",16)(24,hn,3,3,"button",17)(25,xn,5,3,"a",18),r()(),i(26,"div",19)(27,"div",20),f("click",function(){return n.closeMobileMenu()}),r(),i(28,"div",21)(29,"div",22)(30,"a",23),f("click",function(){return n.closeMobileMenu()}),i(31,"span",4),l(32,"GraveNew"),r(),_(33,_n,1,0,"img",5)(34,bn,1,0,"img",6),r(),i(35,"button",24),f("click",function(){return n.closeMobileMenu()}),i(36,"span",4),l(37,"Close menu"),r(),S(),i(38,"svg",9),p(39,"path",25),r()()(),C(),i(40,"div",26)(41,"div",27)(42,"div",28)(43,"a",29),f("click",function(){return n.closeMobileMenu()}),l(44),c(45,"translate"),r(),i(46,"a",30),f("click",function(){return n.closeMobileMenu()}),l(47),c(48,"translate"),r(),_(49,yn,4,5,"ng-container",14),r(),i(50,"div",31),_(51,Sn,5,4,"button",32)(52,wn,5,3,"a",33)(53,Cn,3,3,"button",34),r()()()()()()),o&2&&(a(6),s("ngIf",!n.darkMode),a(),s("ngIf",n.darkMode),a(2),Ue("aria-expanded",n.isMobileMenuOpen),a(6),s("routerLinkActiveOptions",B(31,Ut)),a(),x(m(17,23,"MENU.SEARCH")),a(2),s("routerLinkActiveOptions",B(32,Me)),a(),x(m(20,25,"MENU.STORY")),a(2),s("appHasRole",B(33,$t)),a(2),s("ngIf",n.isBrowser),a(),s("ngIf",n.isLoggedIn),a(),s("ngIf",!n.isLoggedIn),a(),L("hidden",!n.isMobileMenuOpen),a(7),s("ngIf",!n.darkMode),a(),s("ngIf",n.darkMode),a(9),s("routerLinkActiveOptions",B(34,Ut)),a(),x(m(45,27,"MENU.SEARCH")),a(2),s("routerLinkActiveOptions",B(35,Me)),a(),x(m(48,29,"MENU.STORY")),a(2),s("appHasRole",B(36,$t)),a(2),s("ngIf",n.isBrowser),a(),s("ngIf",!n.isLoggedIn),a(),s("ngIf",n.isLoggedIn))},dependencies:[R,Z,T,W,ee,fe,ct,Ee],styles:[`#product-dropdown[_ngcontent-%COMP%]{transition:opacity .2s ease-out,transform .2s ease-out;opacity:0;transform:translateY(10px)}#product-dropdown[_ngcontent-%COMP%]:not(.hidden){opacity:1;transform:translateY(0)}#mobile-menu[_ngcontent-%COMP%]   .fixed.inset-y-0[_ngcontent-%COMP%]{transition:opacity .3s ease-in-out}#mobile-menu[_ngcontent-%COMP%]   .fixed.inset-y-0[_ngcontent-%COMP%]:not(.hidden){animation:_ngcontent-%COMP%_slide-in .3s forwards}@keyframes _ngcontent-%COMP%_slide-in{0%{transform:translate(100%)}to{transform:translate(0)}}.rotate-180[_ngcontent-%COMP%]{transform:rotate(180deg);transition:transform .2s ease}#mobile-menu-backdrop[_ngcontent-%COMP%]{opacity:0;transition:opacity .3s ease-in-out}#mobile-menu[_ngcontent-%COMP%]:not(.hidden)   #mobile-menu-backdrop[_ngcontent-%COMP%]{opacity:1}#mobile-menu[_ngcontent-%COMP%]:not(.hidden)   .fixed.inset-y-0.right-0[_ngcontent-%COMP%]{box-shadow:-5px 0 15px #0000001a}#menu-toggle[_ngcontent-%COMP%]:focus, #menu-toggle[_ngcontent-%COMP%]:hover{outline:none;color:var(--arabic-green)}.debug-mobile-menu-visible[_ngcontent-%COMP%]   #mobile-menu[_ngcontent-%COMP%]{display:block!important}
/*# sourceMappingURL=header.component-SST76OLM.css.map */`]})}return t})();var Yt={name:"grave-new",version:"1.0.0",scripts:{ng:"ng",start:"ng serve",build:"ng build",watch:"ng build --watch --configuration development",test:"ng test","serve:ssr:GraveNew":"node dist/grave-new/server/server.mjs"},private:!0,dependencies:{"@angular/animations":"^19.2.4","@angular/common":"^19.2.4","@angular/compiler":"^19.2.4","@angular/core":"^19.2.4","@angular/forms":"^19.2.4","@angular/google-maps":"^19.2.7","@angular/platform-browser":"^19.2.4","@angular/platform-browser-dynamic":"^19.2.4","@angular/platform-server":"^19.2.4","@angular/router":"^19.2.4","@angular/ssr":"^19.2.5","@ar-js-org/ar.js":"^3.4.7","@ngneat/reactive-forms":"^5.0.2","@ngx-translate/core":"^16.0.4","@ngx-translate/http-loader":"^16.0.1","@tailwindcss/postcss":"^4.0.14",express:"^4.18.2","file-saver":"^2.0.5",rxjs:"~7.8.0",tslib:"^2.3.0","zone.js":"~0.15.0"},devDependencies:{"@angular-devkit/build-angular":"^19.2.5","@angular/cli":"^19.2.5","@angular/compiler-cli":"^19.2.4","@types/express":"^4.17.17","@types/file-saver":"^2.0.7","@types/jasmine":"~5.1.0","@types/node":"^18.18.0",autoprefixer:"^10.4.20","jasmine-core":"~5.6.0",karma:"~6.4.0","karma-chrome-launcher":"~3.2.0","karma-coverage":"~2.2.0","karma-jasmine":"~5.1.0","karma-jasmine-html-reporter":"~2.1.0",postcss:"^8.5.3",tailwindcss:"^4.0.14",typescript:"~5.7.2"}};var Zt=(()=>{class t{translateService;currentLang="en";version=Yt.version;constructor(e){this.translateService=e}ngOnInit(){this.currentLang=this.translateService.currentLang,this.translateService.onLangChange.subscribe(e=>{this.currentLang=e.lang})}get isArabic(){return this.currentLang==="ar"}static \u0275fac=function(o){return new(o||t)(h(M))};static \u0275cmp=A({type:t,selectors:[["app-footer"]],decls:18,vars:30,consts:[[1,"bg-white","dark:bg-gray-900","border-t","border-gray-200","dark:border-gray-800","mt-8"],[1,"container","mx-auto","px-4","py-8"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","gap-4"],[1,"mb-4","md:mb-0"],[1,"text-gray-700","dark:text-gray-300","mb-2",3,"dir"],[1,"text-sm","text-gray-500","dark:text-gray-400",3,"dir"],[1,"text-xs","text-gray-400","mt-1",3,"dir"],[1,"mt-8","border-t","border-gray-200","dark:border-gray-800","pt-6"],[1,"flex","flex-wrap","justify-center","md:justify-between","gap-4"],[1,"flex","gap-4","text-sm","text-gray-600","dark:text-gray-400"],[1,"text-sm","text-gray-500","dark:text-gray-500",3,"dir"]],template:function(o,n){o&1&&(i(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),l(5),c(6,"translate"),r(),i(7,"p",5),l(8),c(9,"translate"),r(),i(10,"p",6),l(11),r()()(),i(12,"div",7)(13,"div",8),p(14,"div",9),i(15,"div",10),l(16),c(17,"translate"),r()()()()()),o&2&&(a(3),L("text-center",!0)("md:text-left",!n.isArabic)("md:text-right",n.isArabic),a(),L("rtl",n.isArabic),s("dir",n.isArabic?"rtl":"ltr"),a(),x(m(6,24,"FOOTER.COPYRIGHT")),a(2),L("rtl",n.isArabic),s("dir",n.isArabic?"rtl":"ltr"),a(),x(m(9,26,"FOOTER.TAGLINE")),a(2),L("rtl",n.isArabic),s("dir",n.isArabic?"rtl":"ltr"),a(),g(" Version: ",n.version," "),a(2),L("flex-row-reverse",n.isArabic),a(2),L("rtl",n.isArabic),s("dir",n.isArabic?"rtl":"ltr"),a(),g(" ",m(17,28,"FOOTER.DESIGNED_WITH")," "))},dependencies:[R,T,W],styles:[`[_nghost-%COMP%]   .rtl[_ngcontent-%COMP%]{font-family:var(--font-tajawal);text-align:right}[_nghost-%COMP%]   [dir=rtl][_nghost-%COMP%]   .text-center.md\\:text-left[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .text-center.md\\:text-left[_ngcontent-%COMP%]{text-align:center}@media (min-width: 768px){[_nghost-%COMP%]   [dir=rtl][_nghost-%COMP%]   .text-center.md\\:text-left[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .text-center.md\\:text-left[_ngcontent-%COMP%]{text-align:right!important}}[dir=rtl][_ngcontent-%COMP%]   .text-gray-700[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .text-gray-500[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .text-sm[_ngcontent-%COMP%]{unicode-bidi:embed}
/*# sourceMappingURL=footer.component-W5774EIQ.css.map */`]})}return t})();var Jt=(()=>{class t{translate;platformId;title="GraveNew";constructor(e,o){if(this.translate=e,this.platformId=o,e.setDefaultLang("ar"),e.use("ar"),V(this.platformId)){let n=localStorage.getItem("preferredLanguage");if(n&&["en","ar"].includes(n))e.use(n),n==="ar"?(document.documentElement.dir="rtl",document.body.classList.add("rtl")):(document.documentElement.dir="ltr",document.body.classList.remove("rtl"));else try{let v="ar";e.use(v),localStorage.setItem("preferredLanguage",v),v==="ar"?(document.documentElement.dir="rtl",document.body.classList.add("rtl")):(document.documentElement.dir="ltr",document.body.classList.remove("rtl"))}catch(v){console.warn("Error setting language from browser:",v),e.use("ar")}this.initializeDarkMode()}else e.use("ar")}initializeDarkMode(){let e=localStorage.getItem("theme");e==="dark"?document.documentElement.classList.add("dark"):e==="light"?document.documentElement.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.documentElement.classList.add("dark")}static \u0275fac=function(o){return new(o||t)(h(M),h(H))};static \u0275cmp=A({type:t,selectors:[["app-root"]],decls:15,vars:0,consts:[[1,"min-h-screen","flex","flex-col","bg-white","dark:bg-gray-900"],[1,"fixed","inset-0","pointer-events-none","overflow-hidden"],[1,"absolute","inset-x-0","top-0","transform-gpu","overflow-hidden","blur-3xl"],[1,"relative","left-[calc(50%-11rem)]","aspect-[1155/678]","w-[36.125rem]","-translate-x-1/2","rotate-[30deg]","bg-gradient-to-tr","from-emerald-400","via-arabic-green-light","to-arabic-black","opacity-30","clip-path-gradient","animate-gradient-slow","bg-animate","sm:left-[calc(50%-30rem)]","sm:w-[72.1875rem]"],[1,"absolute","right-0","top-1/4","transform-gpu","overflow-hidden","blur-3xl"],[1,"relative","aspect-[1155/678]","w-[20rem]","bg-gradient-to-bl","from-arabic-green-light","via-emerald-300","to-teal-500","opacity-25","clip-path-gradient","animate-gradient-slow","bg-animate","sm:w-[30rem]"],[1,"absolute","inset-x-0","bottom-0","transform-gpu","overflow-hidden","blur-3xl"],[1,"relative","left-[calc(50%+3rem)]","aspect-[1155/678]","w-[36.125rem]","-translate-x-1/2","bg-gradient-to-tr","from-arabic-black","via-arabic-green","to-emerald-400","opacity-30","clip-path-gradient","animate-gradient-slow","bg-animate","sm:left-[calc(50%+36rem)]","sm:w-[72.1875rem]"],[1,"absolute","left-0","bottom-1/4","transform-gpu","overflow-hidden","blur-3xl"],[1,"relative","aspect-[1155/678]","w-[20rem]","bg-gradient-to-tr","from-teal-500","via-arabic-green","to-emerald-300","opacity-25","clip-path-gradient","animate-gradient-slow","bg-animate","sm:w-[30rem]"],[1,"relative","flex","flex-col","flex-grow"],[1,"flex-grow","pt-16","text-gray-900","dark:text-gray-100"]],template:function(o,n){o&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),p(3,"div",3),r(),i(4,"div",4),p(5,"div",5),r(),i(6,"div",6),p(7,"div",7),r(),i(8,"div",8),p(9,"div",9),r()(),i(10,"div",10),p(11,"app-header"),i(12,"main",11),p(13,"router-outlet"),r(),p(14,"app-footer"),r()())},dependencies:[dt,zt,Zt],encapsulation:2})}return t})();at(Jt,Ht).catch(t=>console.error(t));
/*! Bundled license information:

@angular/common/locales/en.mjs:
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.dev/license
   *)

@angular/common/locales/fr.mjs:
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.dev/license
   *)

@angular/common/locales/ar.mjs:
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.dev/license
   *)
*/
//# sourceMappingURL=main-K4TLIQBV.js.map
